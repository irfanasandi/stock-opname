Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: VIE

; Microsoft Dynamics AX View : ERL_StockOpnameNewLoc unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  VIEW #ERL_StockOpnameNewLoc
    PROPERTIES
      Name                #ERL_StockOpnameNewLoc
      SaveDataPerCompany  #Yes
      Query               #ERL_StockOpnameNewLoc
    ENDPROPERTIES
    
    QUERY #Metadata
      PROPERTIES
        Name                #Metadata
        Version             #5
        NextUniqueId        #1001
      ENDPROPERTIES
      
      BLOCKS
      ENDBLOCKS
      QUERY #ERL_StockOpnameNewLoc
      ENDQUERY
      
    ENDQUERY
    
    FIELDS
      VIEWFIELD #InventSiteId
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #InventSiteId
          StringSize          #10
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #InventSiteId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #wMSLocationId
        PROPERTIES
          Name                #wMSLocationId
          Label               #Onhand Location
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #WMSLocationId
          StringSize          #10
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #wMSLocationId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #SumOfAvailPhysical
        PROPERTIES
          Type                #Real
          Name                #SumOfAvailPhysical
          Label               #Onhand
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #InventQtyAvailPhysical
          StringSize          #(Memo)
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #SumOfAvailPhysical
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #wMSLocationIdNew
        PROPERTIES
          Name                #wMSLocationIdNew
          Label               #Counted Location New
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #WMSLocationId
          StringSize          #10
          DataSource          #ERL_StockOpnameLines_1
          DataField           #wMSLocationIdNew
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #PhysicalQty
        PROPERTIES
          Type                #Real
          Name                #PhysicalQty
          Label               #Counted
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #ERL_StockCounted
          StringSize          #(Memo)
          DataSource          #ERL_StockOpnameLines_1
          DataField           #PhysicalQty
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ItemId
        PROPERTIES
          Name                #ItemId
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #ItemId
          StringSize          #20
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #ItemId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ERL_StatusOpnameTag
        PROPERTIES
          Type                #Enum
          Name                #ERL_StatusOpnameTag
          Label               #Status
          Table               #ERL_StockOpnameNewLoc
          EnumType            #ERL_StatusOpnameTag
          StringSize          #(Memo)
          DataSource          #ERL_StockOpname_1
          DataField           #ERL_StatusOpnameTag
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #PeriodeRecId
        PROPERTIES
          Type                #Int64
          Name                #PeriodeRecId
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #ERL_OpnamePeriodeRecId
          StringSize          #(Memo)
          DataSource          #ERL_StockOpname_1
          DataField           #PeriodeRecId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #TransDate
        PROPERTIES
          Type                #Date
          Name                #TransDate
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #JournalTransDate
          StringSize          #(Memo)
          DataSource          #ERL_StockOpnameLines_1
          DataField           #TransDate
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #OpnameRefrenceId
        PROPERTIES
          Name                #OpnameRefrenceId
          Table               #ERL_StockOpnameNewLoc
          StringSize          #25
          DataSource          #ERL_StockOpname_1
          DataField           #OpnameRefrenceId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ERL_OpnameTagId
        PROPERTIES
          Name                #ERL_OpnameTagId
          Table               #ERL_StockOpnameNewLoc
          ExtendedDataType    #ERL_OpnameTagId
          StringSize          #10
          DataSource          #ERL_StockOpnameLines_1
          DataField           #ERL_OpnameTagId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
  ENDVIEW
  

***Element: VIE

; Microsoft Dynamics AX View : ERL_StockOpnameInquiries unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  VIEW #ERL_StockOpnameInquiries
    PROPERTIES
      Name                #ERL_StockOpnameInquiries
      SaveDataPerCompany  #Yes
      Query               #ERL_StockOpnameInquiries
    ENDPROPERTIES
    
    QUERY #Metadata
      PROPERTIES
        Name                #Metadata
        Version             #4
        NextUniqueId        #1001
      ENDPROPERTIES
      
      BLOCKS
      ENDBLOCKS
      QUERY #ERL_StockOpnameInquiries
      ENDQUERY
      
    ENDQUERY
    
    FIELDS
      VIEWFIELD #InventSiteId
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #InventSiteId
          StringSize          #10
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #InventSiteId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ItemId
        PROPERTIES
          Name                #ItemId
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #ItemId
          StringSize          #20
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #ItemId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #wMSLocationId
        PROPERTIES
          Name                #wMSLocationId
          Label               #Onhand Location
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #WMSLocationId
          StringSize          #10
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #wMSLocationId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #wMsLocationId1
        PROPERTIES
          Name                #wMsLocationId1
          Label               #Counted Location
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #WMSLocationId
          StringSize          #10
          DataSource          #ERL_StockOpnameLines_1
          DataField           #wMsLocationId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #SumOfAvailPhysical
        PROPERTIES
          Type                #Real
          Name                #SumOfAvailPhysical
          Label               #Onhand
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #InventQtyAvailPhysical
          StringSize          #(Memo)
          DataSource          #ERL_OnhandStockOpname_1
          DataField           #SumOfAvailPhysical
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #PhysicalQty
        PROPERTIES
          Type                #Real
          Name                #PhysicalQty
          Label               #Counted
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #ERL_StockCounted
          StringSize          #(Memo)
          DataSource          #ERL_StockOpnameLines_1
          DataField           #PhysicalQty
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #wMSLocationIdNew
        PROPERTIES
          Name                #wMSLocationIdNew
          Label               #Counted Location New
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #WMSLocationId
          StringSize          #10
          DataSource          #ERL_StockOpnameLines_1
          DataField           #wMSLocationIdNew
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #PeriodeRecId
        PROPERTIES
          Type                #Int64
          Name                #PeriodeRecId
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #ERL_OpnamePeriodeRecId
          StringSize          #(Memo)
          DataSource          #ERL_StockOpname_1
          DataField           #PeriodeRecId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ERL_StatusOpnameTag
        PROPERTIES
          Type                #Enum
          Name                #ERL_StatusOpnameTag
          Label               #Status Tag
          Table               #ERL_StockOpnameInquiries
          EnumType            #ERL_StatusOpnameTag
          StringSize          #(Memo)
          DataSource          #ERL_StockOpname_1
          DataField           #ERL_StatusOpnameTag
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #TransDate
        PROPERTIES
          Type                #Date
          Name                #TransDate
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #JournalTransDate
          StringSize          #(Memo)
          DataSource          #ERL_StockOpnameLines_1
          DataField           #TransDate
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #OpnameRefrenceId
        PROPERTIES
          Name                #OpnameRefrenceId
          Table               #ERL_StockOpnameInquiries
          StringSize          #25
          DataSource          #ERL_StockOpname_1
          DataField           #OpnameRefrenceId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ERL_MasterWHID
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #ERL_MasterWHID
          StringSize          #20
          DataSource          #ERL_StockOpnameLines_1
          DataField           #ERL_MasterWHID
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ERL_OpnameTagId
        PROPERTIES
          Name                #ERL_OpnameTagId
          Table               #ERL_StockOpnameInquiries
          ExtendedDataType    #ERL_OpnameTagId
          StringSize          #10
          DataSource          #ERL_StockOpnameLines_1
          DataField           #ERL_OpnameTagId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
  ENDVIEW
  

***Element: VIE

; Microsoft Dynamics AX View : ERL_OnhandStockOpname unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  VIEW #ERL_OnhandStockOpname
    PROPERTIES
      Name                #ERL_OnhandStockOpname
      SaveDataPerCompany  #Yes
    ENDPROPERTIES
    
    QUERY #Metadata
      PROPERTIES
        Name                #Metadata
        Version             #109
        NextUniqueId        #1008
      ENDPROPERTIES
      
      BLOCKS
        BLOCK #InventDim
          PROPERTIES
            Name                #InventDim_1
            Table               #InventDim
            UniqueId            #1000
          ENDPROPERTIES
          
          FIELDLIST
            PROPERTIES
            ENDPROPERTIES
            
          ENDFIELDLIST
          LINES
          ENDLINES
          BLOCKS
            BLOCK #InventSum
              PROPERTIES
                Name                #InventSum_1
                Table               #InventSum
                UniqueId            #1001
              ENDPROPERTIES
              
              FIELDLIST
                PROPERTIES
                ENDPROPERTIES
                
              ENDFIELDLIST
              LINES
              ENDLINES
              BLOCKS
                BLOCK #WMSLocation
                  PROPERTIES
                    Name                #WMSLocation_1
                    Table               #WMSLocation
                    UniqueId            #1007
                  ENDPROPERTIES
                  
                  FIELDLIST
                    PROPERTIES
                    ENDPROPERTIES
                    
                  ENDFIELDLIST
                  LINES
                    LINE #ERL_Available
                    PROPERTIES
                      Name                #ERL_Available
                      Table               #WMSLocation
                      Field               #ERL_Available
                      Value               #Yes
                    ENDPROPERTIES
                    
                    LINE #wMSLocationId
                    PROPERTIES
                      Name                #wMSLocationId
                      Table               #WMSLocation
                      Field               #wMSLocationId
                      Value               #!Inb, !Out, !"", !Gen
                    ENDPROPERTIES
                    
                  ENDLINES
                  BLOCKS
                  ENDBLOCKS
                  ASSOCIATIONS
                    ASSOCIATION
                      JOINDATASOURCE #InventDim_1
                      MASTERFIELD  #InventLocationId
                      DETAILSFIELD #inventLocationId
                    ASSOCIATION
                      JOINDATASOURCE #InventDim_1
                      MASTERFIELD  #wMSLocationId
                      DETAILSFIELD #wMSLocationId
                  ENDASSOCIATIONS
                ENDBLOCK
              ENDBLOCKS
              ASSOCIATIONS
                ASSOCIATION
                  JOINDATASOURCE #InventDim_1
                  MASTERFIELD  #inventDimId
                  DETAILSFIELD #InventDimId
              ENDASSOCIATIONS
            ENDBLOCK
          ENDBLOCKS
          GROUPBY
            FIELD
              PROPERTIES
                DataSource          #InventSum_1
                Field               #ItemId
              ENDPROPERTIES
              
            FIELD
              PROPERTIES
                DataSource          #InventDim_1
                Field               #wMSLocationId
              ENDPROPERTIES
              
            FIELD
              PROPERTIES
                DataSource          #InventDim_1
                Field               #InventSiteId
              ENDPROPERTIES
              
          ENDGROUPBY
          ORDERBY
          ENDORDERBY
        ENDBLOCK
      ENDBLOCKS
    ENDQUERY
    
    FIELDS
      VIEWFIELD #InventSiteId
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_OnhandStockOpname
          ExtendedDataType    #InventSiteId
          StringSize          #10
          DataSource          #InventDim_1
          DataField           #InventSiteId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #wMSLocationId
        PROPERTIES
          Name                #wMSLocationId
          Table               #ERL_OnhandStockOpname
          ExtendedDataType    #WMSLocationId
          StringSize          #10
          DataSource          #InventDim_1
          DataField           #wMSLocationId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #ItemId
        PROPERTIES
          Name                #ItemId
          Table               #ERL_OnhandStockOpname
          ExtendedDataType    #ItemId
          StringSize          #20
          DataSource          #InventSum_1
          DataField           #ItemId
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
      VIEWFIELD #SumOfAvailPhysical
        PROPERTIES
          Type                #Real
          Name                #SumOfAvailPhysical
          Table               #ERL_OnhandStockOpname
          ExtendedDataType    #InventQtyAvailPhysical
          StringSize          #(Memo)
          DataSource          #InventSum_1
          DataField           #AvailPhysical
          Aggregation         #Sum
        ENDPROPERTIES
        
      ENDVIEWFIELD
      
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
  ENDVIEW
  

***Element: QUE

; Microsoft Dynamics AX Query: ERL_StockOpnameNewLoc unloaded
; --------------------------------------------------------------------------------
VERSION 18

QUERY #ERL_StockOpnameNewLoc
  PROPERTIES
    Name                #ERL_StockOpnameNewLoc
    Version             #417
    NextUniqueId        #1028
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class QueryRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  BLOCKS
    BLOCK #ERL_OnhandStockOpname
      PROPERTIES
        Name                #ERL_OnhandStockOpname_1
        Table               #ERL_OnhandStockOpname
        UniqueId            #1024
      ENDPROPERTIES
      
      FIELDLIST
        PROPERTIES
        ENDPROPERTIES
        
      ENDFIELDLIST
      SORTING
      ENDSORTING
      LINES
      ENDLINES
      BLOCKS
        BLOCK #ERL_StockOpnameLines
          PROPERTIES
            Name                #ERL_StockOpnameLines_1
            Table               #ERL_StockOpnameLines
            UniqueId            #1025
            JoinMode            #OuterJoin
          ENDPROPERTIES
          
          FIELDLIST
            PROPERTIES
            ENDPROPERTIES
            
          ENDFIELDLIST
          SORTING
          ENDSORTING
          LINES
          ENDLINES
          BLOCKS
            BLOCK #ERL_StockOpname
              PROPERTIES
                Name                #ERL_StockOpname_1
                Table               #ERL_StockOpname
                UniqueId            #1026
                JoinMode            #OuterJoin
              ENDPROPERTIES
              
              FIELDLIST
                PROPERTIES
                ENDPROPERTIES
                
              ENDFIELDLIST
              SORTING
              ENDSORTING
              LINES
              ENDLINES
              BLOCKS
                BLOCK #ERL_WHStockOpname
                  PROPERTIES
                    Name                #ERL_WHStockOpname_1
                    Table               #ERL_WHStockOpname
                    UniqueId            #1027
                    FirstOnly           #Yes
                    FetchMode           #1:1
                    JoinMode            #ExistsJoin
                  ENDPROPERTIES
                  
                  FIELDLIST
                    PROPERTIES
                    ENDPROPERTIES
                    
                  ENDFIELDLIST
                  SORTING
                  ENDSORTING
                  LINES
                  ENDLINES
                  BLOCKS
                  ENDBLOCKS
                  ASSOCIATIONS
                    ASSOCIATION
                      JOINDATASOURCE #ERL_StockOpname_1
                      MASTERFIELD  #InventSiteId
                      DETAILSFIELD #InventSiteId
                    ASSOCIATION
                      JOINDATASOURCE #ERL_StockOpnameLines_1
                      MASTERFIELD  #ERL_MasterWHID
                      DETAILSFIELD #ERL_MasterWHID
                  ENDASSOCIATIONS
                ENDBLOCK
              ENDBLOCKS
              ASSOCIATIONS
                ASSOCIATION
                  JOINDATASOURCE #ERL_StockOpnameLines_1
                  MASTERFIELD  #OpnameRefrenceId
                  DETAILSFIELD #OpnameRefrenceId
              ENDASSOCIATIONS
            ENDBLOCK
          ENDBLOCKS
          ASSOCIATIONS
            ASSOCIATION
              JOINDATASOURCE #ERL_OnhandStockOpname_1
              MASTERFIELD  #ItemId
              DETAILSFIELD #ItemId
            ASSOCIATION
              JOINDATASOURCE #ERL_OnhandStockOpname_1
              MASTERFIELD  #wMSLocationId
              DETAILSFIELD #wMSLocationIdNew
          ENDASSOCIATIONS
        ENDBLOCK
      ENDBLOCKS
      GROUPBY
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #InventSiteId
          ENDPROPERTIES
          
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #wMSLocationId
          ENDPROPERTIES
          
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #ItemId
          ENDPROPERTIES
          
      ENDGROUPBY
      ORDERBY
      ENDORDERBY
    ENDBLOCK
  ENDBLOCKS
  DEPENDENTS
    DEPENDENT
      PROPERTIES
        Name                #ERL_StockOpnameNewLoc
        DependentType       #View
      ENDPROPERTIES
      
      Id 51462
  ENDDEPENDENTS
  COMPOSITEQUERIES
  ENDCOMPOSITEQUERIES
ENDQUERY


***Element: QUE

; Microsoft Dynamics AX Query: ERL_StockOpnameInquiries unloaded
; --------------------------------------------------------------------------------
VERSION 18

QUERY #ERL_StockOpnameInquiries
  PROPERTIES
    Name                #ERL_StockOpnameInquiries
    Version             #366
    NextUniqueId        #1024
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class QueryRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  BLOCKS
    BLOCK #ERL_OnhandStockOpname
      PROPERTIES
        Name                #ERL_OnhandStockOpname_1
        Table               #ERL_OnhandStockOpname
        UniqueId            #1018
      ENDPROPERTIES
      
      FIELDLIST
        PROPERTIES
        ENDPROPERTIES
        
      ENDFIELDLIST
      SORTING
      ENDSORTING
      LINES
        LINE #InventSiteId
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_OnhandStockOpname
          Field               #InventSiteId
        ENDPROPERTIES
        
      ENDLINES
      BLOCKS
        BLOCK #ERL_StockOpnameLines
          PROPERTIES
            Name                #ERL_StockOpnameLines_1
            Table               #ERL_StockOpnameLines
            UniqueId            #1019
            JoinMode            #OuterJoin
          ENDPROPERTIES
          
          FIELDLIST
            PROPERTIES
            ENDPROPERTIES
            
          ENDFIELDLIST
          SORTING
          ENDSORTING
          LINES
          ENDLINES
          BLOCKS
            BLOCK #ERL_StockOpname
              PROPERTIES
                Name                #ERL_StockOpname_1
                Table               #ERL_StockOpname
                UniqueId            #1021
                JoinMode            #OuterJoin
              ENDPROPERTIES
              
              FIELDLIST
                PROPERTIES
                ENDPROPERTIES
                
              ENDFIELDLIST
              SORTING
              ENDSORTING
              LINES
              ENDLINES
              BLOCKS
                BLOCK #ERL_WHStockOpname
                  PROPERTIES
                    Name                #ERL_WHStockOpname_1
                    Table               #ERL_WHStockOpname
                    UniqueId            #1023
                    FirstOnly           #Yes
                    FetchMode           #1:1
                    Relations           #Yes
                  ENDPROPERTIES
                  
                  FIELDLIST
                    PROPERTIES
                    ENDPROPERTIES
                    
                  ENDFIELDLIST
                  SORTING
                  ENDSORTING
                  LINES
                  ENDLINES
                  BLOCKS
                  ENDBLOCKS
                  ASSOCIATIONS
                  ENDASSOCIATIONS
                ENDBLOCK
              ENDBLOCKS
              ASSOCIATIONS
                ASSOCIATION
                  JOINDATASOURCE #ERL_StockOpnameLines_1
                  MASTERFIELD  #OpnameRefrenceId
                  DETAILSFIELD #OpnameRefrenceId
              ENDASSOCIATIONS
            ENDBLOCK
          ENDBLOCKS
          ASSOCIATIONS
            ASSOCIATION
              JOINDATASOURCE #ERL_OnhandStockOpname_1
              MASTERFIELD  #wMSLocationId
              DETAILSFIELD #wMsLocationId
            ASSOCIATION
              JOINDATASOURCE #ERL_OnhandStockOpname_1
              MASTERFIELD  #ItemId
              DETAILSFIELD #ItemId
          ENDASSOCIATIONS
        ENDBLOCK
      ENDBLOCKS
      GROUPBY
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #InventSiteId
          ENDPROPERTIES
          
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #ItemId
          ENDPROPERTIES
          
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #wMSLocationId
          ENDPROPERTIES
          
      ENDGROUPBY
      ORDERBY
        FIELD
          PROPERTIES
            DataSource          #ERL_OnhandStockOpname_1
            Field               #ItemId
          ENDPROPERTIES
          
      ENDORDERBY
    ENDBLOCK
  ENDBLOCKS
  DEPENDENTS
    DEPENDENT
      PROPERTIES
        Name                #ERL_StockOpnameInquiries
        DependentType       #View
      ENDPROPERTIES
      
      Id 51461
  ENDDEPENDENTS
  COMPOSITEQUERIES
  ENDCOMPOSITEQUERIES
ENDQUERY


***Element: CLS

; Microsoft Dynamics AX Class: ERL_TransferInventory unloaded
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #ERL_TransferInventory
    PROPERTIES
      Name                #ERL_TransferInventory
      Extends             #
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class ERL_TransferInventory
        #{
        #    args                    args;
        #    ERL_OnhandStockOpname   _onhand;
        #    ERL_StockOpnameLines    lines;
        #
        #}
      ENDSOURCE
      SOURCE #parmArgs
        #public Args parmArgs(args _args=args)
        #{
        #    ;
        #    args = _args;
        #
        #    return args;
        #
        #}
      ENDSOURCE
      SOURCE #TransferProcess
        #void TransferProcess()
        #{
        #    ;
        #    lines = args.record();
        #    info(strfmt('%1', lines.wMSLocationId));
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    ERL_TransferInventory   cls = new ERL_TransferInventory();
        #    cls.parmArgs();
        #    cls.TransferProcess();
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: ERL_CancelStockOpname unloaded
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #ERL_CancelStockOpname
    PROPERTIES
      Name                #ERL_CancelStockOpname
      Extends             #
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class ERL_CancelStockOpname
        #{
        #    args                    args;
        #    ERL_StockOpname         header;
        #    ERL_StockOpnameLines    lines;
        #
        #}
      ENDSOURCE
      SOURCE #parmArgs
        #public Args parmArgs(Args _args = args)
        #{
        #    ;
        #    args = _args;
        #
        #    return args;
        #}
      ENDSOURCE
      SOURCE #rejectTag
        #void rejectTag()
        #{
        #    if(box::yesNo("Anda akan mengubah status tag menjadi cancel, Reject tag ?",dialogbutton::No,"Confirmation Cancel Tag","Confirmation Cancel Tag") == dialogbutton::Yes)
        #    {
        #        ttsbegin;
        #        try
        #        {
        #            update_recordset header setting ERL_StatusOpnameTag = ERL_StatusOpnameTag::Cancel
        #            where header.RecId == args.record().RecId;
        #
        #            ttscommit;
        #
        #        }
        #        catch
        #        {
        #            ttsabort;
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    Dimension       bu;
        #
        #    ERL_CancelStockOpname cls = new ERL_CancelStockOpname();
        #    cls.parmArgs(args);
        #    cls.rejectTag();
        #
        #    args.caller().doRefresh();
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: CLS

; Microsoft Dynamics AX Class: ERL_TransferStockOpname unloaded
; --------------------------------------------------------------------------------
  CLSVERSION 1
  
  CLASS #ERL_TransferStockOpname
    PROPERTIES
      Name                #ERL_TransferStockOpname
      Extends             #
      RunOn               #Called from
    ENDPROPERTIES
    
    METHODS
      Version: 3
      SOURCE #classDeclaration
        #class ERL_TransferStockOpname
        #{
        #    args                    args;
        #    ERL_WHStockOpname       whstock;
        #    ERL_StockOpnameTemp     temp;
        #    ERL_OpnamePeriodeEvent  periode;
        #    ERL_OpnameUserGroup     OPgroup;
        #    erl_stockopnamelines    lines;
        #    erl_stockopname         header, headerUpd;
        #    InventSUm               iSum;
        #    inventDim               iDim;
        #}
      ENDSOURCE
      SOURCE #clearTemp
        #void clearTemp()
        #{
        #    delete_from temp where temp.createdBy == curuserid();
        #}
      ENDSOURCE
      SOURCE #createJournal
        #void createJournal(ERL_OpnameTagNum start,
        #                   ERL_OpnameTagNum end,
        #                   NoyesId          sampling = noyes::No)
        #{
        #
        #    InventJournalTable      ijTable;
        #    Dimension1              bu;
        #    InventJournalNameId     name;
        #    InventJournalId         Material, NonMaterial, TdkSelisih;
        #    InventJournalName       ijName;
        #    Description             Description, noTag="";
        #    ;
        #
        #    bu = sysuserinfo::find(curuserid()).Dimension1;
        #    if(sampling == noyes::Yes)
        #    {
        #        name = strfmt("%1-SS", bu);
        #    }
        #    else
        #    {
        #        name = strfmt('%1-OP', bu);
        #        noTag = strfmt(',No.Tag %1-%2', start, end);
        #    }
        #
        #    select firstfast firstonly ijName where ijname.JournalNameId == name;
        #
        #    ijtable.JournalType = inventJournaltype::Count;
        #    ijtable.JournalNameId = name;
        #    ijtable.Reservation = ItemReservation::Automatic;
        #    ijTable.VoucherChange = ijname.VoucherChange;
        #    ijTable.VoucherDraw = ijName.VoucherDraw;
        #    ijTable.VoucherSeqId = ijName.VoucherSeqId;
        #
        #    select firstfast firstonly temp where temp.createdBy == curuserid()
        #        && temp.ERL_JournalStatus == erl_journalstatus::NonMateral;
        #
        #    if(temp) {
        #        NonMaterial = JournalTableData::newTable(ijtable).nextJournalId();
        #        ijtable.JournalId = NonMaterial;
        #        ijtable.Description = strfmt('%3-%1(%2),SNM%4', temp.OpnamePeriode, opgroup.Description,ijName.Description, noTag);
        #        ijtable.insert();
        #        info(strfmt('Berhasil menambahkan, dengan nomor jurnal %1', NonMaterial));
        #    }
        #
        #    select firstfast firstonly temp where temp.createdBy == curuserid()
        #        && temp.ERL_JournalStatus == ERL_JournalStatus::Material;
        #    if(temp){
        #        Material = JournalTableData::newTable(ijtable).nextJournalId();
        #        ijtable.JournalId = Material;
        #        ijtable.Description = strfmt('%3-%1(%2),SM%4', temp.OpnamePeriode, opgroup.Description,ijName.Description, noTag);
        #        ijtable.insert();
        #        info(strfmt('Berhasil menambahkan, dengan nomor jurnal %1', Material));
        #
        #    }
        #
        #    select firstfast firstonly temp where temp.createdBy == curuserid()
        #        && temp.ERL_JournalStatus == ERL_JournalStatus::TidakSelisih;
        #    if(temp){
        #        TdkSelisih = JournalTableData::newTable(ijtable).nextJournalId();
        #        ijtable.JournalId = TdkSelisih;
        #        ijtable.Description = strfmt('%3-%1(%2),TS%4', temp.OpnamePeriode, opgroup.Description,ijName.Description, noTag);
        #        ijtable.insert();
        #        info(strfmt('Berhasil menambahkan, dengan nomor jurnal %1', TdkSelisih));
        #    }
        #
        #    this.transferIJTrans(NonMaterial, Material, TdkSelisih);
        #}
      ENDSOURCE
      SOURCE #insertToIJTable
        #void insertToIJTable()
        #{
        #
        #}
      ENDSOURCE
      SOURCE #parmArgs
        #public Args parmArgs(Args _args = args)
        #{
        #    ;
        #    args = _args;
        #
        #    return args;
        #}
      ENDSOURCE
      SOURCE #transferIJTrans
        #void transferIJTrans(InventJournalID  NonMaterial,
        #                   InventJournalId  Material,
        #                   InventJournalId  TdkSelisih)
        #{
        #    inventJournalTrans      ijTrans;
        #    int     numlineM=1, numlineNM=1, numlineTS=1;
        #    ;
        #
        #    while select temp where temp.createdBy == curuserid() && temp.ERL_JournalStatus != erl_journalstatus::None {
        #        if(temp.ERL_JournalStatus == erl_journalstatus::Material) {
        #            ijtrans.JournalId = Material;
        #            ijtrans.LineNum = numlineM;
        #            numlineM++;
        #        }
        #        else if(temp.ERL_JournalStatus == erl_journalstatus::NonMateral){
        #            ijtrans.JournalId = NonMaterial;
        #            ijtrans.LineNum = numlineNM;
        #            numlineNM++;
        #        }
        #        else if(temp.ERL_JournalStatus == erl_journalstatus::TidakSelisih){
        #            ijtrans.JournalId = TdkSelisih;
        #            ijtrans.LineNum = numlineTS;
        #            numlineTS++;
        #        }
        #
        #        ijtrans.ItemId = temp.ItemId;
        #        ijtrans.InventDimId = temp.InventDimId;
        #        ijtrans.InventOnHand = temp.InventOnHand;
        #        ijtrans.Counted = temp.PhysicalQty;
        #        //ijtrans.Qty = temp.InventQty;
        #        ijtrans.TransDate = temp.TransDate;
        #        ijtrans.Dimension = temp.Dimension;
        #        ijtrans.JournalType = inventJournalType::Count;
        #        ijtrans.insert(NoYes::Yes);
        #    }
        #
        #    this.clearTemp();
        #
        #    //update numoflines di journal
        #    if(nonMaterial)
        #        this.updateNumlines(nonMaterial, numlineNM-1);
        #    if(Material)
        #        this.updateNumlines(Material, numlineM-1);
        #    if(TdkSelisih)
        #        this.updateNumlines(TdkSelisih, numlineTS-1);
        #}
      ENDSOURCE
      SOURCE #transferTemp
        #public void transferTemp()
        #{
        #    InventQtyAvailPhysical  onhand, invQty, hitung;
        #    ERL_JournalStatus       status;
        #    Description             opnamePeriode;
        #    ERL_OpnameStatus        OPstatus;
        #    boolean                 lokasi = true;
        #    ItemCategoryId          category;
        #    Inventdimid             Inventdimid;
        #    int                     start, end;
        #    ;
        #
        #    if(box::okCancel("Anda yakin akan transfer ?",dialogbutton::Cancel, "Transfer") == dialogButton::Ok)
        #    {
        #        //insert into temp
        #        header = args.record();
        #        start = header.TagNumberStart;
        #        end = header.TagNumberEnd;
        #        select firstfast firstonly periode where periode.RecId == header.PeriodeRecId;
        #        opnamePeriode = periode.Description;
        #
        #        select firstfast firstonly OPgroup where opgroup.RecId == header.GroupRecId;
        #
        #        ttsbegin;
        #        while select forupdate lines
        #            where lines.OpnameRefrenceId == header.OpnameRefrenceId
        #            && lines.ERL_JournalStatus == erl_journalstatus::None
        #        {
        #            if(lines.wMsLocationId != '') {
        #                while select whstock order by whstock.InventLocationId desc where lines.ERL_MasterWHID == whstock.ERL_MasterWHID
        #                {
        #                    select iDim where idim.InventLocationId == whstock.InventLocationId //cari inventdim
        #                        && idim.wMSLocationId == lines.wMSLocationId;
        #                    inventdimid = idim.inventDimId;
        #                    if(inventDimId != ''){
        #                        select isum where isum.InventDimId == inventDimId //inventdim & itemid
        #                            && isum.ItemId == lines.ItemId;
        #                        onhand += isum.AvailPhysical;
        #                    }else {
        #                        lokasi = false;
        #                        this.clearTemp();
        #                        throw error(strfmt("Lokasi %2 tidak ditemukan di gudang %1. Silahkan edit terlebih dahulu.", whstock.InventLocationId, lines.wMSLocationId));
        #                    }
        #                    inventdimid = '';
        #                }
        #
        #                invQty = lines.PhysicalQty - onhand;
        #
        #                //pisah journal status
        #                hitung = abs(invQty);
        #                if(hitung == 0) {
        #                    status = erl_journalstatus::TidakSelisih;
        #                } else {
        #                    category = inventtable::find(isum.ItemId).AGR_ItemCategoryId;
        #                    select firstfast firstonly OPstatus
        #                        where opstatus.ItemCategoryId == category
        #                        && opstatus.Dimension1 == SysUserInfo::find(curuserid()).Dimension1;
        #                    if(opstatus){
        #                        if(hitung >= opstatus.Material)
        #                            status = erl_journalStatus::Material;
        #                        else
        #                            status = erl_journalStatus::NonMateral;
        #                    } else {
        #                        if(category == 'BUPEL'){
        #                            if(hitung >= 25){
        #                                status = erl_journalstatus::Material;
        #                            } else {
        #                                status = erl_journalstatus::NonMateral;
        #                            }
        #                        } else {
        #                            if(hitung >= 5){
        #                                status = erl_journalstatus::Material;
        #                            } else {
        #                                status = erl_journalstatus::NonMateral;
        #                            }
        #                        }
        #                    }
        #                }
        #
        #                if(status != erl_journalStatus::None){
        #                    temp.ItemId = lines.ItemId;
        #                    temp.PhysicalQty = lines.PhysicalQty;
        #                    //temp.ERL_MasterWHID = lines.ERL_MasterWHID;
        #                    temp.AdminId = lines.AdminId;
        #                    //temp.wMSLocationId = lines.wMSLocationId;
        #                    temp.erl_journalStatus = status;
        #                    //temp.OpnameRefrenceId = lines.OpnameRefrenceId;
        #                    //temp.ERL_OpnameTagId = lines.ERL_OpnameTagId;
        #                    temp.TransDate = lines.TransDate;
        #                    temp.InventDimId = idim.inventDimId;
        #                    //temp.InventQty = invQty;
        #                    temp.InventOnHand = onhand;
        #                    temp.OpnamePeriode = opnamePeriode;
        #                    temp.Dimension = opgroup.Dimension;
        #                    temp.insert();
        #                }
        #
        #                //update lines
        #                onhand = 0;
        #                lines.ERL_JournalStatus = status;
        #                lines.update();
        #            } else {
        #                warning(strfmt('Transfer inventory item %1 terlebih dahulu.' , lines.ItemId));
        #            }
        #
        #        }
        #        ttscommit;
        #
        #        //update header
        #        if(erl_transferstockopname::cekWmsLocation(header.OpnameRefrenceId)) {
        #            update_recordset headerUpd
        #            setting ERL_StatusOpnameTag = ERL_statusOpnametag::Transferred
        #            where headerUpd.RecId == header.RecId;
        #        }
        #
        #        this.createJournal(start, end, periode.Sampling);
        #        if(lokasi)
        #            args.caller().doRefresh();
        #    }
        #}
      ENDSOURCE
      SOURCE #transferTempJakarta
        #void transferTempJakarta()
        #{
        #    InventQtyAvailPhysical  onhand, invQty, hitung, counted, onhandsum, hasil, sumOnhand;
        #    ERL_JournalStatus       status;
        #    Description             opnamePeriode;
        #    ERL_OpnameStatus        OPstatus;
        #    boolean                 lokasi = true;
        #    ItemCategoryId          category;
        #    int                     start, end;
        #    AGR_itemgrade           grade;
        #    InventDimId             InventDimId;
        #    InventLocationId        InventLocationIdGrade;
        #    ERL_GradeStockOpname    gradeWH;
        #    ERL_WHStockOpname       whstockOpname;
        #    ;
        #
        #    if(box::okCancel("Anda yakin akan transfer ?",dialogbutton::Cancel, "Transfer") == dialogButton::Ok)
        #    {
        #        //insert into temp
        #        header = args.record();
        #        start = header.TagNumberStart;
        #        end = header.TagNumberEnd;
        #        select firstfast firstonly periode where periode.RecId == header.PeriodeRecId;
        #        opnamePeriode = periode.Description;
        #
        #        select firstfast firstonly OPgroup where opgroup.RecId == header.GroupRecId;
        #
        #        ttsbegin;
        #        while select forupdate lines
        #            where lines.OpnameRefrenceId == header.OpnameRefrenceId
        #            && lines.ERL_JournalStatus == erl_journalstatus::None
        #        {
        #            if(lines.wMsLocationId != '')
        #            {
        #                category = inventtable::find(lines.ItemId).AGR_ItemCategoryId;
        #                //grade WH
        #                grade = InventTable::find(lines.ItemId).AGR_ItemGrade;
        #                select firstfast firstonly gradeWH where gradeWH.AGR_ItemGrade == grade && gradeWH.InventSiteId == '51';
        #                InventLocationIdGrade = gradeWH.InventLocationId;
        #
        #                while select whstock where lines.ERL_MasterWHID == whstock.ERL_MasterWHID
        #                {
        #                    select iDim where idim.InventLocationId == whstock.InventLocationId //cari inventdim
        #                        && idim.wMSLocationId == lines.wMSLocationId;
        #                    if(idim)
        #                    {
        #                        select isum where isum.InventDimId == idim.inventDimId //inventdim & itemid
        #                            && isum.ItemId == lines.ItemId;
        #                        onhandsum += isum.AvailPhysical;
        #                        if(whstock.InventLocationId != InventLocationIdGrade)
        #                            sumOnhand += isum.availPhysical;
        #                    }
        #                }
        #
        #                counted = lines.PhysicalQty;
        #                hitung = abs(lines.PhysicalQty - onhandsum);
        #
        #                select firstfast firstonly OPstatus
        #                                    where opstatus.ItemCategoryId == category
        #                                    && opstatus.Dimension1 == SysUserInfo::find(curuserid()).Dimension1;
        #
        #                while select whstock where lines.ERL_MasterWHID == whstock.ERL_MasterWHID
        #                {
        #                    select iDim where idim.InventLocationId == whstock.InventLocationId //cari inventdim
        #                        && idim.wMSLocationId == lines.wMSLocationId;
        #                    if(idim)
        #                    {
        #                        select isum where isum.InventDimId == idim.inventDimId //inventdim & itemid
        #                            && isum.ItemId == lines.ItemId;
        #
        #                        onhand = isum.AvailPhysical;
        #
        #                        if(hitung == 0)
        #                        {
        #                            status = erl_journalStatus::TidakSelisih;
        #                            hasil = onhand;
        #                        }
        #                        else
        #                        {
        #                            if(whstock.InventLocationId == InventLocationIdGrade)
        #                            {
        #                                if(lines.PhysicalQty - sumonhand > 0)
        #                                {
        #                                    hasil = lines.PhysicalQty - sumonhand;
        #                                }
        #                                else
        #                                {
        #                                    if(counted  < 0)
        #                                    {
        #                                        hasil = 0;
        #                                    }
        #                                    else if(counted < onhand)
        #                                    {
        #                                        hasil = counted;
        #                                    }
        #                                    else
        #                                    {
        #                                        hasil = onhand;
        #                                    }
        #                                }
        #                            }
        #                            else
        #                            {
        #                                if(counted  < 0)
        #                                {
        #                                    hasil = 0;
        #                                }
        #                                else if(counted < onhand)
        #                                {
        #                                    hasil = counted;
        #                                }
        #                                else
        #                                {
        #                                    hasil = onhand;
        #                                }
        #                            }
        #
        #                            if(opStatus)
        #                            {
        #                                if(hasil-onhand == 0)
        #                                    status = erl_journalStatus::TidakSelisih;
        #                                else if(abs(hasil-onhand) >= opstatus.Material)
        #                                    status = erl_journalStatus::Material;
        #                                else
        #                                    status = erl_journalStatus::NonMateral;
        #                            }
        #                            else
        #                            {
        #                                throw warning('Anda harus mengatur maksimal toleransi selisih');
        #                            }
        #
        #                        }
        #
        #                        if(status != erl_journalStatus::None)
        #                        {
        #                            temp.ItemId = lines.ItemId;
        #                            temp.PhysicalQty = hasil;
        #                            temp.AdminId = lines.AdminId;
        #                            temp.erl_journalStatus = status;
        #                            temp.TransDate = lines.TransDate;
        #                            temp.InventDimId = idim.inventDimId;
        #                            temp.InventOnHand = onhand;
        #                            //temp.InventQty = hasil-onhand;
        #                            temp.OpnamePeriode = opnamePeriode;
        #                            temp.Dimension = opgroup.Dimension;
        #                            temp.insert();
        #                        }
        #                    }
        #                    else
        #                    {
        #                        warning(strfmt("Lokasi %2 tidak ditemukan di gudang %1. Silahkan transfer terlebih dahulu.", whstock.InventLocationId, lines.wMSLocationId));
        #                        lokasi = false;
        #                    }
        #
        #                    counted -= hasil;
        #                }
        #
        #                onhand = 0;
        #                onhandsum = 0;
        #                sumonhand = 0;
        #
        #                //update lines
        #                if(hitung == 0)
        #                    lines.ERL_JournalStatus = erl_journalStatus::TidakSelisih;
        #                else if(hitung >= opstatus.Material)
        #                    lines.ERL_JournalStatus = erl_journalStatus::Material;
        #                else
        #                    lines.ERL_JournalStatus = erl_journalStatus::NonMateral;
        #                lines.update();
        #
        #            } else {
        #                warning(strfmt('Transfer inventory item %1 terlebih dahulu.' , lines.ItemId));
        #            }
        #        }
        #        ttscommit;
        #
        #        //update header
        #        if(erl_transferstockopname::cekWmsLocation(header.OpnameRefrenceId)) {
        #            update_recordset headerUpd
        #            setting ERL_StatusOpnameTag = ERL_statusOpnametag::Transferred
        #            where headerUpd.RecId == header.RecId;
        #        }
        #
        #        this.createJournal(start, end, periode.Sampling);
        #        if(lokasi)
        #            args.caller().doRefresh();
        #    }
        #}
      ENDSOURCE
      SOURCE #transferTempMultiWH
        #public void transferTempMultiWH()
        #{
        #    InventQtyAvailPhysical  onhand, invQty, hitung, bagi, counted, hasil;
        #    ERL_JournalStatus       status;
        #    Description             opnamePeriode;
        #    ERL_OpnameStatus        OPstatus;
        #    boolean                 lokasi = true;
        #    ItemCategoryId          category;
        #    int                     i;
        #    ERL_WHStockOpname       whstockOpname;
        #    ;
        #
        #    if(box::okCancel("Anda yakin akan transfer ?",dialogbutton::Cancel, "Transfer") == dialogButton::Ok)
        #    {
        #        //insert into temp
        #        header = args.record();
        #        select firstfast firstonly periode where periode.RecId == header.PeriodeRecId;
        #        opnamePeriode = periode.Description;
        #
        #        select firstfast firstonly OPgroup where opgroup.RecId == header.GroupRecId;
        #
        #        ttsbegin;
        #        while select lines
        #            where lines.OpnameRefrenceId == header.OpnameRefrenceId && lines.ERL_JournalStatus == erl_journalstatus::None
        #        {
        #            category = inventtable::find(lines.ItemId).AGR_ItemCategoryId;
        #            i = 1;
        #            counted = lines.PhysicalQty;
        #            select count(recid) from whstockOpname where whstockOpname.ERL_MasterWHID == lines.ERL_MasterWHID;
        #            while select whstock where lines.ERL_MasterWHID == whstock.ERL_MasterWHID
        #            {
        #                bagi = decRound(lines.PhysicalQty/whstockopname.RecId, 0);
        #                hasil = bagi;
        #                if(i == whstockopname.RecId){
        #                    hasil = counted;
        #                }else {
        #                    counted -= bagi;
        #                }
        #                select iDim where idim.InventLocationId == whstock.InventLocationId //cari inventdim
        #                    && idim.wMSLocationId == lines.wMSLocationId;
        #                if(idim)
        #                {
        #                    select isum where isum.InventDimId == idim.inventDimId //inventdim & itemid
        #                        && isum.ItemId == lines.ItemId;
        #
        #                    onhand = isum.AvailPhysical;
        #                    hitung = abs(invQty);
        #                    if(hitung == 0)
        #                    {
        #                        status = erl_journalStatus::TidakSelisih;
        #                    }
        #                    else
        #                    {
        #                        select firstfast firstonly OPstatus
        #                            where opstatus.ItemCategoryId == category
        #                            && opstatus.Dimension1 == SysUserInfo::find(curuserid()).Dimension1;
        #                        if(opstatus){
        #                            if(hitung >= opstatus.Material)
        #                                status = erl_journalStatus::Material;
        #                            else
        #                                status = erl_journalStatus::NonMateral;
        #                        }
        #                        else
        #                        {
        #                            if(category == 'BUPEL'){
        #                                if(hitung >= 25){
        #                                    status = erl_journalstatus::Material;
        #                                } else {
        #                                    status = erl_journalstatus::NonMateral;
        #                                }
        #                            } else {
        #                                if(hitung >= 5){
        #                                    status = erl_journalstatus::Material;
        #                                } else {
        #                                    status = erl_journalstatus::NonMateral;
        #                                }
        #                            }
        #                        }
        #                    }
        #
        #                    if(status != erl_journalStatus::None){
        #                        temp.ItemId = lines.ItemId;
        #                        temp.PhysicalQty = invQty == 0 ? onhand : hasil;
        #                        temp.AdminId = lines.AdminId;
        #                        temp.erl_journalStatus = status;
        #                        temp.TransDate = lines.TransDate;
        #                        temp.InventDimId = idim.inventDimId;
        #                        temp.InventOnHand = onhand;
        #                        temp.OpnamePeriode = opnamePeriode;
        #                        temp.Dimension = opgroup.Dimension;
        #                        temp.insert();
        #                    }
        #                }else {
        #                    warning(strfmt("Lokasi %2 tidak ditemukan di gudang %1. Silahkan transfer terlebih dahulu.", whstock.InventLocationId, lines.wMSLocationId));
        #                    lokasi = false;
        #                }
        #                i++;
        #            }
        #
        #            //update lines
        #            onhand = 0;
        #            lines.ERL_JournalStatus = status;
        #            lines.update();
        #
        #        }
        #        ttscommit;
        #
        #        //update header
        #        if(erl_transferstockopname::cekWmsLocation(header.OpnameRefrenceId)) {
        #            update_recordset headerUpd
        #            setting ERL_StatusOpnameTag = ERL_statusOpnametag::Transferred
        #            where headerUpd.RecId == header.RecId;
        #        }
        #     this.createJournal(header.TagNumberStart, header.TagNumberEnd, periode.Sampling);
        #
        #     if(lokasi)
        #        args.caller().doRefresh();
        #
        #
        #    }
        #}
      ENDSOURCE
      SOURCE #updateNumlines
        #void updateNumlines(InventJournalId  journalID, int lineNum)
        #{
        #    InventJournalTable      ijTable;
        #    ;
        #
        #    update_recordset ijtable setting numOfLines = linenum
        #    where ijtable.JournalId == journalID;
        #}
      ENDSOURCE
      SOURCE #cekLines
        #public static boolean cekLines(ERL_OpnameRefrenceId     refId)
        #{
        #    ERL_StockOpnameLines    lines;
        #    ;
        #
        #    while select lines where lines.OpnameRefrenceId == refId {
        #        if(lines.ERL_JournalStatus == erl_journalstatus::None)
        #            return true;
        #    }
        #    return false;
        #}
      ENDSOURCE
      SOURCE #cekWmsLocation
        #public static boolean cekWmsLocation(ERL_OpnameRefrenceId refId)
        #{
        #    ERL_StockOpnameLines    lines;
        #    ;
        #
        #    while select lines where lines.OpnameRefrenceId == refId {
        #        if(lines.wMsLocationId == '')
        #            return false;
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #main
        #public static void main(Args args)
        #{
        #    Dimension1      bu;
        #
        #    ERL_TransferStockOpname cls = new ERL_TransferStockOpname();
        #    cls.parmArgs(args);
        #
        #    bu = sysuserinfo::find(curuserid()).Dimension1;
        #    if (bu == '51')
        #    {
        #        cls.transferTempJakarta();
        #    }
        #    else if(bu == '52')
        #    {
        #        cls.transferTempMultiWH();
        #    }
        #    else
        #    {
        #        cls.transferTemp();
        #    }
        #}
      ENDSOURCE
    ENDMETHODS
  ENDCLASS

***Element: JOB

; Microsoft Dynamics AX Job: UpdateLines unloaded
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #UpdateLines
    #static void UpdateLines(Args _args)
    #{
    #    ERL_stockOpname         header;
    #    ERL_StockOpnameLines    lines;
    #    ;
    #
    #
    #    update_recordset lines setting ERL_JournalStatus = erl_journalstatus::None;
    #    update_recordset header setting ERL_StatusOpnameTag = erl_StatusOpnametag::Open;
    #
    #}
  ENDSOURCE

***Element: JOB

; Microsoft Dynamics AX Job: EnumValues unloaded
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #EnumValues
    #static void EnumValues(Args _args)
    #{
    #    erl_journalstatus   status;
    #    DictEnum enum = new DictEnum(status);
    #    int i;
    #    ;
    #
    #    for(i = 0; i < enum.values(); i++)
    #    {
    #        info(strFmt("%1-%2", enum.index2Label(i), enum.index2value(i)));
    #    }
    #
    #
    #}
  ENDSOURCE

***Element: JOB

; Microsoft Dynamics AX Job: createJour unloaded
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #createJour
    #static void createJour(Args _args)
    #{
    #    ERL_StockOpnameTemp     temp, Material, nonMaterial, tdkSelisih;
    #    CopyOfInventJournalTable      ijTable;
    #    inventJournalTrans      ijTrans;
    #    inventDimParm           iDimParm;
    #    inventDim               iDim;
    #    Dimension1              bu;
    #    InventJournalNameId     name;
    #    ;
    #
    #    bu = sysuserinfo::find(curuserid()).Dimension1;
    #    name = strfmt("%1-OP", bu);
    #    select firstfast firstonly temp where temp.createdBy == curuserid()
    #        && temp.ERL_JournalType == erl_journaltype::NonMateral;
    #    if(temp) {
    #        info(strfmt('%1, %2-Non Material',inventJournalname::find(name).Description, temp.ERL_OpnamePeriodeId));
    #        info(name);
    #        info(strfmt('%1', inventJournalname::find(name).JournalType));
    #    }
    #
    #    select firstfast firstonly temp where temp.createdBy == curuserid()
    #        && temp.ERL_JournalType == erl_journaltype::Material;
    #    if(temp){
    #        info(strfmt("Material"));
    #    }
    #
    #    select firstfast firstonly temp where temp.createdBy == curuserid()
    #        && temp.ERL_JournalType == erl_journaltype::TidakSelisih;
    #    if(temp)
    #        info(strfmt("Tidak Selisih"));
    #
    #}
  ENDSOURCE

***Element: JOB

; Microsoft Dynamics AX Job: Job2 unloaded
; --------------------------------------------------------------------------------
  JOBVERSION 1
  
  SOURCE #Job2
    #static void Job2(Args _args)
    #{
    #    Query                   q = new Query();
    #    queryrun                qr;
    #    queryBuildDataSource    qbds;
    #    QueryBuildRange          qbr;
    #    ERL_StockOpname         sop;
    #    InventJournalName       jurname;
    #    int rounded;
    #    ;
    #
    #
    #    //rounded = round(210.322, 0);
    #    rounded = roundupdec(2105.4558,0);
    #
    #    info(strfmt('%1', rounded));
    #//    qbds = q.addDataSource(tablenum(ERL_StockOpname));
    #//    qbds.addGroupByField(fieldnum(ERL_stockopname, erl_stockopnametag));
    #//    qr = new QueryRun(q);
    #
    #}
  ENDSOURCE

***Element: FTM

; Microsoft Dynamics AX MENUITEM : ERL_StockOpnameInquiries unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #ERL_StockOpnameInquiries
    Type: 1
    PROPERTIES
      Name                #ERL_StockOpnameInquiries
      Label               #Android Counting History
      Object              #ERL_StockOpnameInquiries
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : ERL_StockOpnameNewLoc unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #ERL_StockOpnameNewLoc
    Type: 1
    PROPERTIES
      Name                #ERL_StockOpnameNewLoc
      Label               #Android Counting History New Location
      Object              #ERL_StockOpnameNewLoc
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : ERL_OpnameUserGroup unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #ERL_OpnameUserGroup
    Type: 1
    PROPERTIES
      Name                #ERL_OpnameUserGroup
      Label               #Stock Opname Group
      Object              #ERL_OpnameUserGroup
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : ERL_StockOpname unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #ERL_StockOpname
    Type: 1
    PROPERTIES
      Name                #ERL_StockOpname
      Label               #Android Stock Opname
      HelpText            #Stock opname from android
      Object              #ERL_StockOpname
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : ERL_TransferStockOpname unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #ERL_TransferStockOpname
    Type: 3
    PROPERTIES
      Name                #ERL_TransferStockOpname
      Label               #Transfer
      ObjectType          #Class
      Object              #ERL_TransferStockOpname
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: DBT

; Microsoft Dynamics AX Table : InventJournalTrans unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #InventJournalTrans
    PROPERTIES
      Name                #InventJournalTrans
      Label               #@SYS22126
      TitleField1         #JournalId
      TitleField2         #LineNum
      ConfigurationKey    #LogisticsBasic
      SecurityKey         #InventTables
      TableGroup          #WorksheetLine
      PrimaryIndex        #LineIdx
      ClusterIndex        #LineIdx
      CreatedDateTime     #Yes
      DeveloperDocumentation  #@SYS123821
    ENDPROPERTIES
    
    FIELDS
      FIELD #JournalId
        STRING
        PROPERTIES
          Name                #JournalId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventJournalId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #LineNum
        REAL
        PROPERTIES
          Name                #LineNum
          AllowEditOnCreate   #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #LineNum
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TransDate
        DATE
        PROPERTIES
          Name                #TransDate
          Mandatory           #Yes
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Voucher
        STRING
        PROPERTIES
          Name                #Voucher
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #Voucher
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #JournalType
        ENUM
        PROPERTIES
          Name                #JournalType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          EnumType            #InventJournalType
        ENDPROPERTIES
        
      FIELD #ItemId
        STRING
        PROPERTIES
          Name                #ItemId
          HelpText            #@SYS16397
          Mandatory           #Yes
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ItemId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DEL_CorrectiveReason
        STRING
        PROPERTIES
          Name                #DEL_CorrectiveReason
          Visible             #No
          ConfigurationKey    #SysDeletedObjects40
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #DEL_CustVendCorrectiveReason_ES
              #
            ENDARRAY
          StringSize          #(Memo)
        ENDPROPERTIES
        
      FIELD #Qty
        REAL
        PROPERTIES
          Name                #Qty
          Label               #Invent quantity
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventQtyJournal
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #CostPrice
        REAL
        PROPERTIES
          Name                #CostPrice
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ItemCostPrice
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PriceUnit
        REAL
        PROPERTIES
          Name                #PriceUnit
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #PriceUnit
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #CostMarkup
        REAL
        PROPERTIES
          Name                #CostMarkup
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #CostMarkup
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #CostAmount
        REAL
        PROPERTIES
          Name                #CostAmount
          HelpText            #@SYS10618
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #CostAmount
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #SalesAmount
        REAL
        PROPERTIES
          Name                #SalesAmount
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #SalesAmount
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ProjTransId
        STRING
        PROPERTIES
          Name                #ProjTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjItemTransId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventTransId
        STRING
        PROPERTIES
          Name                #InventTransId
          HelpText            #@SYS17594
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventTransId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventTransIdFather
        STRING
        PROPERTIES
          Name                #InventTransIdFather
          Label               #@SYS28922
          HelpText            #@SYS21786
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventTransId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #LedgerAccountIdOffset
        STRING
        PROPERTIES
          Name                #LedgerAccountIdOffset
          Label               #@Sys11162
          HelpText            #@SYS4451
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #LedgerAccount
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventOnHand
        REAL
        PROPERTIES
          Name                #InventOnHand
          HelpText            #@SYS4957
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventQtyOnHand
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Counted
        REAL
        PROPERTIES
          Name                #Counted
          Label               #@SYS16439
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventQtyCounted
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          HelpText            #@SYS4325
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #BOMLine
        ENUM
        PROPERTIES
          Name                #BOMLine
          GroupPrompt         #@SYS15449
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #BOMLine
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InventTransIdReturn
        STRING
        PROPERTIES
          Name                #InventTransIdReturn
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventTransIdReturn
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ProjCategoryId
        STRING
        PROPERTIES
          Name                #ProjCategoryId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjCategoryId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ProjId
        STRING
        PROPERTIES
          Name                #ProjId
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #DEL_CorrectedInvoiceId
        STRING
        PROPERTIES
          Name                #DEL_CorrectedInvoiceId
          Visible             #No
          ConfigurationKey    #SysDeletedObjects40
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #DEL_CustVendCorrectedInvoiceId_ES
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ToInventTransId
        STRING
        PROPERTIES
          Name                #ToInventTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventTransIdTo
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ReasonRefRecId
        INT64
        PROPERTIES
          Name                #ReasonRefRecId
          Visible             #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ReasonRefRecID
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #InventDimId
        STRING
        PROPERTIES
          Name                #InventDimId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventDimId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ToInventDimId
        STRING
        PROPERTIES
          Name                #ToInventDimId
          Label               #@SYS54704
          HelpText            #@SYS15702
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventDimId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ReqPOId
        STRING
        PROPERTIES
          Name                #ReqPOId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ReqPOId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #EmplId
        STRING
        PROPERTIES
          Name                #EmplId
          HelpText            #@SYS62798
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AssetTransType
        ENUM
        PROPERTIES
          Name                #AssetTransType
          Table               #InventJournalTrans
          EnumType            #AssetTransTypeJournal
        ENDPROPERTIES
        
      FIELD #AssetId
        STRING
        PROPERTIES
          Name                #AssetId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #AssetId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AssetBookId
        STRING
        PROPERTIES
          Name                #AssetBookId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #AssetBookIdPurchSalesInvent
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ProjTaxGroupId
        STRING
        PROPERTIES
          Name                #ProjTaxGroupId
          HelpText            #@SYS67872
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjTaxGroup
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ProjSalesCurrencyId
        STRING
        PROPERTIES
          Name                #ProjSalesCurrencyId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjSalesCurrencyCode
              #
            ENDARRAY
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #ProjLinePropertyId
        STRING
        PROPERTIES
          Name                #ProjLinePropertyId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjLinePropertyId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ProjTaxItemGroupId
        STRING
        PROPERTIES
          Name                #ProjTaxItemGroupId
          HelpText            #@SYS67873
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjTaxItemGroup
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ProjUnitID
        STRING
        PROPERTIES
          Name                #ProjUnitID
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #UnitID
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ProjSalesPrice
        REAL
        PROPERTIES
          Name                #ProjSalesPrice
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjSalesPriceCost
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #InventRefType
        ENUM
        PROPERTIES
          Name                #InventRefType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          EnumType            #InventRefType
        ENDPROPERTIES
        
      FIELD #InventRefId
        STRING
        PROPERTIES
          Name                #InventRefId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventRefId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventRefTransId
        STRING
        PROPERTIES
          Name                #InventRefTransId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventRefTransId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ProfitSet
        ENUM
        PROPERTIES
          Name                #ProfitSet
          Table               #InventJournalTrans
          EnumType            #CostProfitSet
        ENDPROPERTIES
        
      FIELD #ActivityNumber
        STRING
        PROPERTIES
          Name                #ActivityNumber
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #ProjActivityNumber
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ReleaseDate
        DATETIME
        PROPERTIES
          Name                #ReleaseDate
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #PostReleaseDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #UnitInvent
        STRING
        PROPERTIES
          Name                #UnitInvent
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventUnitId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #Unit
        STRING
        PROPERTIES
          Name                #Unit
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #UnitID
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #QtyUnit
        REAL
        PROPERTIES
          Name                #QtyUnit
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #Qty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_SummaryDONum
        STRING
        PROPERTIES
          Name                #AGR_SummaryDONum
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #AGR_SummaryDONum
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AGR_InventTransId
        STRING
        PROPERTIES
          Name                #AGR_InventTransId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventTransId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AGR_Calculate
        ENUM
        PROPERTIES
          Name                #AGR_Calculate
          Label               #Calculate
          AllowEdit           #No
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AGR_DoQty
        REAL
        PROPERTIES
          Name                #AGR_DoQty
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #SalesQty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_RefRecId
        INT64
        PROPERTIES
          Name                #AGR_RefRecId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #recId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_RefTableID
        INT
        PROPERTIES
          Name                #AGR_RefTableID
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #SysTableID
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_POPackQtyInventUnit
        REAL
        PROPERTIES
          Name                #AGR_POPackQtyInventUnit
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #Qty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_DeliveryOrderId
        STRING
        PROPERTIES
          Name                #AGR_DeliveryOrderId
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #SLT_DeliveryOrderId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_QtyCorrection
        REAL
        PROPERTIES
          Name                #ERL_QtyCorrection
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #InventTransferQtyRemain
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_SalesPrice
        REAL
        PROPERTIES
          Name                #ERL_SalesPrice
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #SalesPrice
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_LinePercent
        REAL
        PROPERTIES
          Name                #ERL_LinePercent
          Table               #InventJournalTrans
          ExtendedDataType    
            ARRAY 
              #SalesLinePercent
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #JournalId
          #LineNum
          #Voucher
          #TransDate
          #ItemId
          #Qty
          #CostAmount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BOM
        PROPERTIES
          Name                #BOM
          Label               #@SYS7916
        ENDPROPERTIES
        
        GROUPFIELDS
          #BOMLine
          #ProfitSet
          #SalesAmount
          #InventTransIdFather
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Counting
        PROPERTIES
          Name                #Counting
          Label               #@SYS2828
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventOnHand
          #Counted
          #EmplId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Dimension
        PROPERTIES
          Name                #Dimension
          Label               #@SYS14926
        ENDPROPERTIES
        
        GROUPFIELDS
          #Dimension
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FixedAssets
        PROPERTIES
          Name                #FixedAssets
          Label               #@SYS12578
        ENDPROPERTIES
        
        GROUPFIELDS
          #AssetId
          #AssetBookId
          #AssetTransType
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@sys5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #JournalId
          #LineNum
          #TransDate
          #Voucher
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Inventory
        PROPERTIES
          Name                #Inventory
          Label               #@SYS981
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventTransId
          #InventDimId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Item
        PROPERTIES
          Name                #Item
          Label               #@SYS7407
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemReference
        PROPERTIES
          Name                #ItemReference
          Label               #@SYS24659
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventRefType
          #InventRefId
          #InventRefTransId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Journal
        PROPERTIES
          Name                #Journal
          Label               #@SYS6790
        ENDPROPERTIES
        
        GROUPFIELDS
          #JournalId
          #Voucher
          #TransDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #JournalLine
        PROPERTIES
          Name                #JournalLine
          Label               #@SYS23949
        ENDPROPERTIES
        
        GROUPFIELDS
          #Unit
          #QtyUnit
          #UnitInvent
          #Qty
          #CostPrice
          #PriceUnit
          #CostMarkup
          #CostAmount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #LedgerPosting
        PROPERTIES
          Name                #LedgerPosting
          Label               #@SYS3881
        ENDPROPERTIES
        
        GROUPFIELDS
          #LedgerAccountIdOffset
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PostingRelease
        PROPERTIES
          Name                #PostingRelease
          Label               #@sys114594
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReleaseDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectCostPrice
        PROPERTIES
          Name                #ProjectCostPrice
          Label               #@SYS13134
        ENDPROPERTIES
        
        GROUPFIELDS
          #Qty
          #CostPrice
          #CostAmount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectIdentification
        PROPERTIES
          Name                #ProjectIdentification
          Label               #@SYS89920
        ENDPROPERTIES
        
        GROUPFIELDS
          #TransDate
          #ProjId
          #ActivityNumber
          #ProjCategoryId
          #ItemId
          #ProjLinePropertyId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectSalesPrice
        PROPERTIES
          Name                #ProjectSalesPrice
          Label               #@SYS5755
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjSalesCurrencyId
          #ProjUnitID
          #ProjSalesPrice
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectSalesTax
        PROPERTIES
          Name                #ProjectSalesTax
          Label               #@SYS67871
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjTaxGroupId
          #ProjTaxItemGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProjectTransaction
        PROPERTIES
          Name                #ProjectTransaction
          Label               #@SYS15191
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjTransId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnLot
        PROPERTIES
          Name                #ReturnLot
          Label               #@SYS53022
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventTransIdReturn
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #System
        PROPERTIES
          Name                #System
          Label               #@SYS4278
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReqPOId
          #JournalType
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Transfer
        PROPERTIES
          Name                #Transfer
          Label               #@SYS13891
        ENDPROPERTIES
        
        GROUPFIELDS
          #ToInventTransId
          #ToInventDimId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #LineIdx
      PROPERTIES
        Name                #LineIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalId
        #LineNum
      ENDINDEXFIELDS
      
      #VoucherIdx
      PROPERTIES
        Name                #VoucherIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalId
        #Voucher
        #LineNum
      ENDINDEXFIELDS
      
      #ToTransIdIdx
      PROPERTIES
        Name                #ToTransIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ToInventTransId
      ENDINDEXFIELDS
      
      #TransIdIdx
      PROPERTIES
        Name                #TransIdIdx
        Enabled             #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #InventTransId
      ENDINDEXFIELDS
      
      #JournalDateItemIdx
      PROPERTIES
        Name                #JournalDateItemIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalId
        #TransDate
        #ItemId
      ENDINDEXFIELDS
      
      #RefRecIDX
      PROPERTIES
        Name                #RefRecIDX
      ENDPROPERTIES
      
      INDEXFIELDS
        #TableId
        #RecId
        #AGR_RefRecId
        #AGR_RefTableID
      ENDINDEXFIELDS
      
      #AGR_InventTransIdIdx
      PROPERTIES
        Name                #AGR_InventTransIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #AGR_InventTransId
        #AGR_SummaryDONum
      ENDINDEXFIELDS
      
      #JournalTransIdx
      PROPERTIES
        Name                #JournalTransIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalId
        #AGR_InventTransId
        #InventDimId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #AssetBook
        PROPERTIES
          Name                #AssetBook
          Table               #AssetBook
          EntityRelationshipRole  #@SYS123822
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetId
            RelatedField        #AssetId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AssetBookId
            RelatedField        #BookId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #JournalError
        PROPERTIES
          Name                #JournalError
          Table               #JournalError
          Validate            #No
          EntityRelationshipRole  #@SYS123823
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #154
            Table               #JournalError
            RelatedField        #RefTableId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #LineNum
            RelatedField        #LineNum
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #JournalId
            RelatedField        #JournalId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #JournalError
      PROPERTIES
        Table               #JournalError
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #activityNumberModified
        #void activityNumberModified()
        #{
        #    this.initFromProjActivity(ProjActivity::find(this.ActivityNumber));
        #
        #    this.ProjLinePropertyId   = ProjLinePropertySetup::findLinePropertyId(this.ProjId,this.ProjCategoryId);
        #    this.ProjTaxItemGroupId   = ProjParameters::taxItemGroupItem(this.ProjCategoryId,this.ItemId);
        #}
        #
      ENDSOURCE
      SOURCE #AGR_QtyUnAvaible
        #display server Qty AGR_QtyUnavaible()
        #{
        #    InventJournalTrans          _journalTrans;
        #    UnitId                      _UnitId;
        #    ;
        #
        #    if ( this.AGR_RefTableID && this.AGR_RefRecId ) {
        #
        #        Select firstonly firstfast sum(qtyunit) from _journalTrans
        #                index hint RefRecIDX
        #            where   _journalTrans.AGR_RefTableID    ==  this.AGR_RefTableID
        #            &&      _journalTrans.AGR_RefRecId      ==  this.AGR_RefRecId
        #            &&      _journalTrans.RecId             !=  this.RecId;
        #
        #        return _journalTrans.QtyUnit;
        #    }
        #
        #    return 0;
        #}
      ENDSOURCE
      SOURCE #CalcCostAmount
        #//BP Deviation documented
        #display CostAmount calcCostAmount(InventQty  _qty   = intMin())
        #{
        #    InventQty qty = _qty;
        #    ;
        #    if (qty   == intMin())
        #    {
        #        qty   = this.Qty;
        #        if (this.ProjUnitID)
        #        {
        #            qty = UnitConvert::qty(this.Qty,
        #                             this.ProjUnitID,
        #                             InventTable::find(this.ItemId).inventUnitId(),
        #                             this.ItemId);
        #        }
        #    }
        #
        #    return PriceDisc::price2Amount(this.CostPrice,
        #                                   this.priceUnit(),
        #                                   0,
        #                                   qty,
        #                                   qty,
        #                                   this.CostMarkup,
        #                                   0,
        #                                   '',
        #                                   this.CostAmount,
        #                                   true);
        #}
        #
      ENDSOURCE
      SOURCE #calcCostAmountFinishItem
        #void calcCostAmountFinishItem(boolean _research = true)
        #{
        #    InventJournalTrans  journalTrans,journalTransFinishItem;
        #    CostAmount          costAmount;
        #    ;
        #    if (this.bomLine)
        #    {
        #        select sum(CostAmount) from journalTrans
        #            where journalTrans.JournalId            == this.JournalId  &&
        #                  journalTrans.bomLine              == NoYes::Yes      &&
        #                  journalTrans.InventTransIdFather  == this.InventTransIdFather;
        #
        #        if (journalTrans.CostAmount)
        #        {
        #            select firstonly forupdate journalTransFinishItem
        #                where   journalTransFinishItem.JournalId        ==  this.JournalId  &&
        #                        journalTransFinishItem.bomLine          ==  NoYes::No       &&
        #                        journalTransFinishItem.InventTransId    ==  this.InventTransIdFather;
        #
        #            if (journalTransFinishItem)
        #            {
        #                costAmount = Currency::price(-journalTrans.CostAmount);
        #
        #                if (costAmount != journalTransFinishItem.CostAmount)
        #                {
        #                    journalTransFinishItem.CostAmount   =   costAmount;
        #                    journalTransFinishItem.CostPrice    =   PriceDisc::amount2Price(journalTransFinishItem.CostAmount,
        #                                                            0,
        #                                                            0,
        #                                                            journalTransFinishItem.Qty,
        #                                                            0,
        #                                                            journalTransFinishItem.PriceUnit,
        #                                                            '',
        #                                                            0);
        #                    journalTransFinishItem.update();
        #
        #                    if (this.isFormDataSource() && _research)
        #                        this.dataSource().research();
        #                }
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #calcSalesAmountBOMLine
        #SalesAmount calcSalesAmountBOMLine()
        #{
        #    if (this.bomLine)
        #        return Currency::price(BOMCostProfit::calcSalesPrice(this.CostAmount, this.ProfitSet, this.inventTable().bomCalcGroup().CalcGroupId));
        #
        #    return 0;
        #}
      ENDSOURCE
      SOURCE #calcSalesAmountFinishItem
        #void calcSalesAmountFinishItem(boolean _research = true)
        #{
        #    InventJournalTrans  journalTrans,journalTransFinishItem;
        #    ;
        #    if (this.bomLine)
        #    {
        #        select sum(SalesAmount) from journalTrans
        #            where journalTrans.JournalId            == this.JournalId  &&
        #                  journalTrans.bomLine              == NoYes::Yes      &&
        #                  journalTrans.InventTransIdFather  == this.InventTransIdFather;
        #
        #        if (journalTrans.SalesAmount)
        #        {
        #            journalTransFinishItem.selectForUpdate(true);
        #
        #            select firstonly forupdate journalTransFinishItem
        #                where   journalTransFinishItem.JournalId        ==  this.JournalId  &&
        #                        journalTransFinishItem.bomLine          ==  NoYes::No       &&
        #                        journalTransFinishItem.InventTransId    ==  this.InventTransIdFather;
        #
        #            if (journalTransFinishItem)
        #            {
        #                journalTransFinishItem.SalesAmount = Currency::price(-journalTrans.SalesAmount);
        #                journalTransFinishItem.update();
        #
        #                if (this.isFormDataSource() && _research)
        #                    this.dataSource().research();
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #checkActivity
        #private boolean checkActivity()
        #{
        #    RecId                       projRecId;
        #    ;
        #
        #    if (this.ActivityNumber)
        #    {
        #        if (!ProjActivity::find(this.ActivityNumber))
        #        {
        #            return checkFailed(strfmt("@SYS50966",this.ActivityNumber));
        #        }
        #
        #        //validate activity is associated to Project
        #        projRecId = ProjTable::find(this.ProjId).RecId;
        #        if (smmActivityParentLinkTable::find(this.ActivityNumber, smmActivityParentType::Project, projRecId).RecId == 0)
        #        {
        #            return checkFailed(strfmt('%1 is not associated to project %2.',this.ActivityNumber, this.ProjId));
        #        }
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #CheckAmount
        #boolean  checkAmount()
        #{
        #    boolean         ok  = true;
        #
        #    if (this.CostAmount* this.Qty   < 0)
        #        ok = checkFailed("@SYS3985");
        #
        #    if (this.CostAmount != Currency::amount(this.CostAmount))
        #        ok = checkFailed("@SYS2602");
        #
        #    if (this.CostAmount* this.SalesAmount < 0)
        #        ok = checkFailed("@SYS15179");
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkBatch
        #server boolean checkBatch()
        #{
        #    boolean ok = true;
        #    ;
        #    if(this.inventTable().batchActive())
        #    {
        #        if(!this.inventDim().inventBatchId)
        #            ok = checkFailed(strfmt("Batch not specified for item %1",this.ItemId));
        #
        #        if(ok && this.JournalType == InventJournalType::Transfer && !this.toInventDim().inventBatchId)
        #            ok = checkFailed(strfmt("Batch not specified for item %1",this.ItemId));
        #
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #CheckInitFromInventTable
        #boolean checkInitFromInventTable(InventTable _inventTable)
        #{
        #    InventDim inventDim;
        #    ;
        #
        #    if (! _inventTable.checkValid(_inventTable.ItemId))
        #    {
        #        return false;
        #    }
        #
        #    inventDim.InventSiteId  = _inventTable.inventInventSiteId();
        #    inventDim               = InventDim::findOrCreate(inventDim);
        #
        #    if (! this.inventTableModuleInvent().checkValid()                               ||
        #        ! _inventTable.inventItemInventSetup(inventDim.InventDimId).checkValid()    ||
        #        ! _inventTable.inventItemInventSetup(inventDim.InventDimId).checkNotStopped())
        #    {
        #        return false;
        #    }
        #
        #    if (this.InventTransId)
        #    {
        #        return checkFailed("@SYS10546");
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkProjCategoryId
        #public boolean checkProjCategoryId()
        #{
        #    ProjCategory        projCategory;
        #    boolean             ret = true;
        #    ;
        #
        #    if (this.ProjCategoryId)
        #    {
        #        projCategory = ProjCategory::find(this.ProjCategoryId);
        #
        #        if (projCategory.CategoryType != ProjCategoryType::Item)
        #            ret = checkFailed(strfmt("@SYS54897",this.ProjCategoryId));
        #
        #        ret = ret && projCategory.validateIfInactiveAllowed();
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkProjId
        #public boolean checkProjId()
        #{
        #    if (this.ProjId && !ProjTable::find(this.ProjId).status().activeInTree())
        #        return checkFailed(strfmt("@SYS96612",this.ProjId));
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkReleaseDate
        #/// <summary>
        #/// Checks the release date against the current date.
        #/// </summary>
        #/// <returns>
        #/// true if the release date is satisfied (in the past) and the transaction can be posted; otherwise, false
        #/// </returns>
        #public boolean checkReleaseDate()
        #{
        #    boolean ok = true;
        #    PostReleaseDate localReleaseDate;
        #    ;
        #
        #    if (this.ReleaseDate != utcDateTimeNull() && this.ReleaseDate > DateTimeUtil::utcNow())
        #    {
        #        localReleaseDate = DateTimeUtil::applyTimeZoneOffset(this.ReleaseDate, DateTimeUtil::getUserPreferredTimeZone());
        #        ok = checkFailed(strfmt("@SYS114593", datetime2str(localReleaseDate, DateFlags::FormatAll)));
        #    }
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkReqActivity
        #public boolean checkReqActivity(InventJournalTrans   inventJournalTrans)
        #{
        #    RequireActivity             requireActivity;
        #    boolean                     ret = true;
        #    ;
        #
        #    requireActivity = ProjTable::checkRequireActivity(inventJournalTrans.ProjId,tablenum(ProjItemTrans));
        #    if (requireActivity && (!inventJournalTrans.ActivityNumber))
        #    {
        #        ret = false;
        #    }
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #copyDimension
        #/// <summary>
        #/// Returns a dimension set that can be applied to the InventJournalTrans.dimension field.
        #/// The method ensures that potential linked dimensions are not overwritten.
        #/// </summary>
        #/// <param name="_dimension">
        #/// A dimension set that should be applied to the InventJournalTrans.dimension field.
        #/// </param>
        #/// <param name="_dimensionCopy">
        #/// A dimensionCopy object previously instantiated using the current InventJournalTrans buffer; optional.
        #/// </param>
        #/// <returns>
        #/// Dimension set that can be applied to the InventJournalTrans.dimension field.
        #/// </returns>
        #public Dimension copyDimension(Dimension _dimension, DimensionCopy _dimensionCopy = DimensionCopy::newFromTable(this))
        #{
        #    return _dimensionCopy.copy(_dimension);
        #}
      ENDSOURCE
      SOURCE #delete
        #void delete()
        #{
        #    ;
        #    ttsbegin;
        #
        #    super();
        #
        #    if (this.JournalType == InventJournalType::Count)
        #        InventItemLocation::updateStopCountingJournal(this);
        #
        #    InventUpd_DeleteMovement::newMovement(InventMovement::construct(this)).updateNow();
        #    if (this.JournalType == InventJournalType::Transfer && this.ToInventTransId && this.ToInventTransId != this.InventTransId)
        #    {
        #        InventUpd_DeleteMovement::newMovement(InventMovement::construct(this,InventMovSubType::TransferReceipt)).updateNow();
        #    }
        #
        #    if (this.Voucher)
        #    {
        #        if (this.numOfVoucherLines() == 0)
        #            JournalError::deleteVoucher(tablenum(InventJournalTable),this.JournalId,this.Voucher);
        #    }
        #    ttscommit;
        #
        #}
      ENDSOURCE
      SOURCE #editReasonCode
        #/// <summary>
        #/// Gets and sets the reason code.
        #/// </summary>
        #/// <param name="_set">
        #/// true if the reason code is set; otherwise, false.
        #/// </param>
        #/// <param name="_reasonCode">
        #/// The new reason code when <paramref name="_set"/> is true.
        #/// </param>
        #/// <returns>
        #/// The reason code of the record in the ReasonTableRef table.
        #/// </returns>
        #//BP Deviation Documented
        #public edit ReasonCode editReasonCode(boolean _set, ReasonCode _reasonCode)
        #{
        #    ReasonCode  reasonCode = _reasonCode;
        #    ;
        #    if (_set)
        #    {
        #        // If the ReasonRefRecID is 0, then create a new ReasonTableRef record
        #        // otherwise, update the existing record.
        #        if (this.ReasonRefRecId == 0)
        #        {
        #            this.ReasonRefRecId = ReasonTableRef::createFromCode(reasonCode);
        #        }
        #        else
        #        {
        #            this.ReasonRefRecId = ReasonTableRef::updateCode(reasonCode,this.ReasonRefRecId);
        #        }
        #
        #        // Updated the reason comment with the default value for the updated reason code
        #        this.editReasonComment(_set,ReasonTable::find(reasonCode).Description);
        #    }
        #    else
        #    {
        #        reasonCode = ReasonTableRef::find(this.ReasonRefRecId).Reason;
        #    }
        #
        #    return reasonCode;
        #}
      ENDSOURCE
      SOURCE #editReasonComment
        #/// <summary>
        #/// Gets and sets the reason comment.
        #/// </summary>
        #/// <param name="_set">
        #/// true if the reason comment is set; otherwise, false.
        #/// </param>
        #/// <param name="_reasonComment">
        #/// The new reason comment when <paramref name="_set"/> is true.
        #/// </param>
        #/// <returns>
        #/// The reason comment of the record in the ReasonTableRef table.
        #/// </returns>
        #//BP Deviation Documented
        #public edit ReasonComment editReasonComment(boolean _set, ReasonComment _reasonComment)
        #{
        #    ReasonComment   reasonComment = _reasonComment;
        #    ;
        #    if (_set)
        #    {
        #        // If the ReasonRefRecID is 0, then create a new ReasonTableRef record
        #        // otherwise, update the existing record.
        #        if (this.ReasonRefRecId == 0)
        #        {
        #           this.ReasonRefRecId = ReasonTableRef::createFromComment(reasonComment);
        #        }
        #        else
        #        {
        #           this.ReasonRefRecId = ReasonTableRef::updateComment(reasonComment,this.ReasonRefRecId);
        #        }
        #    }
        #    else
        #    {
        #        reasonComment = ReasonTableRef::find(this.ReasonRefRecId).ReasonComment;
        #    }
        #
        #    return reasonComment;
        #}
      ENDSOURCE
      SOURCE #financialIssueDimensions
        #Map financialIssueDimensions()
        #{
        #    Map                 dimensionMap = new Map(Types::String, Types::Real);
        #    InventTrans         inventTrans;
        #    InventDim           inventDim;
        #    InventDim           inventDimFinancial;
        #    InventDimGroupId    inventDimGroupId = this.inventTable().DimGroupId;
        #    InventDimParm       inventDimParmFinancial;
        #    InventQty           qty;
        #    ;
        #    inventDimParmFinancial.initFinancialInvent(inventDimGroupId);
        #
        #    while select Qty from inventTrans
        #        where inventTrans.InventTransId == this.InventTransId
        #           && inventTrans.StatusIssue   != StatusIssue::None
        #            join inventDim
        #                where inventDim.InventDimId == inventTrans.InventDimId
        #    {
        #        inventDimFinancial.data(inventDim.data());
        #        inventDimFinancial.clearNotSelectedDim(inventDimParmFinancial);
        #        inventDimFinancial = InventDim::findOrCreate(inventDimFinancial);
        #        if (dimensionMap.exists(inventDimFinancial.InventDimId))
        #        {
        #            qty = dimensionMap.lookup(inventDimFinancial.InventDimId);
        #        }
        #        else
        #        {
        #            qty = 0;
        #        }
        #        qty += inventTrans.Qty;
        #        dimensionMap.insert(inventDimFinancial.InventDimId, qty);
        #    }
        #
        #    return dimensionMap;
        #}
      ENDSOURCE
      SOURCE #getBOMLineInventTransIdParent
        #container getBOMLineInventTransIdParent()
        #{
        #    InventJournalTrans  bomParent;
        #    int                 numParents;
        #    ;
        #
        #    if (this.bomLine)
        #    {
        #        numParents = any2int((select count(RecId) from inventJournalTrans
        #                                index hint LineIdx
        #                                where inventJournalTrans.JournalId == this.JournalId &&
        #                                    inventJournalTrans.bomLine   == NoYes::No      &&
        #                                    inventJournalTrans.RecId     != this.RecId).RecId);
        #
        #        if (numParents)
        #        {
        #            select bomParent
        #                index hint LineIdx
        #                    where bomParent.JournalId == this.JournalId   &&
        #                          bomParent.bomLine   == NoYes::No        &&
        #                          bomParent.RecId     != this.RecId;
        #        }
        #        return [numParents,bomParent];
        #    }
        #
        #    return connull();
        #}
      ENDSOURCE
      SOURCE #InitFromBOM
        #void initFromBOM(BOM      bom)
        #{
        #    InventDim   inventDim;
        #    InventTable inventTable;
        #    ;
        #
        #    this.ItemId             = bom.ItemId;
        #
        #    if (this.InventDimId)
        #    {
        #        inventDim = InventDim::find(this.InventDimId);
        #    }
        #
        #    inventTable = this.inventTable();
        #    inventDim.copyItemDim(inventTable.DimGroupId, InventDim::find(bom.InventDimId));
        #
        #    inventDim.InventSiteId          = inventTable.inventInventSiteId(bom.inventDim().InventSiteId);
        #
        #    if(inventDim.InventSiteId)
        #    {
        #        inventDim.InventLocationId  = inventTable.inventLocationId(bom.inventDim().InventLocationId,
        #                                                                   InventDim::findOrCreate(inventDim).InventDimId,
        #                                                                   inventDim.InventSiteId);
        #    }
        #    else
        #    {
        #        inventDim.InventLocationId  = inventTable.inventLocationId(bom.inventDim().InventLocationId);
        #    }
        #
        #    if (inventDim.InventLocationId != bom.inventDim().InventLocationId)
        #    {
        #        inventDim.initFromInventLocation(inventDim.inventLocation(), inventTable.DimGroupId);
        #    }
        #
        #    this.setInventDimIdFromInventDim(inventDim);
        #}
        #
        #
        #
      ENDSOURCE
      SOURCE #initFromBOMparmReportFinish
        #void initFromBOMparmReportFinish(BOMParmReportFinish    bomParmReportFinish)
        #{
        #;
        #    this.TransDate              = bomParmReportFinish.TransDate;
        #    this.Qty                    = bomParmReportFinish.Qty;
        #    this.setInventDimId(bomParmReportFinish.InventDimId);
        #    this.ProfitSet              = bomParmReportFinish.ProfitSet;
        #    this.InventTransIdReturn    = bomParmReportFinish.InventTransIdReturn;
        #    if (bomParmReportFinish.OverrideDimension)
        #        this.Dimension        = this.copyDimension(bomParmReportFinish.Dimension);
        #
        #    this.setQtyUnit();
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromBOMReturnLotId
        #void initFromBOMReturnLotId(InventTransId _returnLotId)
        #{
        #    InventTrans     inventTrans = InventTrans::findTransId(_returnLotId);
        #    ;
        #
        #    this.ItemId                 =   inventTrans.ItemId;
        #    this.Dimension              =   this.copyDimension(inventTrans.dimensionFinancial());
        #    [this.Qty, this.CostAmount] =   InventTrans::calcInvoicedCostValue(inventTrans.InventTransId);
        #    this.Qty                    =   -this.Qty;
        #    this.CostAmount             =   -this.CostAmount;
        #    this.CostPrice              =   inventTrans.costPrice();
        #    this.PriceUnit              =   1;
        #
        #    this.setQtyUnit();
        #}
      ENDSOURCE
      SOURCE #InitFromInventJournalTable
        #void initFromInventJournalTable(InventJournalTable inventJournalTable)
        #{
        #    JournalTableData    journalTableData  = JournalTableData::newTable(inventJournalTable);
        #    ;
        #    journalTableData.journalStatic().newJournalTransData(this,journalTableData).initFromJournalTable();
        #}
        #
      ENDSOURCE
      SOURCE #initFromInventJournalTrans
        #void initFromInventJournalTrans(InventJournalTrans inventJournalTrans)
        #{
        #    this.JournalId              = inventJournalTrans.JournalId;
        #    this.LineNum                = inventJournalTrans.LineNum;
        #    this.TransDate              = inventJournalTrans.TransDate;
        #    this.Voucher                = inventJournalTrans.Voucher;
        #    this.ItemId                 = inventJournalTrans.ItemId;
        #    this.Qty                    = inventJournalTrans.Qty;
        #    this.CostPrice              = inventJournalTrans.CostPrice;
        #    this.PriceUnit              = inventJournalTrans.PriceUnit;
        #    this.CostMarkup             = inventJournalTrans.CostMarkup;
        #    this.CostAmount             = inventJournalTrans.CostAmount;
        #    this.SalesAmount            = inventJournalTrans.SalesAmount;
        #    this.LedgerAccountIdOffset  = inventJournalTrans.LedgerAccountIdOffset;
        #    this.InventOnHand           = inventJournalTrans.InventOnHand;
        #    this.Counted                = inventJournalTrans.Counted;
        #    this.Dimension              = this.copyDimension(inventJournalTrans.Dimension);
        #    this.bomLine                = inventJournalTrans.bomLine;
        #    this.setInventDimId(inventJournalTrans.InventDimId);
        #    this.ToInventDimId          = inventJournalTrans.ToInventDimId;
        #    this.ReqPOId                = inventJournalTrans.ReqPOId;
        #    this.EmplId                 = inventJournalTrans.EmplId;
        #    this.AssetTransType         = inventJournalTrans.AssetTransType;
        #    this.AssetId                = inventJournalTrans.AssetId;
        #
        #// project
        #    this.ProjCategoryId         = inventJournalTrans.ProjCategoryId;
        #    this.ProjId                 = inventJournalTrans.ProjId;
        #    this.ActivityNumber         = inventJournalTrans.ActivityNumber;
        #    this.ProjLinePropertyId     = inventJournalTrans.ProjLinePropertyId;
        #    this.ProjSalesCurrencyId    = inventJournalTrans.ProjSalesCurrencyId;
        #    this.ProjSalesPrice         = inventJournalTrans.ProjSalesPrice;
        #    this.ProjTaxGroupId         = inventJournalTrans.ProjTaxGroupId;
        #    this.ProjTaxItemGroupId     = inventJournalTrans.ProjTaxItemGroupId;
        #    this.ProjUnitID             = inventJournalTrans.ProjUnitID;
        #
        #    this.setQtyUnit();
        #
        #
        #}
        #
      ENDSOURCE
      SOURCE #InitFromInventSum
        #void initFromInventSum(InventSum inventSum)
        #{
        #    InventTable       inventTable           = this.inventTable();
        #    InventPriceMap    inventPriceMap        = inventTable.inventCostPriceMap(inventSum.InventDimId,null,null,this.TransDate);
        #    ;
        #
        #    this.ItemId             = inventSum.ItemId;
        #    this.setInventDimId(inventSum.InventDimId);
        #
        #    this.Dimension          = this.copyDimension(inventTable.Dimension);
        #
        #    this.CostPrice          = inventPriceMap.price();
        #    this.PriceUnit          = inventPriceMap.priceUnit();
        #    this.CostMarkup         = inventPriceMap.markup();
        #}
        #
        #
      ENDSOURCE
      SOURCE #InitFromInventTable
        #void initFromInventTable(   InventTable     inventTable,
        #                            boolean         initQty         = true,
        #                            boolean         initInventDim   = true,
        #                            boolean         initCostPrice   = true)
        #{
        #    InventDim   inventDim;
        #    ;
        #
        #    this.ItemId             = inventTable.ItemId;
        #
        #    // naski add 21/12/2012 - if counting don't copy dimension (cost center)
        #    if(this.JournalType != InventJournalType::Count){
        #        this.Dimension          = this.copyDimension(inventTable.Dimension);
        #    }
        #
        #
        #    this.ProjCategoryId     = inventTable.ProjCategoryId ? inventTable.ProjCategoryId : this.ProjCategoryId;
        #
        #    if (initInventDim)
        #    {
        #        if (this.InventDimId)
        #        {
        #            inventDim = InventDim::find(this.InventDimId);
        #        }
        #
        #        inventDim.initFromInventTable(inventTable,InventItemOrderSetupType::Invent,inventDim);
        #        inventDim.InventDimId   = InventDim::findOrCreate(inventDim).InventDimId;
        #        this.setInventDimId(inventDim.InventDimId, inventDim);
        #    }
        #
        #    if (initQty)
        #    {
        #        this.Qty = this.bomLine ? -inventTable.inventStandardQty(inventDim.InventDimId) : inventTable.inventStandardQty(inventDim.InventDimId);
        #        this.Unit               = '';
        #        this.QtyUnit            = this.Qty;
        #        this.setQtyUnit();
        #
        #    }
        #
        #    if (initCostPrice)
        #    {
        #        this.setCostPrice(this.InventDimId, inventDim, this.inventTableModuleInvent());
        #    }
        #
        #    if (this.bomLine)
        #        this.SalesAmount    = this.calcSalesAmountBOMLine();
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromProjActivity
        #public void initFromProjActivity(ProjActivity _projActivity)
        #{;
        #    if (!_projActivity || !_projActivity.CategoryDefault ||
        #            ProjCategory::find(_projActivity.CategoryDefault).CategoryType != ProjCategoryType::Item)
        #    {
        #        return;
        #    }
        #
        #    this.ProjCategoryId = _projActivity.CategoryDefault;
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromProjTable
        #void initFromProjTable(ProjTable       _projTable)
        #{
        #    ;
        #
        #    this.ProjSalesCurrencyId    = _projTable.currencyId();
        #    this.Dimension              = this.copyDimension(_projTable.Dimension);
        #    this.ProjLinePropertyId     = ProjLinePropertySetup::findLinePropertyId(this.ProjId,this.ProjCategoryId);
        #    this.ProjTaxGroupId         = ProjParameters::taxGroupInvoice(this.ProjId);
        #}
        #
      ENDSOURCE
      SOURCE #InitValue
        #void initValue()
        #{
        #    this.TransDate= systemdateget();
        #
        #    super();
        #}
      ENDSOURCE
      SOURCE #insert
        #server void insert(NoYes dropEstimated = NoYes::No)
        #{
        #    InventUpd_Estimated     estimated;
        #    InventUpd_Estimated     estimatedTransfer;
        #    ;
        #
        #    try
        #    {
        #        ttsbegin;
        #
        #        if (! this.LineNum)
        #            this.LineNum = InventJournalTrans::lastLineNum(this.JournalId) + 1;
        #
        #        this.InventTransId = NumberSeq::newGetNum(InventParameters::numRefInventTransId()).num();
        #
        #        if (this.JournalType == InventJournalType::Transfer)
        #        {
        #            this.ToInventTransId = NumberSeq::newGetNum(InventParameters::numRefInventTransId()).num();
        #        }
        #
        #        if (this.ProjId && ! this.ProjTransId)
        #            this.ProjTransId    = ProjParameters::newTransId();
        #
        #        if (! dropEstimated)
        #        {
        #            estimated = InventUpd_Estimated::newInventMovement(InventMovement::construct(this));
        #            estimated.updateNow();
        #
        #            if (this.JournalType == InventJournalType::Transfer)
        #            {
        #                estimatedTransfer = InventUpd_Estimated::newInventMovement(InventMovement::construct(this,InventMovSubType::TransferReceipt));
        #                estimatedTransfer.updateNow();
        #            }
        #
        #        }
        #        super();
        #
        #        if (estimated)
        #            estimated.updateReservation();
        #
        #        if (estimatedTransfer)
        #            estimatedTransfer.updateReservation();
        #
        #        if (this.JournalType == InventJournalType::Count)
        #            InventItemLocation::updateStartCounting(this.ItemId,this.inventDim(), this.JournalId);
        #
        #        ttscommit;
        #    }
        #    catch (Exception::Error)
        #    {
        #        this.InventTransId = '';
        #    }
        #}
        #
        #
        #
      ENDSOURCE
      SOURCE #inventDim
        #InventDim inventDim(boolean _forUpdate = false)
        #{
        #    return InventDim::find(this.InventDimId,_forUpdate);
        #}
      ENDSOURCE
      SOURCE #InventJournalTable
        #InventJournalTable inventJournalTable(boolean _forUpdate = false)
        #{
        #    return InventJournalTable::find(this.JournalId,_forUpdate);
        #}
      ENDSOURCE
      SOURCE #InventMovement
        #InventMov_Journal inventMovement()
        #{
        #    return InventMovement::construct(this);
        #}
      ENDSOURCE
      SOURCE #InventTable
        #InventTable inventTable()
        #{
        #    return InventTable::find(this.ItemId);
        #
        #}
      ENDSOURCE
      SOURCE #inventTableModuleInvent
        #InventTableModule inventTableModuleInvent()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent);
        #}
      ENDSOURCE
      SOURCE #itemName
        #//BP Deviation documented
        #display ItemNameDisplay itemName()
        #{
        #    ItemNameDisplay test;
        #    ;
        #    test = inventtable::find(this.ItemId).itemname;
        #    //return InventTable::find(this.ItemId).itemName(this.inventDim());
        #    return inventtable::find(this.ItemId).itemname;
        #}
        #
        #
      ENDSOURCE
      SOURCE #linkInventDim2Dimension
        #/// <summary>
        #/// Defaults InventJournalTrans.dimension values based on the InventDim record buffer values.
        #/// </summary>
        #/// <param name="_newInventDim">
        #/// The InventDim record buffer linked to the current InventJournalTrans record buffer;
        #/// </param>
        #/// <param name="_oldInventDim">
        #/// The InventDim record buffer that was previously linked to the current InventJournalTrans record buffer;
        #/// </param>
        #public void linkInventDim2Dimension(InventDim _newInventDim, InventDim _oldInventDim)
        #{
        #    ;
        #    _newInventDim.setInventSiteFromParentIfModified(this, _oldInventDim);
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(fieldId _fieldId)
        #{
        #    super(_fieldId);
        #
        #    switch (_fieldId)
        #    {
        #        case fieldnum(InventJournalTrans, QtyUnit):
        #            this.setQty();
        #            this.modifiedField(fieldnum(InventJournalTrans, Qty));
        #            break;
        #        case fieldnum(InventJournalTrans, Unit):
        #            this.setQty();
        #            this.modifiedField(fieldnum(InventJournalTrans, Qty));
        #            break;
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #numOfVoucherLines
        #Integer numOfVoucherLines()
        #{
        #    return any2int((select count(RecId) from inventJournalTrans
        #                      where inventJournalTrans.JournalId == this.JournalId &&
        #                            inventJournalTrans.Voucher   == this.Voucher).RecId);
        #}
        #
      ENDSOURCE
      SOURCE #PriceUnit
        #PriceUnit  priceUnit()
        #{
        #    return (this.PriceUnit ? this.PriceUnit : 1);
        #}
      ENDSOURCE
      SOURCE #projInventCostAmount
        #SalesCostValue projInventCostAmount(ProjAdjustRefId _projAdjustRefId)
        #{
        #    return InventTrans::projPackingSlipCostAmount(this.InventTransId,_projAdjustRefId);
        #}
      ENDSOURCE
      SOURCE #QtyItem
        #//BI 6May2014
        #display SalesQty QtyItem()
        #{
        #    return (select sum(QtyUnit) from InventJournalTrans
        #              where InventJournalTrans.JournalId == this.JournalId &&
        #                    InventJournalTrans.ItemId == this.ItemId).QtyUnit;
        #}
        #
      ENDSOURCE
      SOURCE #QtyItemFromLocation
        #//BI 6May2014
        #display SalesQty QtyItemFromLocation()
        #{
        #    InventDim           id;
        #    InventJournalTrans  ijt;
        #    WMSLocationId       loc;
        #    InventSiteId        site;
        #
        #    qty ret;
        #    ;
        #
        #    select id
        #        where id.inventDimId==this.InventDimId;
        #    loc=id.wMSLocationId;
        #    site=id.InventSiteId;
        #
        #    select sum(QtyUnit) from ijt
        #        where ijt.JournalId == this.JournalId
        #        && ijt.ItemId == this.ItemId
        #    join id
        #        where id.inventDimId == ijt.InventDimId
        #        && id.wMSLocationId == loc
        #        && id.InventSiteId == site;
        #
        #    ret = ijt.QtyUnit;
        #
        #//    while select * from ijt
        #//        where ijt.JournalId == this.JournalId
        #//        && ijt.ItemId == this.ItemId
        #//    join id
        #//        where id.inventDimId == ijt.InventDimId
        #//        && id.wMSLocationId == loc
        #//        && id.InventSiteId == site
        #//    {
        #//        ret += ijt.QtyUnit;
        #//    }
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #QtyItemToLocation
        #//BI 6May2014
        #display SalesQty QtyItemToLocation()
        #{
        #    InventDim           id;
        #    InventJournalTrans  ijt;
        #    WMSLocationId       loc;
        #    InventSiteId        site;
        #    ;
        #
        #    select id
        #        where id.inventDimId==this.ToInventDimId;
        #    loc=id.wMSLocationId;
        #    site=id.InventSiteId;
        #
        #    select sum(QtyUnit) from ijt join id
        #        where id.inventDimId==ijt.ToInventDimId && id.wMSLocationId==loc &&
        #                ijt.JournalId==this.JournalId && ijt.ItemId==this.ItemId &&
        #                id.InventSiteId==site;
        #
        #    return ijt.QtyUnit;
        #}
        #
      ENDSOURCE
      SOURCE #queryValueInventTransId
        #str queryValueInventTransId()
        #{
        #    str     s;
        #
        #    s = '(';
        #    s += '((' + fieldstr(InventTrans,InventTransId)+' == \"'+this.InventTransId+'\"))';
        #    if (this.ToInventTransId && this.ToInventTransId != this.InventTransId)
        #    {
        #        s += ' || ';
        #        s += '((' +fieldstr(InventTrans,InventTransId)+' == \"'+this.ToInventTransId+'\"))';
        #    }
        #
        #    s +=')';
        #
        #    return s;
        #}
        #
      ENDSOURCE
      SOURCE #setCostPrice
        #void setCostPrice(
        #    InventDimId             _inventDimId                = '',   // can be = '' if setting the _inventDim buffer
        #    InventDim               _inventDim                  = null, // set this parameter for better performance if avail
        #    InventTableModule       _inventTableModuleInvent    = null  // set this parameter for better performance if avail
        #    )
        #{
        #    CostAmount      returnValue;
        #    InventQty       returnQty;
        #
        #    InventPriceMap  inventPriceMap;
        #    InventMovement  inventMovement;
        #    ;
        #
        #    inventMovement = this.inventMovement();
        #
        #    if (inventMovement.isReturned(this.Qty * inventMovement.transSign()))
        #    {
        #        if (inventMovement.inventModelType().stdCostBased())
        #        {
        #            this.CostPrice = InventModelType_StdCost::calcReturnFinancialCostPricePcs(this.InventTransIdReturn,this.InventTransId);
        #        }
        #        else
        #        {
        #            [returnQty,returnValue] = InventTrans::calcReturnCostValue(this.InventTransIdReturn, this.InventTransId);
        #             this.CostPrice = returnQty != 0 ? returnValue /returnQty : 0;
        #        }
        #
        #        this.PriceUnit          = 1;
        #        this.CostMarkup         = 0;
        #    }
        #    else
        #    {
        #        inventPriceMap          = this.inventTable().inventCostPriceMap(_inventDimId ,_inventDim,_inventTableModuleInvent,this.TransDate);
        #
        #        this.CostPrice          = inventPriceMap.price();
        #        this.PriceUnit          = inventPriceMap.priceUnit();
        #        this.CostMarkup         = inventPriceMap.markup();
        #    }
        #
        #    this.CostAmount         = this.calcCostAmount();
        #}
        #
      ENDSOURCE
      SOURCE #setInventDimId
        #/// <summary>
        #/// Applies the InventDimId parameter to the InventJournalTrans.inventDimId field and defaults values based on the new inventory dimensions.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The InventDimId value that should be applied to the InventJournalTrans.InventDimId field.
        #/// </param>
        #/// <param name="_inventDim">
        #/// The InventDim record buffer related to the InventDimId parameters; optional.
        #/// </param>
        #public void setInventDimId(InventDimId _inventDimId, InventDim _inventDim = InventDim::find(_inventDimId))
        #{
        #    InventDim   currentInventDim = this.InventDimId == _inventDimId ? _inventDim : this.inventDim();
        #    ;
        #    this.InventDimId = _inventDimId;
        #    this.linkInventDim2Dimension(_inventDim, currentInventDim);
        #}
      ENDSOURCE
      SOURCE #setInventDimIdFromBOM
        #/// <summary>
        #/// Sets the field inventDimId on the current TmpBOM record.
        #/// </summary>
        #/// <param name="_bom">
        #/// A record of type BOM.
        #/// </param>
        #/// <param name="_parentItemId">
        #/// A string that holds the parent itemID.
        #/// </param>
        #/// <param name="_parentInventDim">
        #/// A record of type inventDim that holds the inventory dimensions related to the parent item.
        #/// </param>
        #/// <param name="_routeId">
        #/// A string that hold the routeID which must be used to make the parent item.
        #/// </param>
        #public void setInventDimIdFromBOM(
        #    BOM         _bom,
        #    ItemId      _parentItemId,
        #    InventDim   _parentInventDim,
        #    RouteId     _routeId)
        #{
        #    InventDim   inventDimNew;
        #    ;
        #
        #    inventDimNew = _bom.BOMMap::inventDimFinal(_parentItemId,_parentInventDim,_routeId);
        #
        #    this.setInventDimId(inventDimNew.InventDimId,inventDimNew);
        #}
      ENDSOURCE
      SOURCE #setInventDimIdFromInventDim
        #/// <summary>
        #/// Finds or create an InventDimId for the InventDim parameter and applies the found InventDimId to the InventJournalTrans.inventDimId field.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// An InventDim record buffer that should be referenced by the current InventJournalTrans record buffer.
        #/// </param>
        #public void setInventDimIdFromInventDim(InventDim _inventDim)
        #{
        #    InventDim   inventDim;
        #    ;
        #    inventDim = InventDim::findOrCreate(_inventDim);
        #    this.setInventDimId(inventDim.InventDimId, inventDim);
        #}
      ENDSOURCE
      SOURCE #setInventTransIdFather
        #void setInventTransIdFather()
        #{
        #    InventJournalTrans      bomParent;
        #    Integer                 numParents;
        #
        #    ;
        #
        #    if (this.bomLine)
        #    {
        #        if (this.InventTransIdFather)
        #            return ;
        #
        #        [numParents,bomParent] = this.getBOMLineInventTransIdParent();
        #
        #        if (numParents == 1)
        #           this.InventTransIdFather = bomParent.InventTransId;
        #    }
        #    else
        #    {
        #        this.InventTransIdFather = nullValue(this.InventTransIdFather);
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #setProjSalesPrice
        #void setProjSalesPrice(ProjTable    _projTable, InventDim _inventDim = this.inventDim())
        #{
        #    PriceDisc   priceDisc;
        #    CustTable   custTable;
        #    ;
        #
        #    if ((this.ProjId) && (this.ItemId))
        #    {
        #        priceDisc =  new PriceDisc(ModuleInventPurchSales::Sales,
        #                             this.ItemId,
        #                             _inventDim,
        #                             this.ProjUnitID,
        #                             this.TransDate,
        #                             this.Qty,
        #                             _projTable.CustAccount,
        #                             _projTable.currencyId());
        #
        #        custTable = CustTable::find(_projTable.CustAccount);
        #
        #        if (! priceDisc.findPrice(custTable.PriceGroup))
        #        {
        #            priceDisc.findItemPrice();
        #        }
        #
        #        this.ProjSalesPrice = priceDisc.price();
        #    }
        #}
      ENDSOURCE
      SOURCE #setQty
        #void setQty()
        #{
        #    if(!this.UnitInvent)
        #        this.UnitInvent = this.unitId();
        #
        #    if(!this.Unit)
        #        this.Unit    = this.UnitInvent;
        #
        #    this.Qty = UnitConvert::qty(this.QtyUnit, this.Unit, this.UnitInvent, this.ItemId);
        #}
      ENDSOURCE
      SOURCE #setQtyUnit
        #void setQtyUnit()
        #{
        #    if(!this.UnitInvent)
        #        this.UnitInvent = this.unitId();
        #
        #    if(!this.Unit)
        #        this.Unit    = this.UnitInvent;
        #
        #    this.QtyUnit = UnitConvert::qty(this.Qty, this.UnitInvent, this.Unit, this.ItemId);
        #}
      ENDSOURCE
      SOURCE #toDimension
        #Dimension toDimension(InventJournalTable _inventJournalTable, InventDim toInventDim)
        #{
        #    Dimension               toDimension = this.Dimension;
        #    InventTrans             inventTrans;
        #    InventSiteDimensionLink inventSiteDimensionLink;
        #    ;
        #    if (this.JournalType != InventJournalType::Transfer)
        #        return toDimension;
        #
        #    if (_inventJournalTable.Posted)
        #    {
        #        if (!this.ToInventTransId || this.ToInventTransId == this.InventTransId)
        #            return this.Dimension;
        #
        #        select firstonly InventTransId, Voucher, DateFinancial from inventTrans
        #            where inventTrans.InventTransId == this.ToInventTransId;
        #        return inventTrans.dimensionFinancial();
        #    }
        #
        #    if (toInventDim.InventSiteId)
        #    {
        #        inventSiteDimensionLink = InventSiteDimensionLink::newDimensionTables(this, toInventDim);
        #        toDimension = inventSiteDimensionLink.changeDimension(toDimension);
        #    }
        #
        #    return toDimension;
        #}
      ENDSOURCE
      SOURCE #toInventDim
        #InventDim toInventDim(boolean _forUpdate = false)
        #{
        #    return InventDim::find(this.ToInventDimId,_forUpdate);
        #}
        #
      ENDSOURCE
      SOURCE #unitId
        #//BP Deviation documented
        #display UnitID unitId()
        #{
        #    return this.inventTable().inventUnitId();
        #}
        #
      ENDSOURCE
      SOURCE #Update
        #void update(NoYes dropEstimated = NoYes::No)
        #{
        #    InventJournalTrans      this_Orig = this.orig();
        #    InventUpd_Estimated     estimated;
        #    InventUpd_Estimated     estimatedTransfer;
        #    ;
        #
        #    ttsbegin;
        #
        #    if (this.JournalType == InventJournalType::Count)
        #        InventItemLocation::updateStopCountingJournal(this_Orig);
        #
        #    if (! dropEstimated)
        #    {
        #        estimated = InventUpd_Estimated::newInventMovement(InventMovement::construct(this));
        #        estimated.updateNow();
        #
        #        if (this.JournalType == InventJournalType::Transfer)
        #        {
        #            estimatedTransfer = InventUpd_Estimated::newInventMovement(InventMovement::construct(this,InventMovSubType::TransferReceipt));
        #            estimatedTransfer.updateNow();
        #        }
        #    }
        #
        #    super();
        #
        #    if (estimated)
        #        estimated.updateReservation();
        #
        #    if (this.JournalType == InventJournalType::Count)
        #        InventItemLocation::updateStartCounting(this.ItemId,this.inventDim(), this.JournalId);
        #
        #    ttscommit;
        #}
        #
        #
      ENDSOURCE
      SOURCE #validateField
        #boolean validateField(fieldId id)
        #{
        #    boolean ret;
        #    ItemId              itemId;
        #    ;
        #    switch(id)
        #    {
        #        case fieldnum(InventJournalTrans, ItemId):
        #            itemId = this.ItemId;
        #            if (itemId && !InventTable::find(itemId))
        #                Barcode::validateItemBarcode(this, itemId);
        #            break;
        #    }
        #
        #    ret = super(id);
        #
        #    switch (id)
        #    {
        #        case fieldnum(InventJournalTrans,LedgerAccountIdOffset):
        #            ret = LedgerTable::checkTransactionAccount(this.LedgerAccountIdOffset) && ret;
        #            break;
        #
        #        case fieldnum(InventJournalTrans, ProjId):
        #            ret = ret && this.checkProjId();
        #            break;
        #
        #        case(fieldnum(InventJournalTrans, ProjCategoryId)):
        #            ret = ret && this.checkProjCategoryId();
        #            break;
        #
        #        case fieldnum(InventJournalTrans, ActivityNumber):
        #            ret = ret && this.checkActivity();
        #            break;
        #
        #        // add by nat (agreeya) - AGR_OTC_DOPickTransfer_Rev
        #        case fieldnum(InventJournalTrans, QtyUnit):
        #            if ( this.AGR_RefTableID != tablenum(VendPackingSlipTrans))
        #            {
        #                if(this.AGR_SummaryDONum != '')
        #                {
        #                    if(this.QtyUnit > this.AGR_DoQty)
        #                        ret = checkfailed('Quantity cannot be more than DO quantity');
        #                }
        #            }
        #            break;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateWrite
        #public boolean validateWrite()
        #{
        #    boolean             isValid;
        #    ProjValCheckTrans   projValCheckTrans;
        #    ReasonTable         reasonTable;
        #    // Retrieve the Reaon code from the reason reference table.
        #    ReasonCode          reasonCode;
        #    ;
        #
        #    isValid = super();
        #
        #    if (this.ReasonRefRecId)
        #    {
        #        reasonCode = ReasonTableRef::find(this.ReasonRefRecId).Reason;
        #    }
        #
        #    if (this.JournalType == InventJournalType::project)
        #    {
        #        if (! this.ProjId)
        #            isValid = checkFailed("@SYS74373");
        #
        #        if (! this.ProjCategoryId)
        #            isValid = checkFailed("@SYS76856");
        #
        #        if (! this.ProjLinePropertyId)
        #            isValid = checkFailed("@SYS76857");
        #
        #        if (! this.ProjUnitID)
        #            isValid = checkFailed("@SYS76858");
        #
        #        if (! this.ProjSalesCurrencyId)
        #            isValid = checkFailed("@SYS76866");
        #
        #        isValid = isValid && this.checkProjId() && this.checkProjCategoryId();
        #
        #        isValid = isValid && this.checkActivity();
        #
        #        if (isValid)
        #        {
        #            projValCheckTrans = new ProjValCheckTrans();
        #            isValid = projValCheckTrans.validateMandatory(this);
        #        }
        #    }
        #
        #    if (this.JournalType == InventJournalType::Count)
        #    {
        #        if (!this.RecId) // don't get consistency check errors for old journals
        #        {
        #            if (this.inventTable().AutoReportFinished)
        #                isValid = checkFailed(strfmt("@SYS83913", this.ItemId));
        #        }
        #    }
        #
        #    if (isValid)
        #    {
        #        isValid = appl.dimensionSetValidation().checkDimension(this, fieldnum(InventJournalTrans, Dimension), true);
        #    }
        #
        #    // General validation if Reason code is used.
        #    if (isValid && reasonCode != "")
        #    {
        #        reasonTable = ReasonTable::find(reasonCode);
        #        if (reasonTable.RecId == 0)
        #        {
        #              isValid = checkFailed(strfmt("@SYS112224", reasonCode, fieldpname(ReasonTable, Reason), tablepname(ReasonTable)));
        #        }
        #    }
        #
        #    // Validate Reason code for these journals.
        #    if (isValid && this.JournalType == InventJournalType::Asset)
        #    {
        #        if (reasonCode == "")
        #        {
        #            if (AssetParameters::transTypeRequiresValidation(this.AssetTransType))
        #            {
        #                // The Reason code required.
        #                isValid = checkFailed(strfmt("@SYS110217", "@SYS111246"));
        #            }
        #        }
        #        else
        #        {
        #            // If a Reason code is blank then these validations will not occur.
        #            if (reasonTable.Asset == NoYes::No)
        #            {
        #                // The Reason code is not active for 'Asset' transactions.
        #                isValid = checkFailed(strfmt("@SYS115522"));
        #            }
        #        }
        #    }
        #
        #    isValid = isValid && this.checkBatch();
        #
        #    return isValid;
        #}
        #
      ENDSOURCE
      SOURCE #ZeroQty
        #//BP Deviation documented
        #display InventQtyZero zeroQty()
        #{
        #    return 0;
        #}
      ENDSOURCE
      SOURCE #adjustReleaseDate
        #/// <summary>
        #/// Updates the InventJournalTrans table ReleaseDate field values for records with the specified journal number and voucher.
        #/// </summary>
        #/// <param name="_inventJournalTrans">
        #/// The InventJournalTrans table record to be used as a basis for the upate.
        #/// </param>
        #/// <remarks>
        #/// This method updates all InventJournalTrans table records having the same journalID and
        #/// voucher as on the supplied InventJournalTrans table record.
        #/// It also sets the ReleaseDate field to the value from the specified InventJournalTrans table record.
        #/// </remarks>
        #public static void adjustReleaseDate(InventJournalTrans _inventJournalTrans)
        #{
        #    InventJournalTrans  inventJournalTransLocal;
        #    ;
        #
        #    // Replace the traditional while select for udpdate statement with update_recordset because
        #    // this command speeds up database processing beacuse of fewer calls to the database.
        #    update_recordset inventJournalTransLocal
        #        setting releaseDate = _inventJournalTrans.ReleaseDate
        #        where ((inventJournalTransLocal.JournalId == _inventJournalTrans.JournalId) &&
        #               (inventJournalTransLocal.RecId != _inventJournalTrans.RecId));
        #}
        #
      ENDSOURCE
      SOURCE #AGR_TransferLines
        #//Created By NAG 4/11/09 (Agreeya) AGR_OTCChange
        #static InventJournalTrans AGR_TransferLines(InventJournalId _journalId, InventTransId _transId, InventDimId _inventDimId, boolean _forUpdate = false)
        #{
        #    InventJournalTrans inventJournalTrans;
        #    ;
        #
        #    inventJournalTrans.selectForUpdate(_forUpdate);
        #
        #    if (_transId)
        #    {
        #        select firstonly inventJournalTrans
        #            //index hint TransIdIdx
        #            index hint JournalTransIdx // change by VLSP 23/09/2019
        #            where inventJournalTrans.JournalId      == _journalId   &&
        #                  //inventJournalTrans.InventTransId  == _transId     &&
        #                  inventJournalTrans.AGR_InventTransId  == _transId     &&
        #                  inventJournalTrans.InventDimId    == _inventDimId;
        #    }
        #
        #    return inventJournalTrans;
        #}
      ENDSOURCE
      SOURCE #findInventTransId
        #static InventJournalTrans findInventTransId(InventTransId _transId,boolean _forUpdate = false)
        #{
        #    InventJournalTrans inventJournalTrans;
        #    ;
        #
        #    inventJournalTrans.selectForUpdate(_forUpdate);
        #
        #    if (_transId)
        #    {
        #        select firstonly inventJournalTrans
        #            index hint TransIdIdx
        #            where inventJournalTrans.InventTransId == _transId;
        #    }
        #
        #    return inventJournalTrans;
        #}
      ENDSOURCE
      SOURCE #findToInventTransId
        #static InventJournalTrans findToInventTransId(InventTransId _transId,boolean _forUpdate = false)
        #{
        #    InventJournalTrans inventJournalTrans;
        #    ;
        #
        #    inventJournalTrans.selectForUpdate(_forUpdate);
        #
        #    if (_transId)
        #    {
        #        select firstonly inventJournalTrans
        #            where inventJournalTrans.ToInventTransId == _transId;
        #    }
        #
        #    return inventJournalTrans;
        #}
      ENDSOURCE
      SOURCE #lastLineNum
        #static LineNum lastLineNum(InventJournalId _journalId)
        #{
        #    return (select maxof(LineNum) from inventJournalTrans
        #                index hint LineIdx
        #                where inventJournalTrans.JournalId == _journalId).LineNum;
        #}
        #
      ENDSOURCE
      SOURCE #lookupInventTransIdFather
        #static void lookupInventTransIdFather(FormStringControl _ctrl, JournalId _journalId)
        #{
        #
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventJournalTrans),_ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource     = query.addDataSource(tablenum(InventJournalTrans));
        #    QueryBuildRange         queryBuildRangeBOMLine   = queryBuildDataSource.addRange(fieldnum(InventJournalTrans,bomLine));
        #    QueryBuildRange         queryBuildRangeJournalId = queryBuildDataSource.addRange(fieldnum(InventJournalTrans,JournalId));
        #    ;
        #
        #    queryBuildRangeBOMLine.value(queryValue(NoYes::No));
        #    queryBuildRangeJournalId.value(queryValue(_journalId));
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventJournalTrans,InventTransId),true);
        #    sysTableLookup.addLookupfield(fieldnum(InventJournalTrans,ItemId));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : InventJournalTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #InventJournalTable
    PROPERTIES
      Name                #InventJournalTable
      Label               #@SYS22111
      FormRef             #InventJournalTable
      TitleField1         #JournalId
      TitleField2         #Description
      ConfigurationKey    #LogisticsBasic
      SecurityKey         #InventTables
      CacheLookup         #NotInTTS
      TableGroup          #WorksheetHeader
      PrimaryIndex        #JournalIdx
      ClusterIndex        #JournalIdx
      DeveloperDocumentation  #@SYS123819
    ENDPROPERTIES
    
    FIELDS
      FIELD #JournalId
        STRING
        PROPERTIES
          Name                #JournalId
          Mandatory           #Yes
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #InventJournalId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          HelpText            #@SYS27840
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalDescription
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #Posted
        ENUM
        PROPERTIES
          Name                #Posted
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalPosted
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Reservation
        ENUM
        PROPERTIES
          Name                #Reservation
          Table               #InventJournalTable
          EnumType            #ItemReservation
        ENDPROPERTIES
        
      FIELD #SystemBlocked
        ENUM
        PROPERTIES
          Name                #SystemBlocked
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalSystemBlocked
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #BlockUserId
        STRING
        PROPERTIES
          Name                #BlockUserId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalBlockUserId
              #
            ENDARRAY
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #SessionLoginDateTime
        DATETIME
        PROPERTIES
          Name                #SessionLoginDateTime
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalSessionLoginDateTime
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PostedDateTime
        DATETIME
        PROPERTIES
          Name                #PostedDateTime
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalPostedDateTime
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #JournalType
        ENUM
        PROPERTIES
          Name                #JournalType
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          EnumType            #InventJournalType
        ENDPROPERTIES
        
      FIELD #JournalNameId
        STRING
        PROPERTIES
          Name                #JournalNameId
          Mandatory           #Yes
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #InventJournalNameId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #InventDimFixed
        INT
        PROPERTIES
          Name                #InventDimFixed
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #InventDimFixed
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #EmplId
        STRING
        PROPERTIES
          Name                #EmplId
          HelpText            #@SYS62798
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #BlockUserGroupId
        STRING
        PROPERTIES
          Name                #BlockUserGroupId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalBlockUserGroupId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #VoucherDraw
        ENUM
        PROPERTIES
          Name                #VoucherDraw
          Table               #InventJournalTable
          EnumType            #JournalVoucherDraw
        ENDPROPERTIES
        
      FIELD #VoucherChange
        ENUM
        PROPERTIES
          Name                #VoucherChange
          Table               #InventJournalTable
          EnumType            #InventJournalVoucherChange
        ENDPROPERTIES
        
      FIELD #VoucherSeqId
        STRING
        PROPERTIES
          Name                #VoucherSeqId
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #InventJournalVoucherSeqId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DEL_SessionLoginTime
        TIME
        PROPERTIES
          Name                #DEL_SessionLoginTime
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #DEL_JournalSessionLoginTime
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #DEL_SessionLoginDate
        DATE
        PROPERTIES
          Name                #DEL_SessionLoginDate
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #DEL_JournalSessionLoginDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #SessionId
        INT
        PROPERTIES
          Name                #SessionId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalSessionId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PostedUserId
        STRING
        PROPERTIES
          Name                #PostedUserId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalPostedUserId
              #
            ENDARRAY
          StringSize          #5
        ENDPROPERTIES
        
      FIELD #DEL_PostedDate
        DATE
        PROPERTIES
          Name                #DEL_PostedDate
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #SysDeletedObjects41
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #DEL_JournalPostedDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #NumOfLines
        INT
        PROPERTIES
          Name                #NumOfLines
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalNumOfLines
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #JournalIdOrignal
        STRING
        PROPERTIES
          Name                #JournalIdOrignal
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #InventJournalIdOrignal
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #DetailSummary
        ENUM
        PROPERTIES
          Name                #DetailSummary
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalDetailSummary
              #
            ENDARRAY
          EnumType            #DetailSummary
        ENDPROPERTIES
        
      FIELD #DeletePostedLines
        ENUM
        PROPERTIES
          Name                #DeletePostedLines
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #JournalDeletePostedLines
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #LedgerAccountIdOffset
        STRING
        PROPERTIES
          Name                #LedgerAccountIdOffset
          Label               #@Sys11162
          HelpText            #@SYS4451
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #LedgerAccount
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ApprovalStatus
        ENUM
        PROPERTIES
          Name                #ApprovalStatus
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #InventJourApprovalStatus
              #
            ENDARRAY
          EnumType            #ApprovalStatus
        ENDPROPERTIES
        
      FIELD #PurchId
        STRING
        PROPERTIES
          Name                #PurchId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #PurchId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Notes
        STRING
        PROPERTIES
          Name                #Notes
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #NotesTxt
              #
            ENDARRAY
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #AGR_SummaryDONum
        STRING
        PROPERTIES
          Name                #AGR_SummaryDONum
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #AGR_SummaryDONum
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AGRPurchOriginId
        STRING
        PROPERTIES
          Name                #AGRPurchOriginId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #PurchOriginId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AGRPurchInternalPackingSlipId
        STRING
        PROPERTIES
          Name                #AGRPurchInternalPackingSlipId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #PurchInternalPackingSlipId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AGR_DOReferenceType
        ENUM
        PROPERTIES
          Name                #AGR_DOReferenceType
          Table               #InventJournalTable
          EnumType            #AGR_DOReferenceType
        ENDPROPERTIES
        
      FIELD #ERL_ItemNum
        INT
        PROPERTIES
          Name                #ERL_ItemNum
          Table               #InventJournalTable
        ENDPROPERTIES
        
      FIELD #ERL_SummaryCOEId
        STRING
        PROPERTIES
          Name                #ERL_SummaryCOEId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #ERL_SummaryRetId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_SalesId
        STRING
        PROPERTIES
          Name                #ERL_SalesId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #SalesId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TCN_ConsOrderType
        ENUM
        PROPERTIES
          Name                #TCN_ConsOrderType
          Table               #InventJournalTable
          EnumType            #TCN_ConsOrderType
        ENDPROPERTIES
        
      FIELD #ERL_NRKonsinyasi
        STRING
        PROPERTIES
          Name                #ERL_NRKonsinyasi
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #ERL_NRKonsinyasi
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_BarcodeId
        STRING
        PROPERTIES
          Name                #ERL_BarcodeId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #ERL_BarcodeId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_SummaryReturnId
        STRING
        PROPERTIES
          Name                #ERL_SummaryReturnId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #ERL_SummaryReturnId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_SalesUnitId
        STRING
        PROPERTIES
          Name                #ERL_SalesUnitId
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #smmSalesUnitId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_SalesResponsible
        STRING
        PROPERTIES
          Name                #ERL_SalesResponsible
          Table               #InventJournalTable
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TCN_SOType
        ENUM
        PROPERTIES
          Name                #TCN_SOType
          Table               #InventJournalTable
          EnumType            #TCN_SOType
        ENDPROPERTIES
        
      FIELD #ERL_Printed
        ENUM
        PROPERTIES
          Name                #ERL_Printed
          Label               #Print Status
          Table               #InventJournalTable
          EnumType            #NoYes
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #JournalId
          #JournalType
          #JournalNameId
          #Description
          #NumOfLines
          #Posted
          #PostedDateTime
          #BlockUserId
          #SystemBlocked
          #Reservation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Approval
        PROPERTIES
          Name                #Approval
          Label               #Approval status
        ENDPROPERTIES
        
        GROUPFIELDS
          #ApprovalStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Blocking
        PROPERTIES
          Name                #Blocking
          Label               #@SYS50247
        ENDPROPERTIES
        
        GROUPFIELDS
          #BlockUserId
          #BlockUserGroupId
          #SystemBlocked
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Employee
        PROPERTIES
          Name                #Employee
          Label               #@SYS4705
        ENDPROPERTIES
        
        GROUPFIELDS
          #EmplId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #History
        PROPERTIES
          Name                #History
          Label               #@SYS10575
        ENDPROPERTIES
        
        GROUPFIELDS
          #Posted
          #PostedDateTime
          #PostedUserId
          #JournalIdOrignal
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #JournalId
          #JournalType
          #JournalNameId
          #Description
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Inventory
        PROPERTIES
          Name                #Inventory
          Label               #@SYS981
        ENDPROPERTIES
        
        GROUPFIELDS
          #Reservation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Notes
        PROPERTIES
          Name                #Notes
          Label               #Notes
        ENDPROPERTIES
        
        GROUPFIELDS
          #Notes
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Posting
        PROPERTIES
          Name                #Posting
          Label               #@SYS5943
        ENDPROPERTIES
        
        GROUPFIELDS
          #LedgerAccountIdOffset
          #DetailSummary
          #DeletePostedLines
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Purchase
        PROPERTIES
          Name                #Purchase
          Label               #Purchase
        ENDPROPERTIES
        
        GROUPFIELDS
          #PurchId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #System
        PROPERTIES
          Name                #System
          Label               #@SYS4278
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventDimFixed
          #SessionLoginDateTime
          #SessionId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Totals
        PROPERTIES
          Name                #Totals
          Label               #@SYS8311
        ENDPROPERTIES
        
        GROUPFIELDS
          #NumOfLines
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Voucher
        PROPERTIES
          Name                #Voucher
          Label               #@SYS12371
        ENDPROPERTIES
        
        GROUPFIELDS
          #VoucherSeqId
          #VoucherDraw
          #VoucherChange
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #JournalIdx
      PROPERTIES
        Name                #JournalIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalId
      ENDINDEXFIELDS
      
      #PostedJouirnalIdx
      PROPERTIES
        Name                #PostedJouirnalIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #Posted
        #JournalId
      ENDINDEXFIELDS
      
      #ERL_SalesIdIdx
      PROPERTIES
        Name                #ERL_SalesIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalId
        #ERL_SalesId
        #TCN_ConsOrderType
      ENDINDEXFIELDS
      
      #ERL_ConsignmentIdx
      PROPERTIES
        Name                #ERL_ConsignmentIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #TCN_ConsOrderType
        #ERL_SalesId
      ENDINDEXFIELDS
      
      #JournalNameIdx
      PROPERTIES
        Name                #JournalNameIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #JournalNameId
      ENDINDEXFIELDS
      
      #AGR_SummaryDONumx
      PROPERTIES
        Name                #AGR_SummaryDONumx
      ENDPROPERTIES
      
      INDEXFIELDS
        #AGR_SummaryDONum
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #JournalError
        PROPERTIES
          Name                #JournalError
          Table               #JournalError
          Validate            #No
          EntityRelationshipRole  #@SYS123820
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TableId
            RelatedField        #RefTableId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #JournalId
            RelatedField        #JournalId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesTable
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #SalesTable
            RelatedField        #TCN_SOType
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ERL_SalesId
            RelatedField        #SalesId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VendPackingSlipJour
        PROPERTIES
          Name                #VendPackingSlipJour
          Table               #VendPackingSlipJour
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AGRPurchInternalPackingSlipId
            RelatedField        #InternalPackingSlipId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #InventJournalTrans_Tag
      PROPERTIES
        Table               #InventJournalTrans_Tag
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventJournalTrans
      PROPERTIES
        Table               #InventJournalTrans
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #JournalError
      PROPERTIES
        Table               #JournalError
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #checkSameToLocation
        #public boolean checkSameToLocation(AGR_SummaryDONum SDO, InventJournalId JournalId)
        #{
        #    boolean             ret = true;
        #    InventJournalTrans  JournalTrans;
        #    InventDim           InventDimReceipt;
        #    InventTransId       InventTransid;
        #    WMSLocationId       ToWmsLocationid;
        #    ;
        #
        #    while select AGR_SummaryDONum, AGR_InventTransId, ItemId, ToInventdimid from Journaltrans
        #        order by AGR_SummaryDONum, AGR_InventTransId, ItemId, ToInventdimid
        #        where JournalTrans.AGR_SummaryDONum == SDO
        #        Join wMSLocationId from InventDimReceipt
        #            where InventDimReceipt.inventDimId  == JournalTrans.ToInventDimId
        #    {
        #        if(JournalTrans.AGR_InventTransId == InventTransid)
        #        {
        #            if(ToWmsLocationid && InventDimReceipt.wMSLocationId != ToWmsLocationid)
        #            {
        #                if(JournalTrans.JournalId != JournalId)
        #                    ret = checkfailed(strfmt("To Location Item %1 for Journal %2 is different with %3. To Location for same Lot Id from same order number must be same.",
        #                                     Journaltrans.ItemId, JournalId, JournalTrans.JournalId));
        #                else
        #                    ret = checkfailed(strfmt("To Location Item %1 in Journal %2 is different. To Location for same Lot Id from same order number must be same.",
        #                                     Journaltrans.ItemId, JournalId));
        #                break;
        #            }
        #        }
        #
        #        InventTransid   = Journaltrans.AGR_InventTransId;
        #        ToWmsLocationid = InventDimReceipt.wMSLocationId;
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #delete
        #public void delete()
        #{
        #    SalesTable  sTable = this.salesTable(true);
        #    ERL_SRO     sro;
        #
        #    super();
        #
        #    // naski add 12/19/2017 - konsinyasi baru : update status consignment cso ketika
        #    if(sTable && this.ERL_SalesId && (this.TCN_ConsOrderType == TCN_ConsOrderType::Order)){
        #        ttsbegin;
        #        sTable.TCN_ConsignmentStatus = 0;
        #        sTable.update();
        #        ttscommit;
        #    }
        #
        #    // naski add 1/25/2018 - updating transfer flag on summary return
        #    while select forupdate sro where sro.JournalId == this.JournalId {
        #        ttsbegin;
        #        sro.JournalId = "";
        #        sro.update();
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #InitFromInventJournalName
        #void initFromInventJournalName(InventJournalName inventJournalName)
        #{
        #    ;
        #    JournalTableData::newTable(this).initFromJournalName(inventJournalName);
        #}
        #
      ENDSOURCE
      SOURCE #initValue
        #public void initValue()
        #{
        #    super();
        #
        #    this.Reservation = ItemReservation::Automatic;
        #}
      ENDSOURCE
      SOURCE #insert
        #void insert()
        #{
        #    ttsbegin;
        #
        #    if (!this.JournalId)
        #        this.JournalId = JournalTableData::newTable(this).nextJournalId();
        #
        #    super();
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #inventJournalName
        #InventJournalName   inventJournalName()
        #{
        #    return InventJournalName::find(this.JournalNameId);
        #
        #}
        #
      ENDSOURCE
      SOURCE #salesTable
        #// naski add 12/19/2017 - konsinyasi baru
        #SalesTable salesTable(boolean _forupdate)
        #{
        #    SalesTable sTable;
        #    ;
        #    sTable = SalesTable::find(this.ERL_SalesId,_forupdate);
        #
        #    return sTable;
        #}
      ENDSOURCE
      SOURCE #transDate
        #Display JournalTransDate transDate()
        #{
        #    JournalTransDate    ret;
        #    InventJournalTrans  ijTrans;
        #    ;
        #    select minof(transDate) from ijTrans where ijTrans.JournalId == this.JournalId;
        #    ret = ijTrans.TransDate;
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #ValidateWrite
        #boolean validateWrite(JournalTableData  _journalTableData = JournalTableData::newTable(this))
        #{
        #    boolean ret = true;
        #
        #    ret = _journalTableData.validateWritePre(ret);
        #
        #    if (!this.VoucherSeqId && this.voucherSeqIdMandatory())
        #        ret = checkFailed(strfmt("@SYS26332", new DictField(this.TableId, fieldnum(InventJournalTable, VoucherSeqId)).label()));
        #
        #    ret = super() && ret;
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #voucherSeqIdMandatory
        #boolean voucherSeqIdMandatory()
        #{
        #    if (this.JournalType == InventJournalType::TagCounting)
        #        return false;
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkExist
        #static boolean checkExist(InventJournalId inventJournalId)
        #{
        #    if (inventJournalId && !InventJournalTable::exist(inventJournalId))
        #        return checkFailed(strfmt(InventJournalTable::txtNotExist(),inventJournalId));
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #exist
        #static boolean exist(InventJournalId inventJournalId)
        #{
        #    return inventJournalId && (select firstonly inventJournalTable
        #                index hint JournalIdx
        #                where inventJournalTable.JournalId == inventJournalId
        #           ).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #find
        #static InventJournalTable find(InventJournalId inventJournalId, boolean _forUpdate = false)
        #{
        #    InventJournalTable inventJournalTable;
        #    ;
        #    inventJournalTable.selectForUpdate(_forUpdate);
        #
        #    if (inventJournalId)
        #        select firstonly inventJournalTable
        #            index hint JournalIdx
        #            where inventJournalTable.JournalId == inventJournalId;
        #
        #    return inventJournalTable;
        #}
      ENDSOURCE
      SOURCE #findbySalesId
        #// naski add 12/19/2017 - konsinyasi baru
        #static InventJournalTable findbySalesId(SalesId     _salesId,
        #                                TCN_ConsOrderType   _consOrderType = TCN_ConsOrderType::Order,
        #                                boolean             _forUpdate = false)
        #{
        #
        #    InventJournalTable      inventJournalTable;
        #    ;
        #
        #    inventJournalTable.selectForUpdate(_forUpdate);
        #
        #    if (_salesId)
        #    {
        #        select firstonly inventJournalTable
        #            index hint ERL_ConsignmentIdx
        #            where
        #                inventJournalTable.ERL_SalesId == _salesId &&
        #                inventJournalTable.TCN_ConsOrderType == _consOrderType
        #            ;
        #    }
        #
        #    return inventJournalTable;
        #}
      ENDSOURCE
      SOURCE #initTotal
        #server static void initTotal(InventJournalTable _inventJournalTable)
        #{
        #    InventJournalTrans      inventJournalTrans;
        #    InventJournalTrans_Tag  inventJournalTrans_Tag;
        #    ;
        #    switch(_inventJournalTable.JournalType)
        #    {
        #        case InventJournalType::Movement:
        #        case InventJournalType::LossProfit:
        #        case InventJournalType::Transfer:
        #        case InventJournalType::BOM:
        #        case InventJournalType::Count:
        #        case InventJournalType::project:
        #            select count(RecId) from inventJournalTrans
        #                where inventJournalTrans.JournalId == _inventJournalTable.JournalId;
        #
        #            _inventJournalTable.NumOfLines     = any2int(inventJournalTrans.RecId);
        #            break;
        #        case InventJournalType::TagCounting:
        #            select count(RecId) from inventJournalTrans_Tag
        #                where inventJournalTrans_Tag.JournalId == _inventJournalTable.JournalId;
        #
        #            _inventJournalTable.NumOfLines     = any2int(inventJournalTrans_Tag.RecId);
        #            break;
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #journalId2inventDimParm
        #static InventDimParm journalId2inventDimParm(InventJournalId inventJournalId)
        #{
        #    InventDimParm inventDimParm;
        #    ;
        #    InventDimFixedClass::inventDimFixed2InventDimParm(InventJournalTable::find(inventJournalId).InventDimFixed,inventDimParm);
        #    return inventDimParm;
        #}
      ENDSOURCE
      SOURCE #name
        #static Name name(InventJournalId inventJournalId)
        #{
        #    return InventJournalTable::find(inventJournalId).Description;
        #}
      ENDSOURCE
      SOURCE #txtNotExist
        #static TxtNotExist txtNotExist()
        #{
        #    return "@SYS17145";
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : AGR_GradeItem unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #AGR_GradeItem
    PROPERTIES
      Name                #AGR_GradeItem
      SecurityKey         #InventSetup
      PrimaryIndex        #RecIdx
    ENDPROPERTIES
    
    FIELDS
      FIELD #AGR_ItemGrade
        STRING
        PROPERTIES
          Name                #AGR_ItemGrade
          Table               #AGR_GradeItem
          ExtendedDataType    
            ARRAY 
              #AGR_ItemGrade
              #
            ENDARRAY
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #AGR_GradeName
        STRING
        PROPERTIES
          Name                #AGR_GradeName
          Table               #AGR_GradeItem
          ExtendedDataType    
            ARRAY 
              #Description
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #AGR_ItemGrade
          #AGR_GradeName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Overview
        PROPERTIES
          Name                #Overview
          Label               #Details
        ENDPROPERTIES
        
        GROUPFIELDS
          #AGR_ItemGrade
          #AGR_GradeName
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #GradeIDX
      PROPERTIES
        Name                #GradeIDX
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #AGR_ItemGrade
      ENDINDEXFIELDS
      
      #RecIdx
      PROPERTIES
        Name                #RecIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #RecId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #validateWrite
        #public boolean validateWrite()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    if ( ret && strlen(this.AGR_ItemGrade) < 2 )
        #    {
        #        error ('Grade id must be 2 character');
        #        ret =   false;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #find
        #static AGR_GradeItem find( AGR_ItemGrade _value , boolean flag = false )
        #{
        #    AGR_GradeItem           _gradeItem;
        #    ;
        #    if ( _value ) {
        #        _gradeItem.selectForUpdate( flag );
        #        select _gradeItem index hint GradeIDX
        #            where   _gradeItem.AGR_ItemGrade    ==  _value;
        #    }
        #    return _gradeItem;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : InventTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #InventTable
    PROPERTIES
      Name                #InventTable
      Label               #@SYS15649
      FormRef             #InventTable
      SearchLinkRefType   #Action
      SearchLinkRefName   #EPInventTableSearchItem
      TitleField1         #ItemId
      TitleField2         #ItemName
      ConfigurationKey    #LogisticsBasic
      SecurityKey         #InventTables
      CacheLookup         #Found
      CreateRecIdIndex    #Yes
      TableGroup          #Main
      PrimaryIndex        #ItemIdx
      ClusterIndex        #ItemIdx
      AnalysisVisibility  #High
      DeveloperDocumentation  #@SYS123844
    ENDPROPERTIES
    
    FIELDS
      FIELD #ItemGroupId
        STRING
        PROPERTIES
          Name                #ItemGroupId
          HelpText            #@SYS27685
          Mandatory           #Yes
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ItemId
        STRING
        PROPERTIES
          Name                #ItemId
          Mandatory           #Yes
          AllowEdit           #No
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ItemName
        STRING
        PROPERTIES
          Name                #ItemName
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemName
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #ItemType
        ENUM
        PROPERTIES
          Name                #ItemType
          AllowEdit           #No
          Table               #InventTable
          EnumType            #ItemType
        ENDPROPERTIES
        
      FIELD #PurchModel
        ENUM
        PROPERTIES
          Name                #PurchModel
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemPurchModel
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Height
        REAL
        PROPERTIES
          Name                #Height
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #BOMMeasureHeight
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Width
        REAL
        PROPERTIES
          Name                #Width
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #BOMMeasureWidth
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #SalesModel
        ENUM
        PROPERTIES
          Name                #SalesModel
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemSalesModel
              #
            ENDARRAY
          EnumType            #SalesPriceModel
        ENDPROPERTIES
        
      FIELD #CostGroupId
        STRING
        PROPERTIES
          Name                #CostGroupId
          HelpText            #@SYS25616
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #CostGroupIdDirectMaterial
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ReqGroupId
        STRING
        PROPERTIES
          Name                #ReqGroupId
          HelpText            #@SYS6456
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ReqGroupId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #EPCManager
        REAL
        PROPERTIES
          Name                #EPCManager
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #EPCManager
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PrimaryVendorId
        STRING
        PROPERTIES
          Name                #PrimaryVendorId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemPrimaryVendId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #NetWeight
        REAL
        PROPERTIES
          Name                #NetWeight
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemNetWeight
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Depth
        REAL
        PROPERTIES
          Name                #Depth
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #BOMMeasureDepth
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #UnitVolume
        REAL
        PROPERTIES
          Name                #UnitVolume
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemVolume
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #BOMUnitId
        STRING
        PROPERTIES
          Name                #BOMUnitId
          Label               #@SYS3622
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #BOMUnitId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ItemPriceToleranceGroupId
        STRING
        PROPERTIES
          Name                #ItemPriceToleranceGroupId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemPriceToleranceGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #Density
        REAL
        PROPERTIES
          Name                #Density
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #BOMMeasureDensity
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #CostModel
        ENUM
        PROPERTIES
          Name                #CostModel
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemCostModel
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #UseAltItemId
        ENUM
        PROPERTIES
          Name                #UseAltItemId
          Label               #@SYS5983
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemUseAlternative
              #
            ENDARRAY
          EnumType            #ItemNumAlternative
        ENDPROPERTIES
        
      FIELD #AltItemId
        STRING
        PROPERTIES
          Name                #AltItemId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemIdAlternative
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Intracode
        STRING
        PROPERTIES
          Name                #Intracode
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #IntrastatItemCodeId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ProdFlushingPrincip
        ENUM
        PROPERTIES
          Name                #ProdFlushingPrincip
          Table               #InventTable
          EnumType            #ProdFlushingPrincipItem
        ENDPROPERTIES
        
      FIELD #MinimumPalletQuantity
        REAL
        PROPERTIES
          Name                #MinimumPalletQuantity
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #WMSMinimumPalletQuantity
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PBAItemAutoGenerated
        ENUM
        PROPERTIES
          Name                #PBAItemAutoGenerated
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PBAItemAutoGenerated
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #WMSArrivalHandlingTime
        TIME
        PROPERTIES
          Name                #WMSArrivalHandlingTime
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #WMSArrivalHandlingTime
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #BOMManualReceipt
        ENUM
        PROPERTIES
          Name                #BOMManualReceipt
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemBOMManualReceipt
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #StopExplode
        ENUM
        PROPERTIES
          Name                #StopExplode
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemStopExplode
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Phantom
        ENUM
        PROPERTIES
          Name                #Phantom
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemPhantom
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #IntraUnit
        REAL
        PROPERTIES
          Name                #IntraUnit
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #IntrastatConvert
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #BOMLevel
        INT
        PROPERTIES
          Name                #BOMLevel
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemBOMLevel
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #BatchNumGroupId
        STRING
        PROPERTIES
          Name                #BatchNumGroupId
          Label               #@SYS53815
          HelpText            #@SYS1674
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventNumGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AutoReportFinished
        ENUM
        PROPERTIES
          Name                #AutoReportFinished
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemAutoReportFinished
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #OrigCountryRegionId
        STRING
        PROPERTIES
          Name                #OrigCountryRegionId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemOrigCountryRegionId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #StatisticsFactor
        REAL
        PROPERTIES
          Name                #StatisticsFactor
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #IntrastatMarkupPct
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AltConfigId
        STRING
        PROPERTIES
          Name                #AltConfigId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ConfigIdAlternative
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #StandardConfigId
        STRING
        PROPERTIES
          Name                #StandardConfigId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ConfigIdStandard
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ProdPoolId
        STRING
        PROPERTIES
          Name                #ProdPoolId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemProdPoolId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #PropertyId
        STRING
        PROPERTIES
          Name                #PropertyId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PropertyIdItem
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ABCTieUp
        ENUM
        PROPERTIES
          Name                #ABCTieUp
          Label               #@SYS7296
          HelpText            #@SYS12390
          GroupPrompt         #@SYS14545
          ConfigurationKey    #LogisticsAdvanced
          Table               #InventTable
          EnumType            #ABC
        ENDPROPERTIES
        
      FIELD #ABCRevenue
        ENUM
        PROPERTIES
          Name                #ABCRevenue
          Label               #@SYS7295
          HelpText            #@SYS6299
          GroupPrompt         #@SYS10074
          ConfigurationKey    #LogisticsAdvanced
          Table               #InventTable
          EnumType            #ABC
        ENDPROPERTIES
        
      FIELD #ABCValue
        ENUM
        PROPERTIES
          Name                #ABCValue
          Label               #@SYS10478
          HelpText            #@SYS1560
          GroupPrompt         #@SYS11762
          ConfigurationKey    #LogisticsAdvanced
          Table               #InventTable
          EnumType            #ABC
        ENDPROPERTIES
        
      FIELD #ABCContributionMargin
        ENUM
        PROPERTIES
          Name                #ABCContributionMargin
          Label               #@SYS11930
          HelpText            #@SYS1505
          GroupPrompt         #@SYS5446
          ConfigurationKey    #LogisticsAdvanced
          Table               #InventTable
          EnumType            #ABC
        ENDPROPERTIES
        
      FIELD #CommissionGroupId
        STRING
        PROPERTIES
          Name                #CommissionGroupId
          Label               #@SYS23785
          HelpText            #@SYS25617
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #CommissItemGroup
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #Configurable
        ENUM
        PROPERTIES
          Name                #Configurable
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemConfigurable
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SalesPercentMarkup
        REAL
        PROPERTIES
          Name                #SalesPercentMarkup
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemSalesPercentMarkup
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #SalesContributionRatio
        REAL
        PROPERTIES
          Name                #SalesContributionRatio
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemSalesContributionRatio
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #SalesPriceModelBasic
        ENUM
        PROPERTIES
          Name                #SalesPriceModelBasic
          Table               #InventTable
          EnumType            #SalesPriceModelBasic
        ENDPROPERTIES
        
      FIELD #DEL_MinAverageSettle
        REAL
        PROPERTIES
          Name                #DEL_MinAverageSettle
          ConfigurationKey    #SysDeletedObjects41
          Table               #InventTable
        ENDPROPERTIES
        
      FIELD #NameAlias
        STRING
        PROPERTIES
          Name                #NameAlias
          Table               #InventTable
          AliasFor            #ItemId
          ExtendedDataType    
            ARRAY 
              #ItemNameAlias
              #
            ENDARRAY
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #ProdGroupId
        STRING
        PROPERTIES
          Name                #ProdGroupId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemProdGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #projCategoryId
        STRING
        PROPERTIES
          Name                #projCategoryId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ProjCategoryId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #grossDepth
        REAL
        PROPERTIES
          Name                #grossDepth
          Label               #@SYS50291
          HelpText            #@SYS50292
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventDepth
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #grossWidth
        REAL
        PROPERTIES
          Name                #grossWidth
          Label               #@SYS50289
          HelpText            #@SYS50290
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventWidth
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #grossHeight
        REAL
        PROPERTIES
          Name                #grossHeight
          Label               #@SYS50287
          HelpText            #@SYS50288
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventHeight
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #standardPalletQuantity
        REAL
        PROPERTIES
          Name                #standardPalletQuantity
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #WMSStandardPalletQuantity
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #qtyPerLayer
        REAL
        PROPERTIES
          Name                #qtyPerLayer
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #WMSQtyPerLayer
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #sortCode
        INT
        PROPERTIES
          Name                #sortCode
          HelpText            #@SYS56625
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #WMSSortCode
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ConfigSimilar
        ENUM
        PROPERTIES
          Name                #ConfigSimilar
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemConfigSimilar
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SerialNumGroupId
        STRING
        PROPERTIES
          Name                #SerialNumGroupId
          Label               #@SYS53816
          HelpText            #@SYS53817
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventNumGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #DimGroupId
        STRING
        PROPERTIES
          Name                #DimGroupId
          Mandatory           #Yes
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventDimGroupId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ModelGroupId
        STRING
        PROPERTIES
          Name                #ModelGroupId
          Mandatory           #Yes
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventModelGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ItemBuyerGroupId
        STRING
        PROPERTIES
          Name                #ItemBuyerGroupId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemBuyerGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #TaxPackagingQty
        REAL
        PROPERTIES
          Name                #TaxPackagingQty
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #TaxPackagingQty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #WMSPalletTypeId
        STRING
        PROPERTIES
          Name                #WMSPalletTypeId
          HelpText            #@SYS57866
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #WMSPalletTypeId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #OrigStateId
        STRING
        PROPERTIES
          Name                #OrigStateId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemOrigStateId
              #
            ENDARRAY
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #DEL_StopExplodePrice
        ENUM
        PROPERTIES
          Name                #DEL_StopExplodePrice
          ConfigurationKey    #SysDeletedObjects40
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemStopExplodePrice
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #WMSPickingQtyTime
        TIME
        PROPERTIES
          Name                #WMSPickingQtyTime
          Label               #@SYS51198
          HelpText            #@SYS51199
          ConfigurationKey    #WMSAdvanced
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #TimeHour24
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TaraWeight
        REAL
        PROPERTIES
          Name                #TaraWeight
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemTaraWeight
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PackagingGroupId
        STRING
        PROPERTIES
          Name                #PackagingGroupId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemPackagingGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ScrapVar
        REAL
        PROPERTIES
          Name                #ScrapVar
          HelpText            #@SYS73407
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ScrapVar
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ScrapConst
        REAL
        PROPERTIES
          Name                #ScrapConst
          HelpText            #@SYS73406
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ScrapConst
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #StandardInventColorId
        STRING
        PROPERTIES
          Name                #StandardInventColorId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventColorId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #StandardInventSizeId
        STRING
        PROPERTIES
          Name                #StandardInventSizeId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventSizeId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ItemDimCombinationAutoCreate
        ENUM
        PROPERTIES
          Name                #ItemDimCombinationAutoCreate
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemDimCombinationAutoCreate
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ItemDimCostPrice
        ENUM
        PROPERTIES
          Name                #ItemDimCostPrice
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemDimCostPrice
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ItemIdCompany
        STRING
        PROPERTIES
          Name                #ItemIdCompany
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemIdCompany
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AltInventSizeId
        STRING
        PROPERTIES
          Name                #AltInventSizeId
          HelpText            #@SYS75748
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventSizeId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AltInventColorId
        STRING
        PROPERTIES
          Name                #AltInventColorId
          HelpText            #@SYS75749
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventColorId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ForecastDMPInclude
        ENUM
        PROPERTIES
          Name                #ForecastDMPInclude
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ForecastDMPInclude
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PalletTagging
        ENUM
        PROPERTIES
          Name                #PalletTagging
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #RFIDPalletTagging
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ItemTaggingLevel
        ENUM
        PROPERTIES
          Name                #ItemTaggingLevel
          Table               #InventTable
          EnumType            #RFIDItemTaggingLevel
        ENDPROPERTIES
        
      FIELD #FiscalLIFOAvoidCalc
        ENUM
        PROPERTIES
          Name                #FiscalLIFOAvoidCalc
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventFiscalLIFOAvoidCalc
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #FiscalLIFONormalValue
        REAL
        PROPERTIES
          Name                #FiscalLIFONormalValue
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventFiscalLIFONormalValue
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #FiscalLIFOGroup
        STRING
        PROPERTIES
          Name                #FiscalLIFOGroup
          HelpText            #@SYS93063
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventFiscalLIFOGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #FiscalLIFONormalValueCalc
        ENUM
        PROPERTIES
          Name                #FiscalLIFONormalValueCalc
          Table               #InventTable
          EnumType            #InventFiscalLIFONormalValueCalc
        ENDPROPERTIES
        
      FIELD #BOMCalcGroupId
        STRING
        PROPERTIES
          Name                #BOMCalcGroupId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #BOMCalcGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #PBAItemConfigurable
        ENUM
        PROPERTIES
          Name                #PBAItemConfigurable
          Label               #@SYS40402
          HelpText            #@SYS40510
          ConfigurationKey    #PBA_ProductBuilder
          Table               #InventTable
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PBAInventItemGroupId
        STRING
        PROPERTIES
          Name                #PBAInventItemGroupId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PBAInventItemGroupId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #PBAHideDialog
        ENUM
        PROPERTIES
          Name                #PBAHideDialog
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PBAHideDialog
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PBAHideApproval
        ENUM
        PROPERTIES
          Name                #PBAHideApproval
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PBAHideApproval
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PBAAutoStart
        ENUM
        PROPERTIES
          Name                #PBAAutoStart
          ConfigurationKey    #PBA_ProductBuilder
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PBAAutostart
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PBAMandatoryConfig
        ENUM
        PROPERTIES
          Name                #PBAMandatoryConfig
          ConfigurationKey    #PBA_ProductBuilder
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #PBAMandatoryConfig
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ItemBrandId
        STRING
        PROPERTIES
          Name                #ItemBrandId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemBrandId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AGR_ItemCategoryId
        STRING
        PROPERTIES
          Name                #AGR_ItemCategoryId
          Label               #Category
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemCategoryId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AGR_ItemSeriesId
        STRING
        PROPERTIES
          Name                #AGR_ItemSeriesId
          Label               #Series
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemSubCategoryId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AGR_ItemSegment
        STRING
        PROPERTIES
          Name                #AGR_ItemSegment
          Label               #Segment
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemContentColorId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ItemIdOld
        STRING
        PROPERTIES
          Name                #ItemIdOld
          Label               #Old Item number
          HelpText            #Identify old item number
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemIdBase
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ItemOrigin
        ENUM
        PROPERTIES
          Name                #ItemOrigin
          Table               #InventTable
          EnumType            #ItemOrigin
        ENDPROPERTIES
        
      FIELD #AGR_ItemLevel
        STRING
        PROPERTIES
          Name                #AGR_ItemLevel
          Label               #Level
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemQualityCodeId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ContentDesc
        STRING
        PROPERTIES
          Name                #ContentDesc
          Label               #Content
          HelpText            #Description of the content
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Num
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #FixedAsset
        ENUM
        PROPERTIES
          Name                #FixedAsset
          Label               #Fixed asset
          HelpText            #Fixed asset
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SizeTxt
        STRING
        PROPERTIES
          Name                #SizeTxt
          Label               #Size
          HelpText            #Size
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Num
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PartNum
        STRING
        PROPERTIES
          Name                #PartNum
          Label               #Part number
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemIdBase
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ImportName
        STRING
        PROPERTIES
          Name                #ImportName
          Label               #Import name
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #InventImportName
              #
            ENDARRAY
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #HSNum
        STRING
        PROPERTIES
          Name                #HSNum
          Label               #HS Num
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemIdBase
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #WebItem
        ENUM
        PROPERTIES
          Name                #WebItem
          Label               #Available on web
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ImagePath
        STRING
        PROPERTIES
          Name                #ImagePath
          Label               #Image path
          HelpText            #Image path on web site
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #SLT_ImagePath
              #
            ENDARRAY
          StringSize          #255
        ENDPROPERTIES
        
      FIELD #includeBPRCalc
        ENUM
        PROPERTIES
          Name                #includeBPRCalc
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #includeBPRCalc
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AGR_PackingTypeId
        STRING
        PROPERTIES
          Name                #AGR_PackingTypeId
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_PackingTypeId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_Quantity
        REAL
        PROPERTIES
          Name                #AGR_Quantity
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Qty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_ItemClassification
        ENUM
        PROPERTIES
          Name                #AGR_ItemClassification
          Mandatory           #Yes
          Table               #InventTable
          EnumType            #AGR_ItemClassification
        ENDPROPERTIES
        
      FIELD #AGR_Naskah
        ENUM
        PROPERTIES
          Name                #AGR_Naskah
          Label               #Naskah
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AGR_GroupOriginId
        STRING
        PROPERTIES
          Name                #AGR_GroupOriginId
          Label               #Kl Bid
          HelpText            #Kelompok Bidang
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_GroupOriginId
              #
            ENDARRAY
          StringSize          #1
        ENDPROPERTIES
        
      FIELD #AGR_GroupGradeId
        STRING
        PROPERTIES
          Name                #AGR_GroupGradeId
          Label               #Bidang
          HelpText            #Bidang
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_GroupGradeId
              #
            ENDARRAY
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #AGR_GroupAreaId
        STRING
        PROPERTIES
          Name                #AGR_GroupAreaId
          Label               #Nampel
          HelpText            #Nama Pelajaran
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_GroupAreaId
              #
            ENDARRAY
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #AGR_Edition
        ENUM
        PROPERTIES
          Name                #AGR_Edition
          Label               #Edition
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AGR_ItemId_Edition
        STRING
        PROPERTIES
          Name                #AGR_ItemId_Edition
          Label               #Item Edition
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ItemId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AGR_Pengarang
        STRING
        PROPERTIES
          Name                #AGR_Pengarang
          Label               #Writer
          HelpText            #Name of The writer
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Description
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #AGR_Minor
        ENUM
        PROPERTIES
          Name                #AGR_Minor
          Label               #Minor
          HelpText            #Minor
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AGR_Expense
        ENUM
        PROPERTIES
          Name                #AGR_Expense
          Label               #Expense
          HelpText            #Expense
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AGR_BrandId
        STRING
        PROPERTIES
          Name                #AGR_BrandId
          Label               #Origin
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_BrandId
              #
            ENDARRAY
          StringSize          #1
        ENDPROPERTIES
        
      FIELD #AGR_ItemGrade
        STRING
        PROPERTIES
          Name                #AGR_ItemGrade
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_ItemGrade
              #
            ENDARRAY
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #AGR_TaxBupelId
        STRING
        PROPERTIES
          Name                #AGR_TaxBupelId
          Label               #Tax Bupel
          HelpText            #Tax Bupel
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #TaxCode
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AGR_RoyaltiVend
        STRING
        PROPERTIES
          Name                #AGR_RoyaltiVend
          Label               #Royalti Vendor
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #VendAccount
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AGR_PublishDate
        DATE
        PROPERTIES
          Name                #AGR_PublishDate
          Label               #Publish Date
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #TransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_PublishYear
        INT
        PROPERTIES
          Name                #AGR_PublishYear
          Label               #Publish Year
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Yr
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_ItemCurriculum
        STRING
        PROPERTIES
          Name                #AGR_ItemCurriculum
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_ItemCurriculum
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #AGR_Jilid
        STRING
        PROPERTIES
          Name                #AGR_Jilid
          Label               #Jilid
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_ItemSpecification
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_Ukuran
        STRING
        PROPERTIES
          Name                #AGR_Ukuran
          Label               #Ukuran
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_ItemSpecification
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_Kertas
        STRING
        PROPERTIES
          Name                #AGR_Kertas
          Label               #Kertas
          Table               #InventTable
        ENDPROPERTIES
        
      FIELD #AGR_Edisi
        STRING
        PROPERTIES
          Name                #AGR_Edisi
          Label               #Edisi
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #AGR_ItemSpecification
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_Halaman
        INT
        PROPERTIES
          Name                #AGR_Halaman
          Label               #Halaman
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #Integer
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_Nampel
        STRING
        PROPERTIES
          Name                #ERL_Nampel
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ERL_Nampel
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #ERL_Bidang
        STRING
        PROPERTIES
          Name                #ERL_Bidang
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ERL_Bidang
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #ERL_KLBID
        STRING
        PROPERTIES
          Name                #ERL_KLBID
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ERL_KLBID
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #ERL_TaxType
        ENUM
        PROPERTIES
          Name                #ERL_TaxType
          Label               #DTP/BKP
          Table               #InventTable
          EnumType            #AGR_BupelNonBupel
        ENDPROPERTIES
        
      FIELD #ERL_Rate
        ENUM
        PROPERTIES
          Name                #ERL_Rate
          Label               #Rate
          HelpText            #Rate as Unsafe
          Table               #InventTable
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ERL_ItemJobId
        STRING
        PROPERTIES
          Name                #ERL_ItemJobId
          Label               #No Job
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #ERL_ItemJobId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_Blocked
        ENUM
        PROPERTIES
          Name                #ERL_Blocked
          Label               #Item Blocked
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ERL_ItemCategory
        ENUM
        PROPERTIES
          Name                #ERL_ItemCategory
          Table               #InventTable
          EnumType            #ERL_ItemCategory
        ENDPROPERTIES
        
      FIELD #GRM_ItemCategoryId
        STRING
        PROPERTIES
          Name                #GRM_ItemCategoryId
          Label               #Category
          Table               #InventTable
          ExtendedDataType    
            ARRAY 
              #GRMItemCategoryId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #ERL_Discontinue
        ENUM
        PROPERTIES
          Name                #ERL_Discontinue
          Label               #Item Discontinue
          Table               #InventTable
          EnumType            #ERL_Discontinue
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
          #ItemName
          #NameAlias
          #ItemGroupId
          #ItemType
          #Configurable
          #configActive
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ABC
        PROPERTIES
          Name                #ABC
          Label               #@SYS21669
        ENDPROPERTIES
        
        GROUPFIELDS
          #ABCValue
          #ABCContributionMargin
          #ABCRevenue
          #ABCTieUp
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BOM
        PROPERTIES
          Name                #BOM
          Label               #@SYS7916
        ENDPROPERTIES
        
        GROUPFIELDS
          #BOMUnitId
          #ScrapConst
          #ScrapVar
          #BOMLevel
          #Phantom
          #AutoReportFinished
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BOMCalculation
        PROPERTIES
          Name                #BOMCalculation
          Label               #@SYS5681
        ENDPROPERTIES
        
        GROUPFIELDS
          #BOMCalcGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Deleted
        PROPERTIES
          Name                #Deleted
          Label               #@SYS4197
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Dimension
        PROPERTIES
          Name                #Dimension
          Label               #@SYS14926
        ENDPROPERTIES
        
        GROUPFIELDS
          #Dimension
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPC
        PROPERTIES
          Name                #EPC
          Label               #@SYS90170
        ENDPROPERTIES
        
        GROUPFIELDS
          #EPCManager
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPItem
        PROPERTIES
          Name                #EPItem
          Label               #@SYS7407
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemType
          #ItemGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #erlPackingDetails
        PROPERTIES
          Name                #erlPackingDetails
          Label               #Packing details
        ENDPROPERTIES
        
        GROUPFIELDS
          #AGR_PackingTypeId
          #AGR_Quantity
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FiscalLIFO
        PROPERTIES
          Name                #FiscalLIFO
          Label               #@SYS93008
        ENDPROPERTIES
        
        GROUPFIELDS
          #FiscalLIFOGroup
          #FiscalLIFOAvoidCalc
          #FiscalLIFONormalValueCalc
          #FiscalLIFONormalValue
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Forecast
        PROPERTIES
          Name                #Forecast
          Label               #@SYS13699
        ENDPROPERTIES
        
        GROUPFIELDS
          #ForecastDMPInclude
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ForeignTrade
        PROPERTIES
          Name                #ForeignTrade
          Label               #@SYS27650
        ENDPROPERTIES
        
        GROUPFIELDS
          #Intracode
          #IntraUnit
          #StatisticsFactor
          #OrigCountryRegionId
          #OrigStateId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Groups
        PROPERTIES
          Name                #Groups
          Label               #@SYS1177
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemGroupId
          #CostGroupId
          #ModelGroupId
          #DimGroupId
          #ReqGroupId
          #CommissionGroupId
          #BatchNumGroupId
          #SerialNumGroupId
          #ItemBuyerGroupId
          #PackagingGroupId
          #PBAInventItemGroupId
          #ItemPriceToleranceGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
          #WebItem
          #ImagePath
          #AGR_Pengarang
          #ERL_ItemJobId
          #PartNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Item
        PROPERTIES
          Name                #Item
          Label               #@SYS7407
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemType
          #ContentDesc
          #ItemIdOld
          #ItemOrigin
          #ItemBrandId
          #AGR_ItemCategoryId
          #AGR_ItemSeriesId
          #AGR_ItemSegment
          #AGR_ItemLevel
          #SizeTxt
          #FixedAsset
          #PartNum
          #ImportName
          #HSNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemAlternative
        PROPERTIES
          Name                #ItemAlternative
          Label               #@SYS21956
        ENDPROPERTIES
        
        GROUPFIELDS
          #UseAltItemId
          #AltItemId
          #AltConfigId
          #AltInventSizeId
          #AltInventColorId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemCompany
        PROPERTIES
          Name                #ItemCompany
          Label               #@SYS74869
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemIdCompany
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemCoverage
        PROPERTIES
          Name                #ItemCoverage
          Label               #@SYS21672
        ENDPROPERTIES
        
        GROUPFIELDS
          #StopExplode
          #PrimaryVendorId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemData
        PROPERTIES
          Name                #ItemData
          Label               #@SYS23860
        ENDPROPERTIES
        
        GROUPFIELDS
          #UnitVolume
          #TaxPackagingQty
          #NetWeight
          #TaraWeight
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemDimensionsDefault
        PROPERTIES
          Name                #ItemDimensionsDefault
          Label               #@SYS73762
        ENDPROPERTIES
        
        GROUPFIELDS
          #StandardInventSizeId
          #StandardInventColorId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemDimensionsSetup
        PROPERTIES
          Name                #ItemDimensionsSetup
          Label               #@SYS73922
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemDimCombinationAutoCreate
          #ItemDimCostPrice
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ItemSpecification
        PROPERTIES
          Name                #ItemSpecification
          Label               #Item Specification
        ENDPROPERTIES
        
        GROUPFIELDS
          #AGR_Jilid
          #AGR_Edisi
          #AGR_Ukuran
          #AGR_Kertas
          #AGR_Halaman
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Measurement
        PROPERTIES
          Name                #Measurement
          Label               #@SYS2021
        ENDPROPERTIES
        
        GROUPFIELDS
          #Height
          #Width
          #Depth
          #Density
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Name
        PROPERTIES
          Name                #Name
          Label               #@SYS7399
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemName
          #NameAlias
          #ItemType
          #txtDefault
          #AGR_ItemClassification
          #ImportName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #OriginGradeArea
        PROPERTIES
          Name                #OriginGradeArea
          Label               #Classification
        ENDPROPERTIES
        
        GROUPFIELDS
          #AGR_BrandId
          #AGR_ItemGrade
          #AGR_GroupOriginId
          #AGR_GroupGradeId
          #AGR_GroupAreaId
          #AGR_Edition
          #AGR_ItemId_Edition
          #ERL_Nampel
          #ERL_Bidang
          #ERL_KLBID
          #AltItemId
          #Sales_editStopped
          #Invent_editStopped
          #Purch_editStopped
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PBAItemAutoGenerated
        PROPERTIES
          Name                #PBAItemAutoGenerated
          Label               #@SYS99919
        ENDPROPERTIES
        
        GROUPFIELDS
          #PBAItemAutoGenerated
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PhysicalDimensions
        PROPERTIES
          Name                #PhysicalDimensions
          Label               #@SYS50219
        ENDPROPERTIES
        
        GROUPFIELDS
          #grossDepth
          #grossWidth
          #grossHeight
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PriceUpdate
        PROPERTIES
          Name                #PriceUpdate
          Label               #@SYS25118
        ENDPROPERTIES
        
        GROUPFIELDS
          #PurchModel
          #CostModel
          #SalesModel
          #SalesPriceModelBasic
          #SalesContributionRatio
          #SalesPercentMarkup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProductBuilder
        PROPERTIES
          Name                #ProductBuilder
          Label               #@SYS40122
        ENDPROPERTIES
        
        GROUPFIELDS
          #PBAItemConfigurable
          #PBAHideDialog
          #PBAHideApproval
          #PBAAutoStart
          #PBAMandatoryConfig
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ProductConfigurator
        PROPERTIES
          Name                #ProductConfigurator
          Label               #@SYS26331
        ENDPROPERTIES
        
        GROUPFIELDS
          #StandardConfigId
          #Configurable
          #ConfigSimilar
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Production
        PROPERTIES
          Name                #Production
          Label               #@SYS4398
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProdPoolId
          #ProdGroupId
          #PropertyId
          #BOMManualReceipt
          #ProdFlushingPrincip
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Project
        PROPERTIES
          Name                #Project
          Label               #@SYS4534
        ENDPROPERTIES
        
        GROUPFIELDS
          #projCategoryId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #RFIDTagging
        PROPERTIES
          Name                #RFIDTagging
          Label               #@SYS90171
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemTaggingLevel
          #PalletTagging
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TOCGroup
        PROPERTIES
          Name                #TOCGroup
          Label               #TOC
        ENDPROPERTIES
        
        GROUPFIELDS
          #includeBPRCalc
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WarehouseManagement
        PROPERTIES
          Name                #WarehouseManagement
          Label               #@SYS50169
        ENDPROPERTIES
        
        GROUPFIELDS
          #WMSPalletTypeId
          #standardPalletQuantity
          #MinimumPalletQuantity
          #qtyPerLayer
          #sortCode
          #WMSPickingQtyTime
          #WMSArrivalHandlingTime
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WebCategoryBrowsing
        PROPERTIES
          Name                #WebCategoryBrowsing
          Label               #@SYS74258
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemGroupId
          #ItemType
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ItemIdx
      PROPERTIES
        Name                #ItemIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #ItemId
      ENDINDEXFIELDS
      
      #GroupItemIdx
      PROPERTIES
        Name                #GroupItemIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ItemGroupId
        #ItemId
      ENDINDEXFIELDS
      
      #NameAliasIdx
      PROPERTIES
        Name                #NameAliasIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #NameAlias
      ENDINDEXFIELDS
      
      #TypeIdx
      PROPERTIES
        Name                #TypeIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ItemType
        #ItemId
      ENDINDEXFIELDS
      
      #DimGroupItemIdx
      PROPERTIES
        Name                #DimGroupItemIdx
        Enabled             #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #DimGroupId
        #ItemId
      ENDINDEXFIELDS
      
      #ContentColour
      PROPERTIES
        Name                #ContentColour
      ENDPROPERTIES
      
      INDEXFIELDS
        #AGR_ItemSegment
      ENDINDEXFIELDS
      
      #SizeTxt
      PROPERTIES
        Name                #SizeTxt
      ENDPROPERTIES
      
      INDEXFIELDS
        #SizeTxt
        #ItemId
      ENDINDEXFIELDS
      
      #BrandIdx
      PROPERTIES
        Name                #BrandIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ItemBrandId
        #ItemId
      ENDINDEXFIELDS
      
      #DiscontinueIdx
      PROPERTIES
        Name                #DiscontinueIdx
        Enabled             #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #ERL_Discontinue
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #AddressState
        PROPERTIES
          Name                #AddressState
          Table               #AddressState
          EntityRelationshipRole  #@SYS123582
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #OrigCountryRegionId
            RelatedField        #CountryRegionId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #OrigStateId
            RelatedField        #StateId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #AGR_GroupArea
        PROPERTIES
          Name                #AGR_GroupArea
          Table               #AGR_GroupArea
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AGR_GroupAreaId
            RelatedField        #GroupAreaId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #AltItemConfig
        PROPERTIES
          Name                #AltItemConfig
          Table               #ConfigTable
          EntityRelationshipRole  #@SYS123845
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AltConfigId
            RelatedField        #ConfigId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AltItemId
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ItemColor
        PROPERTIES
          Name                #ItemColor
          Table               #InventColor
          EntityRelationshipRole  #@SYS123846
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #StandardInventColorId
            RelatedField        #InventColorId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ItemId
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ItemConfig
        PROPERTIES
          Name                #ItemConfig
          Table               #ConfigTable
          EntityRelationshipRole  #@SYS123810
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #StandardConfigId
            RelatedField        #ConfigId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ItemId
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ItemSize
        PROPERTIES
          Name                #ItemSize
          Table               #InventSize
          EntityRelationshipRole  #@SYS123847
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #StandardInventSizeId
            RelatedField        #InventSizeId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ItemId
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #InventItemGTIN
      PROPERTIES
        Table               #InventItemGTIN
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventItemBarcode
      PROPERTIES
        Table               #InventItemBarcode
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventTestItemQualityGroup
      PROPERTIES
        Table               #InventTestItemQualityGroup
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventTestAssociationTable
      PROPERTIES
        Table               #InventTestAssociationTable
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #InventItemSalesSetup
      PROPERTIES
        Table               #InventItemSalesSetup
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventItemInventSetup
      PROPERTIES
        Table               #InventItemInventSetup
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventItemPurchSetup
      PROPERTIES
        Table               #InventItemPurchSetup
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventColor
      PROPERTIES
        Table               #InventColor
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventSize
      PROPERTIES
        Table               #InventSize
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventItemPrice
      PROPERTIES
        Table               #InventItemPrice
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventItemPriceSim
      PROPERTIES
        Table               #InventItemPriceSim
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventProdcomSetup
      PROPERTIES
        Table               #InventProdcomSetup
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #RouteOpr
      PROPERTIES
        Table               #RouteOpr
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #ReqItemTable
      PROPERTIES
        Table               #ReqItemTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #CustVendExternalItem
      PROPERTIES
        Table               #CustVendExternalItem
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventPosting
      PROPERTIES
        Table               #InventPosting
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #DocuRef
      PROPERTIES
        Table               #DocuRef
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventItemLocation
      PROPERTIES
        Table               #InventItemLocation
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #ReqTrans
      PROPERTIES
        Table               #ReqTrans
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #BOM
      PROPERTIES
        Table               #BOM
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #InventJournalTrans
      PROPERTIES
        Table               #InventJournalTrans
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #ProdTable
      PROPERTIES
        Table               #ProdTable
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #PurchLine
      PROPERTIES
        Table               #PurchLine
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #SalesLine
      PROPERTIES
        Table               #SalesLine
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #ProdBOM
      PROPERTIES
        Table               #ProdBOM
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #InventTxt
      PROPERTIES
        Table               #InventTxt
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #PriceDiscTable
      PROPERTIES
        Table               #PriceDiscTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #SuppItemTable
      PROPERTIES
        Table               #SuppItemTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventTrans
      PROPERTIES
        Table               #InventTrans
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #InventTableModule
      PROPERTIES
        Table               #InventTableModule
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #CommissionCalc
      PROPERTIES
        Table               #CommissionCalc
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #ConfigTable
      PROPERTIES
        Table               #ConfigTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventSum
      PROPERTIES
        Table               #InventSum
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #ForecastPurch
      PROPERTIES
        Table               #ForecastPurch
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #ForecastSales
      PROPERTIES
        Table               #ForecastSales
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #UnitConvert
      PROPERTIES
        Table               #UnitConvert
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #RouteVersion
      PROPERTIES
        Table               #RouteVersion
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #BOMVersion
      PROPERTIES
        Table               #BOMVersion
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #AxInventTable
        #public AxInventTable  axInventTable()
        #{
        #    AxInventTable  axInventTable = AxInventTable::newInventTable(this);
        #    return axInventTable;
        #}
        #
      ENDSOURCE
      SOURCE #batchActive
        #boolean batchActive()
        #{
        #    InventDimSearch dimSearch = new InventDimSearch();
        #    ;
        #    if (dimSearch.find(this.DimGroupId,fieldnum(InventDim,InventBatchId)))
        #        return dimSearch.dimActive();
        #    return false;
        #}
      ENDSOURCE
      SOURCE #BOMCalcGroup
        #BOMCalcGroup bomCalcGroup()
        #{
        #    BOMCalcGroup    bomCalcGroup;
        #    ;
        #
        #    if(this.bomCalcGroupId)
        #    {
        #        bomCalcGroup = BOMCalcGroup::find(this.bomCalcGroupId);
        #
        #        if(!bomCalcGroup)
        #        {
        #            warning(strfmt("@SYS94157", this.bomCalcGroupId, this.ItemId), '', InventTable::infoActionBOMCalcGroup(this.ItemId, this));
        #        }
        #    }
        #
        #    // fallback to inventory parameters if not found on items
        #    if(!bomCalcGroup)
        #    {
        #        bomCalcGroup = BOMParameters::bomCalcGroup();
        #    }
        #
        #    return bomCalcGroup;
        #}
      ENDSOURCE
      SOURCE #BOMId
        #BOMId bomId(
        #    TransDate   _searchDate,
        #    FromQty     _searchQty,
        #    InventDim   _searchInventDim)
        #{
        #    return BOMVersion::findActive(this.ItemId,_searchDate, _searchQty, _searchInventDim).bomId;
        #}
        #
      ENDSOURCE
      SOURCE #BOMIdConstruction
        #BOMId bomIdConstruction(BOMRouteVersionSelect   _bomRouteVersionSelect,
        #                        TransDate               _searchDate,
        #                        FromQty                 _searchQty,
        #                        InventDim               _searchInventDim
        #                       )
        #{
        #
        #    BOMVersion  bomVersion;
        #
        #    if (!this.RecId || !this.inventItemType().canHaveBOM())
        #        return '';
        #
        #    if (_bomRouteVersionSelect == BOMRouteVersionSelect::Active || ! isConfigurationkeyEnabled(configurationkeynum(BOMVersion)))
        #        return this.bomId(_searchDate, _searchQty, _searchInventDim);
        #    else
        #    {
        #        select firstonly bomVersion
        #            where bomVersion.ItemId         == this.ItemId &&
        #                  bomVersion.Construction   == NoYes::Yes;
        #
        #        if (_bomRouteVersionSelect == BOMRouteVersionSelect::Selected)
        #            return bomVersion.bomId;
        #        else
        #            return bomVersion.RecId ? bomVersion.bomId : this.bomId(_searchDate, _searchQty, _searchInventDim);
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #BOMUnitId
        #BOMUnitId bomUnitId()
        #{
        #    if (this.bomUnitId)
        #        return this.bomUnitId;
        #
        #    return this.inventUnitId();
        #}
      ENDSOURCE
      SOURCE #brandName
        #// naski add 7/29/2012
        #Display Description brandName()
        #{
        #    ;
        #    return AGR_InventBrand::find(this.AGR_BrandId).AGR_BrandName;
        #}
      ENDSOURCE
      SOURCE #checkAltItemDimCombination
        #boolean checkAltItemDimCombination()
        #{
        #    InventDim inventDim;
        #    ;
        #
        #    setprefix("@SYS21956");
        #
        #    inventDim.ConfigId      = this.AltConfigId;
        #    inventDim.InventSizeId  = this.AltInventSizeId;
        #    inventDim.InventColorId = this.AltInventColorId;
        #
        #    return inventDim.validateWriteItemDim(this.AltItemId,true);
        #
        #}
      ENDSOURCE
      SOURCE #checkColorId
        #boolean checkColorId(InventColorId colorId)
        #{
        #    if (!this.colorActive())
        #        return true;
        #
        #    return InventColor::checkExist(this.ItemId,colorId);
        #}
      ENDSOURCE
      SOURCE #CheckConfigId
        #boolean checkConfigId(ConfigId configId)
        #{
        #    ;
        #    if (! this.configActive())
        #        return true;
        #
        #    if (! ConfigTable::exist(this.ItemId,configId))
        #        return checkFailed(strfmt("@SYS21853",configId,this.ItemId));
        #
        #    return true;
        #
        #}
        #
        #
      ENDSOURCE
      SOURCE #checkConfigurable
        #/// <summary>
        #/// Checks if the value of the field Configurable contradicts other settings.
        #/// </summary>
        #/// <returns>
        #/// true if no contradiction; otherwise, false.
        #/// </returns>
        #public boolean  checkConfigurable()
        #{
        #    BOMVersion      bomVersion;
        #    InventDim       inventDim;
        #    boolean         ret = true;
        #    ;
        #
        #    if (this.Configurable)
        #    {
        #        select firstonly RecId from bomVersion
        #            where bomVersion.ItemId == this.ItemId
        #            exists join inventDim
        #            where  inventDim.InventDimId == bomVersion.InventDimId
        #                && inventDim.ConfigId;
        #
        #        if (bomVersion.RecId)
        #        {
        #            ret = checkFailed("@SYS121358");
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkFiscalLIFOValuePrevYear
        #boolean checkFiscalLIFOValuePrevYear()
        #{
        #    InventFiscalLIFOJournalTable    inventFiscalLIFOJournalTable;
        #    InventFiscalLIFOJournalTrans    inventFiscalLIFOJournalTrans;
        #    ;
        #    if (!this.ItemId)
        #        return false;
        #
        #    select sum(QtyReceipt), sum(QtyIssue) from inventFiscalLIFOJournalTrans
        #        group by ItemId
        #        where inventFiscalLIFOJournalTrans.ItemId    == this.ItemId
        #           && inventFiscalLIFOJournalTrans.ItemGroup == ItemGroup::Item
        #        exists join inventFiscalLIFOJournalTable
        #        where inventFiscalLIFOJournalTable.JournalId         == inventFiscalLIFOJournalTrans.JournalId
        #           && inventFiscalLIFOJournalTable.JournalType       == InventFiscalLIFOJournalType::FinalReport
        #           && inventFiscalLIFOJournalTable.FinalReportClosed == NoYes::Yes;
        #
        #    return (inventFiscalLIFOJournalTrans.QtyReceipt - inventFiscalLIFOJournalTrans.QtyIssue) != 0;
        #}
      ENDSOURCE
      SOURCE #checkItemDimCombination
        #boolean checkItemDimCombination()
        #{
        #    return this.checkStandardItemDimCombination() && this.checkAltItemDimCombination();
        #}
      ENDSOURCE
      SOURCE #checkProjCategoryId
        #public boolean checkProjCategoryId()
        #{
        #    boolean          ret = true;
        #    ProjCategory     projCategory;
        #    ;
        #
        #    if (this.ProjCategoryId)
        #    {
        #        projCategory = ProjCategory::find(this.ProjCategoryId);
        #
        #        if (projCategory.CategoryType != ProjCategoryType::Item)
        #            ret = checkFailed(strfmt("@SYS54897",this.ProjCategoryId));
        #
        #        ret = ret && projCategory.validateIfInactiveAllowed();
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #CheckRefInventTrans
        #boolean checkRefInventTrans(InventTrans inventTrans)
        #{
        #    if (this.ItemId != inventTrans.ItemId)
        #        return checkFailed(strfmt("@SYS7549"));
        #
        #    return true;
        #}
        #
        #
        #
      ENDSOURCE
      SOURCE #checkSizeId
        #boolean checkSizeId(InventSizeId sizeId)
        #{
        #    if (!this.sizeActive())
        #        return true;
        #
        #    return InventSize::checkExist(this.ItemId,sizeId);
        #}
      ENDSOURCE
      SOURCE #checkStandardItemDimCombination
        #boolean checkStandardItemDimCombination()
        #{
        #    InventDim inventDim;
        #    ;
        #
        #    setprefix("@SYS73762");
        #
        #    inventDim.ConfigId      = this.StandardConfigId;
        #    inventDim.InventSizeId  = this.StandardInventSizeId;
        #    inventDim.InventColorId = this.StandardInventColorId;
        #
        #    return inventDim.validateWriteItemDimCombination(this.ItemId,false);
        #}
      ENDSOURCE
      SOURCE #CheckValid
        #boolean checkValid(ItemId itemId)
        #{
        #    boolean         ok = true;
        #
        #    if (! itemId)
        #        ok = checkFailed("@SYS16661");
        #
        #    if (! this && itemId)
        #        ok = checkFailed(strfmt(InventTable::txtNotExist(), itemId) );
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #colorActive
        #//BP Deviation documented
        #display boolean colorActive()
        #{
        #    InventDimSearch dimSearch = new InventDimSearch();
        #    ;
        #    if (dimSearch.find(this.DimGroupId,fieldnum(InventDim,InventColorId)))
        #        return dimSearch.dimActive();
        #    return false;
        #}
      ENDSOURCE
      SOURCE #configActive
        #//BP Deviation documented
        #display boolean configActive()
        #{
        #    InventDimSearch dimSearch = new InventDimSearch();
        #    ;
        #    if (dimSearch.find(this.DimGroupId,fieldnum(InventDim,ConfigId)))
        #        return dimSearch.dimActive();
        #    return false;
        #}
      ENDSOURCE
      SOURCE #CostGroup
        #/// <summary>
        #/// Return cost group.
        #/// </summary>
        #/// <returns>
        #/// A cost group.
        #/// </returns>
        #/// <remarks>
        #/// If the cost group on the item is blank the default cost group is returned.
        #/// </remarks>
        #public CostGroupId costGroup()
        #{
        #    ;
        #    if (this.CostGroupId)
        #    {
        #        return this.CostGroupId;
        #    }
        #    else
        #    {
        #        return BOMCostGroup::defaultCostGroupId(CostGroupType::DirectMaterials);
        #    }
        #}
      ENDSOURCE
      SOURCE #CostPcsPrice
        #//BP Deviation documented
        #display CostPrice costPcsPrice(
        #    InventDimId             _inventDimId                = '',   // can be = '' if setting the _inventDim buffer
        #    InventDim               _inventDim                  = null, // set this parameter for better performance if avail
        #    InventTableModule       _inventTableModuleInvent    = null, // set this parameter for better performance if avail
        #    PriceDate               _priceDate                  = systemdateget(),
        #    boolean                 _throwError                 = false
        #    )
        #{
        #    return this.inventCostPriceMap(_inventDimId,_inventDim,_inventTableModuleInvent, _priceDate, '', _throwError).pcsPrice();
        #}
        #
      ENDSOURCE
      SOURCE #defaultLoadHeight
        #WMSHeight defaultLoadHeight(InventQty qty)
        #{
        #    Integer  layers;
        #    ;
        #
        #    if (this.QtyPerLayer <= 0)
        #        this.QtyPerLayer = 1;
        #
        #    layers = real2int(trunc(qty / this.QtyPerLayer));
        #    if (layers * this.QtyPerLayer < qty)
        #        layers++;
        #
        #    return layers * this.GrossHeight;
        #}
      ENDSOURCE
      SOURCE #delete
        #public void delete()
        #{
        #    BOMTable        bomTable;
        #    BOMVersion      bomVersion;
        #    BOMVersion      bomVersion2;
        #    ;
        #
        #    ttsbegin;
        #
        #    if( !isConfigurationkeyEnabled(configurationkeynum(BOMVersion)) && this.inventItemType().canHaveBOM())
        #    {
        #        while select bomVersion
        #                group by bomId
        #                where bomVersion.ItemId == this.ItemId
        #           notexists join bomVersion2
        #                where bomVersion2.bomId == bomVersion.bomId &&
        #                      bomVersion2.ItemId != this.ItemId
        #        {
        #            delete_from bomTable
        #                where bomTable.bomId == bomVersion.bomId;
        #        }
        #    }
        #
        #    super();
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #description
        #//BP Deviation documented
        #display  ItemFreeTxt  description()
        #{;
        #    return this.txt() ? this.txt() : this.ItemName;
        #}
      ENDSOURCE
      SOURCE #descriptionDimension
        #//BP Deviation documented
        #display  ItemFreeTxt  descriptionDimension()
        #{
        #    return this.ItemId + '\n' + (this.txt() ? this.txt() : this.ItemName);
        #}
      ENDSOURCE
      SOURCE #externalItemId
        #ExternalItemId externalItemId(ModuleInventCustVend    _moduleInventCustVend,
        #                              CustVendAC              _custVendAccount)
        #{
        #    CustVendExternalItem                custVendExternalItem;
        #    ModuleInventPurchSalesVendCustGroup moduleInventPurchSalesVendCustGroup;
        #    CustVendItemGroupId                 custVendItemGroupId;
        #    ;
        #    if (_custVendAccount)
        #    {
        #        if (_moduleInventCustVend == ModuleInventCustVend::Cust)
        #        {
        #            moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::Cust;
        #        }
        #        else
        #        {
        #            moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::Vend;
        #        }
        #
        #        custVendExternalItem    = CustVendExternalItem::find(moduleInventPurchSalesVendCustGroup, this.ItemId, InventDim::inventDimIdBlank(), _custVendAccount);
        #
        #        if (!custVendExternalItem)
        #        {
        #            if (_moduleInventCustVend == ModuleInventCustVend::Cust)
        #            {
        #                moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::CustGroup;
        #                custVendItemGroupId                 = CustTable::find(_custVendAccount).CustItemGroupId;
        #            }
        #            else
        #            {
        #                moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::VendGroup;
        #                custVendItemGroupId                 = VendTable::find(_custVendAccount).VendItemGroupId;
        #            }
        #
        #            custVendExternalItem    = CustVendExternalItem::find(moduleInventPurchSalesVendCustGroup, this.ItemId, InventDim::inventDimIdBlank(), custVendItemGroupId);
        #        }
        #    }
        #
        #    return custVendExternalItem.ExternalItemId;
        #}
      ENDSOURCE
      SOURCE #getExtItemGrm
        #public display externalItemId getExtItemGrm ()
        #{
        #    CustVendExternalItem    ext;
        #    ExternalItemId  tmp;
        #    ;
        #    select firstfast firstonly ext
        #        where ext.ItemId == this.ItemId
        #        && ext.ModuleType == ModuleInventPurchSalesVendCustGroup::CustGroup
        #        && ext.CustVendRelation == "ItemGrmd";
        #    //tmp=CustVendExternalItem::find(4,this.ItemId,"AllBlank","ItemGrmd").ExternalItemId;
        #
        #    //if (tmp) return tmp;
        #    //return "0";
        #    return ext.ExternalItemId;
        #}
      ENDSOURCE
      SOURCE #getSalesPriceAgreement
        #container getSalesPriceAgreement(InventDim      inventDim,
        #                                 Qty            qty,
        #                                 UnitID         unit,
        #                                 CustAccount    accountNum,
        #                                 CurrencyCode   currencyCode)
        #{;
        #
        #    return this.salesPriceAgreement(systemdateget(), inventDim, qty, unit, accountNum, currencyCode);
        #}
      ENDSOURCE
      SOURCE #grossVolume
        #Volume grossVolume()
        #{
        #    return this.GrossDepth * this.GrossHeight * this.GrossWidth;
        #}
      ENDSOURCE
      SOURCE #grossWeight
        #//BP Deviation documented
        #display ItemGrossWeight grossWeight()
        #{
        #    return this.NetWeight + this.TaraWeight;
        #}
        #
      ENDSOURCE
      SOURCE #hasBOMversions
        #boolean hasBomVersions()
        #{
        #    return (select bomVersion
        #                where bomVersion.ItemId == this.ItemId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #HasConfigs
        #boolean hasConfigs()
        #{
        #    return (select configTable
        #                where configTable.ItemId == this.ItemId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #HasForecastPurch
        #//BP Deviation documented
        #display ForecastHasPurch hasForecastPurch()
        #{
        #    return (select forecastPurch
        #                index hint ItemIdx
        #                where forecastPurch.ItemId == this.ItemId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #HasForecastSales
        #//BP Deviation documented
        #display ForecastHasSales hasForecastSales()
        #{
        #    return (select forecastSales
        #                index hint ItemIdx
        #                where forecastSales.ItemId == this.ItemId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #hasInventTrans
        #/// <summary>
        #/// Specifies whether any inventory transactions exist for this item.
        #/// </summary>
        #/// <returns>
        #/// true if InventTrans table records exist for this item; otherwise, false.
        #/// </returns>
        #public boolean hasInventTrans()
        #{
        #    return (select firstonly RecId from inventTrans where inventTrans.ItemId == this.ItemId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #hasItemDimensions
        #client server boolean hasItemDimensions()
        #{
        #    InventDimParm inventDimParm;
        #    InventDimParm inventDimParmBlank;
        #    ;
        #
        #    inventDimParm.initItemDimension(this.DimGroupId);
        #
        #    return !InventDimParm::isInventDimParmEqual(inventDimParm,inventDimParmBlank);
        #}
      ENDSOURCE
      SOURCE #hasRouteVersions
        #boolean hasRouteVersions()
        #{
        #    return (select routeVersion
        #                where routeVersion.ItemId == this.ItemId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #initStandardItemDim
        #InventDim initStandardItemDim(InventDim inventDim)
        #{
        #    ;
        #    inventDim.ConfigId      = this.StandardConfigId;
        #    inventDim.InventSizeId  = this.StandardInventSizeId;
        #    inventDim.InventColorId = this.StandardInventColorId;
        #
        #    return inventDim;
        #}
      ENDSOURCE
      SOURCE #initValue
        #void initValue()
        #{
        #    this.bomUnitId              = InventParameters::find().DefaultUnitId;
        #    this.QtyPerLayer            = 1;
        #
        #    super();
        #
        #    this.NameAlias = '';
        #}
      ENDSOURCE
      SOURCE #insert
        #void insert()
        #{
        #    #OCCRetryCount
        #
        #    ERL_BursaStok   bursaStok;
        #    ERL_Cabang      cabang;
        #    int i;
        #    ;
        #    if( this.ItemGroupId == "01" && this.AGR_ItemClassification == AGR_ItemClassification::Merchandise ){
        #        if(    this.ItemId == ""
        #            || this.ItemName == ""
        #            || this.ERL_ItemJobId == ""
        #            || this.Dimension[2] == "" )
        #        {
        #            throw warning("Field ItemId, Item Name, No Job, dan Cost Center harus diisi");
        #        }
        #    }
        #
        #    try
        #    {
        #        ttsbegin;
        #
        #        this.insertInventItemOrderSetup();
        #
        #        this.insertBOMTable();
        #        this.setNameAlias();
        #
        #        super();
        #
        #        this.insertAsset(this);
        #
        #        if (this.SalesModel != SalesPriceModel::None)
        #        {
        #            InventTable::updateAutoSalesPrice(this.ItemId);
        #        }
        #
        #        this.updateTaxBupel();  // add by nat - 10/6/2010 - AGR_OTC_Invent_BupelTax
        #        //this.updateTax(); // naski add 8/6/2012
        #
        #        // naski add 7/31/2012 -- insert to bursa stok
        #        if(this.AGR_ItemClassification == AGR_ItemClassification::Merchandise){
        #            select firstonly bursaStok where bursaStok.ItemId == this.ItemId;
        #            if(!bursaStok){
        #                while select * from cabang group by wh
        #                {
        #                    if(cabang.WH == '516'){
        #                        if(this.AGR_ItemSegment == "DIGITAL" || this.AGR_ItemSegment == "CD"){
        #                            bursastok.clear();
        #                            bursastok.ItemId = this.ItemId;
        #                            bursastok.WH = cabang.WH;
        #                            bursastok.insert();
        #                        }
        #                    } else {
        #                        bursastok.clear();
        #                        bursastok.ItemId = this.ItemId;
        #                        bursastok.WH = cabang.WH;
        #                        bursastok.insert();
        #                    }
        #                }
        #            }
        #        }
        #        // end naski add
        #
        #        ttscommit;
        #    }
        #    catch (Exception::Deadlock)
        #    {
        #        retry;
        #    }
        #    catch (Exception::UpdateConflict)
        #    {
        #        if (appl.ttsLevel() == 0)
        #        {
        #            if (xSession::currentRetryCount() >= #RetryNum)
        #            {
        #                throw Exception::UpdateConflictNotRecovered;
        #            }
        #            else
        #            {
        #                retry;
        #            }
        #        }
        #        else
        #        {
        #            throw Exception::UpdateConflict;
        #        }
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #insertAsset
        #void insertAsset(InventTable _inventTable)
        #{
        #    AxAssetTable axAssetTable;
        #
        #    NumberSeq           assetIdNumberSeq;
        #    AssetId             assetId;
        #    Dimension           dim;
        #    ;
        #    if(_inventTable.ERL_ItemJobId){
        #        axAssetTable = new axAssetTable();
        #        axAssetTable.parmAssetGroup("N");
        #
        #        if (assetIdNumberSeq)
        #            assetIdNumberSeq.abort();
        #
        #        assetIdNumberSeq = axAssetTable.assetTable().initAssetNumberSeq();
        #        if (assetIdNumberSeq)
        #        {
        #            assetId   = assetIdNumberSeq.num();
        #        }
        #
        #        axAssetTable.parmAssetId(assetId);
        #        axAssetTable.parmName(strfmt("%1 NO JOB %2 KODE BUKU %3",
        #                                _inventTable.itemName(),
        #                                _inventTable.ERL_ItemJobId,
        #                                _inventTable.ItemId));
        #        axAssetTable.parmAssetGroupId("Naskah");
        #        axAssetTable.parmPurchReqSubGroupId("Naskah");
        #
        #        dim[1] = "50";
        #        dim[2] = _inventtable.Dimension[2];
        #
        #        axAssetTable.parmDimension(dim);
        #        axAssetTable.save();
        #    }
        #}
      ENDSOURCE
      SOURCE #InsertBOMTable
        #server void insertBOMTable()
        #{
        #    BOMTable            bomTable;
        #    BOMVersion          bomVersion;
        #
        #    if (! this.inventItemType().canHaveBOM())
        #        return;
        #
        #    if (isConfigurationkeyEnabled(configurationkeynum(BOMVersion)))
        #        return;
        #
        #    bomTable.initFromInventTable(this);
        #
        #    // Do not create if already exist
        #    if (BOMTable::find(bomTable.bomId))
        #        return;
        #
        #    bomTable.initFromInventTable(this);
        #    bomTable.insert();
        #    bomVersion.initFromInventTable(this);
        #    bomVersion.initFromBOMTable(bomTable);
        #    bomVersion.Active       = true;
        #    bomVersion.insert();
        #
        #}
      ENDSOURCE
      SOURCE #insertInventItemOrderSetup
        #server void insertInventItemOrderSetup()
        #{
        #    ;
        #    if(!InventItemPurchSetup::findDefault(this.ItemId))
        #    {
        #        InventItemPurchSetup::insertDefault(this.ItemId);
        #    }
        #
        #    if(!InventItemInventSetup::findDefault(this.ItemId))
        #    {
        #        InventItemInventSetup::insertDefault(this.ItemId);
        #    }
        #
        #    if(!InventItemSalesSetup::findDefault(this.ItemId))
        #    {
        #        InventItemSalesSetup::insertDefault(this.ItemId);
        #    }
        #}
      ENDSOURCE
      SOURCE #InterCompanyBlockedPurch
        #boolean  interCompanyBlockedPurch()
        #{
        #    return this.inventTableModulePurch().InterCompanyBlocked;
        #}
      ENDSOURCE
      SOURCE #InterCompanyBlockedSales
        #boolean  interCompanyBlockedSales()
        #{
        #    return this.inventTableModuleSales().InterCompanyBlocked;
        #}
      ENDSOURCE
      SOURCE #Invent_editStopped
        #display itemStopped Invent_editStopped()
        #{
        #    InventItemInventSetup iiis;
        #    ;
        #    select iiis where iiis.ItemId==this.ItemId;
        #    return iiis.stopped();
        #}
      ENDSOURCE
      SOURCE #inventCostPriceMap
        #InventPriceMap inventCostPriceMap(
        #    InventDimId             _inventDimId                = '',   // can be = '' if setting the _inventDim buffer
        #    InventDim               _inventDim                  = null, // set this parameter for better performance if avail
        #    InventTableModule       _inventTableModuleInvent    = null, // set this parameter for better performance if avail
        #    TransDate               _transDate                  = systemdateget(),
        #    InventSiteId            _newSiteId                  = '',
        #    boolean                 _throwError                 = false
        #    )
        #{
        #    InventPriceMap  inventPriceMap;
        #    InventDimId     inventDimId;
        #
        #    void initInventDimId()
        #    {
        #        ;
        #
        #        if( !_inventDimId && _inventDim)
        #        {
        #            inventDimId = _inventDim.InventDimId;
        #        }
        #        else
        #        {
        #            inventDimId =_inventDimId;
        #        }
        #
        #        if ((! inventDimId) && (this.siteActive() || this.ItemDimCostPrice))
        #        {
        #            inventDimId = InventDim::findDim(_inventDim).InventDimId;
        #        }
        #    }
        #    ;
        #
        #    if (this.inventModelGroup().inventModelType().stdCostBased())
        #    {
        #        inventPriceMap = InventItemPrice::stdCostFindDate(this, _transDate, _inventDimId, _inventDim, _newSiteId, _throwError);
        #    }
        #    else
        #    {
        #        initInventDimId();
        #        inventPriceMap = InventItemPrice::findCurrent(this.ItemId, CostingVersionPriceType::Cost, inventDimId, _transDate, _newSiteId);
        #
        #        if (! inventPriceMap.RecId)
        #        {
        #            inventPriceMap =_inventTableModuleInvent.RecId ? _inventTableModuleInvent : InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent);
        #        }
        #    }
        #    return inventPriceMap;
        #}
        #
      ENDSOURCE
      SOURCE #inventDimItemDimensions
        #server InventDim inventDimItemDimensions(InventDim inventDim)
        #{
        #    InventDimParm   inventDimParmItem = this.inventDimParmItemDimensions();
        #    ;
        #    inventDim.clearNotSelectedDim(inventDimParmItem);
        #    return InventDim::findOrCreate(inventDim);
        #}
        #
      ENDSOURCE
      SOURCE #inventDimLinkedDimension
        #/// <summary>
        #/// Retrieves the dimension from the <c>InventSiteDimensionLink</c> class.
        #/// </summary>
        #/// <param name="_inventDim">
        #/// The inventory dimension for which the dimension should be found.
        #/// </param>
        #/// <returns>
        #/// The dimension combination for this item and the given inventory dimension.
        #/// </returns>
        #
        #public Dimension inventDimLinkedDimension(InventDim  _inventDim)
        #{
        #    Dimension               dimension = this.Dimension;
        #    InventSiteDimensionLink inventSiteDimensionLink;
        #    ;
        #    inventSiteDimensionLink = InventSiteDimensionLink::newDimensionTables(this, _inventDim);
        #    dimension = inventSiteDimensionLink.changeDimension(dimension);
        #    return dimension;
        #}
      ENDSOURCE
      SOURCE #inventDimParmCovDimensions
        #server InventDimParm inventDimParmCovDimensions()
        #{
        #    InventDimParm   inventDimParmItem;
        #    ;
        #    inventDimParmItem.initCovPrDimension(this.DimGroupId);
        #    return inventDimParmItem;
        #}
      ENDSOURCE
      SOURCE #inventDimParmItemDimensions
        #server InventDimParm inventDimParmItemDimensions()
        #{
        #    InventDimParm   inventDimParmItem;
        #    ;
        #    inventDimParmItem.initItemDimension(this.DimGroupId);
        #    return inventDimParmItem;
        #}
      ENDSOURCE
      SOURCE #inventInventSiteId
        #//BP Deviation documented
        #display InventInventSiteId inventInventSiteId(InventSiteId _inventSiteId = '')
        #{
        #    return this.inventItemInventSetup().inventSiteId(_inventSiteId, this);
        #}
        #
      ENDSOURCE
      SOURCE #inventItemBrand
        #InventItemBrand inventItemBrand()
        #{
        #    return InventItemBrand::find(this.ItemBrandId);
        #}
        #
      ENDSOURCE
      SOURCE #inventItemInventSetup
        #InventItemInventSetup inventItemInventSetup(InventDimId  _inventDimId    = InventDim::inventDimIdBlank(),
        #                                            boolean      _forUpdate      = false)
        #{
        #    return InventItemInventSetup::find(this.ItemId,
        #                                       _inventDimId,
        #                                       _forUpdate,
        #                                       this);
        #}
        #
      ENDSOURCE
      SOURCE #inventItemOrderSetupMap
        #InventItemOrderSetupMap inventItemOrderSetupMap(InventItemOrderSetupType    _setupType,
        #                                                InventDimId                 _inventDimId    = InventDim::inventDimIdBlank(),
        #                                                boolean                     _forUpdate      = false)
        #{
        #    return InventItemOrderSetupMap::find(this.ItemId,
        #                                         _setupType,
        #                                         _inventDimId,
        #                                         _forUpdate,
        #                                         this);
        #}
        #
      ENDSOURCE
      SOURCE #inventItemPurchSetup
        #InventItemPurchSetup inventItemPurchSetup(InventDimId   _inventDimId    = InventDim::inventDimIdBlank(),
        #                                          boolean       _forUpdate      = false)
        #{
        #    return InventItemPurchSetup::find(this.ItemId,
        #                                      _inventDimId,
        #                                      _forUpdate,
        #                                      this);
        #}
        #
      ENDSOURCE
      SOURCE #inventItemSalesSetup
        #InventItemSalesSetup inventItemSalesSetup(InventDimId   _inventDimId    = InventDim::inventDimIdBlank(),
        #                                           boolean      _forUpdate      = false)
        #{
        #    return InventItemSalesSetup::find(this.ItemId,
        #                                      _inventDimId,
        #                                      _forUpdate,
        #                                      this);
        #}
        #
      ENDSOURCE
      SOURCE #InventItemType
        #InventItemType inventItemType()
        #{
        #    return InventItemType::newItemType(this.ItemType);
        #}
        #
      ENDSOURCE
      SOURCE #InventLocationId
        #/// <summary>
        #/// Returns an inventory warehouse ID.
        #/// </summary>
        #/// <param name="_inventLocationId">
        #/// The current inventory warehouse ID.
        #/// This value will be returned back if it is not empty and the mandatory warehouse parameter is not set on the item's inventory order settings.
        #/// </param>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <param name="_inventSiteIdParent">
        #/// An inventory site ID that the _inventLocationId parameter should belong to; optional.
        #/// This parameter applies only when _inventLocationId parameter is specified.
        #/// If both _inventSiteIdParent and _inventLocationId parameters are passed and no site specific settings are found,
        #/// then the check whether the passed _inventLocationId belongs to the site specified by _inventSiteIdParent will be performed,
        #/// and if it does not, then an empty string will be returned back, but if it does, then the passed _inventLocationId parameter is returned.
        #/// </param>
        #/// <returns>
        #/// An inventory warehouse ID.
        #/// </returns>
        #
        #//BP Deviation documented
        #display InventLocationId inventLocationId(InventLocationId  _inventLocationId   = '',
        #                                          InventDimId       _inventDimId        = InventDim::inventDimIdBlank(),
        #                                          InventSiteId      _inventSiteIdParent = '')
        #{
        #    return this.inventItemInventSetup(_inventDimId).inventLocationId(_inventLocationId,
        #                                                                     this,
        #                                                                     _inventSiteIdParent);
        #}
      ENDSOURCE
      SOURCE #InventLocationIdBOM
        #//BP Deviation documented
        #display InventLocationId inventLocationIdBOM(InventLocationId   _inventLocationId   = '',
        #                                             InventDimId        _inventDimId        = InventDim::inventDimIdBlank(),
        #                                             InventSiteId       _inventSiteIdParent = '')
        #{
        #    return this.inventItemInventSetup(_inventDimId).inventLocationId(_inventLocationId,
        #                                                                     this,
        #                                                                     _inventSiteIdParent);
        #}
      ENDSOURCE
      SOURCE #inventLowestQty
        #/// <summary>
        #/// Returns a minimum allowed inventory order quantity.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <returns>
        #/// A minimum allowed inventory order quantity.
        #/// </returns>
        #
        #//BP Deviation documented
        #display QtyLowest inventLowestQty(InventDimId _inventDimId = InventDim::inventDimIdBlank())
        #{
        #    return this.inventItemInventSetup(_inventDimId).lowestQty();
        #}
        #
      ENDSOURCE
      SOURCE #InventModelGroup
        #InventModelGroup inventModelGroup()
        #{
        #    return InventModelGroup::find(this.ModelGroupId);
        #}
      ENDSOURCE
      SOURCE #InventStandardQty
        #/// <summary>
        #/// Returns a standard inventory order quantity.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <returns>
        #/// A standard inventory order quantity.
        #/// </returns>
        #
        #//BP Deviation documented
        #display QtyStandard inventStandardQty(InventDimId _inventDimId = InventDim::inventDimIdBlank())
        #{
        #    return this.inventItemInventSetup(_inventDimId).standardQty();
        #}
        #
      ENDSOURCE
      SOURCE #InventTableModuleInvent
        #InventTableModule inventTableModuleInvent(boolean _forUpdate = false)
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #InventTableModulePurch
        #InventTableModule inventTableModulePurch(boolean _forUpdate = false)
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #InventTableModuleSales
        #InventTableModule inventTableModuleSales(boolean _forUpdate = false)
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #InventUnitId
        #//BP Deviation documented
        #display UnitID inventUnitId()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent).UnitId;
        #}
      ENDSOURCE
      SOURCE #isConfigurable
        #boolean isConfigurable()
        #{
        #    return this.Configurable && this.inventItemType().canHaveBOM();
        #}
      ENDSOURCE
      SOURCE #itemDescription
        #//BP Deviation documented
        #display ItemFreeTxt itemDescription(Common _common = null)
        #{
        #    ItemFreeTxt itemText = this.txtDefault(false,'');
        #    ;
        #
        #    if (!itemText)
        #    {
        #        itemText = this.itemName(_common);
        #    }
        #
        #    return itemText;
        #}
      ENDSOURCE
      SOURCE #itemDescriptionCombination
        #//BP Deviation documented
        #display ItemFreeTxt itemDescriptionCombination(Common _common = null)
        #{
        #    InventDim               inventDim;
        #    InventDimCombination    inventDimCombination;
        #    ItemFreeTxt             itemText = this.txtDefault(false,'');
        #    ;
        #
        #    if (_common.TableId == tablenum(InventDim))
        #    {
        #        inventDim = _common;
        #        inventDimCombination = InventDimCombination::find(this.ItemId,inventDim);
        #    }
        #
        #    if (!itemText)
        #    {
        #        itemText = this.itemName();
        #    }
        #
        #    if (inventDimCombination && inventDimCombination.itemDescription())
        #    {
        #        itemText += '\n\n' + inventDimCombination.itemDescription();
        #    }
        #
        #    return itemText;
        #}
      ENDSOURCE
      SOURCE #ItemName
        #//BP Deviation documented
        #display ItemNameDisplay itemName(Common _common = null)
        #{
        #    InventDim            inventDimEmpty;
        #    InventDimCombination inventDimCombination;
        #    InventDim            inventDim;
        #
        #    ItemNameDisplay itemName()
        #    {
        #        if (this.ItemName)
        #            return this.ItemName;
        #        return this.ItemId;
        #    }
        #
        #    ;
        #
        #    if (_common.TableId == tablenum(InventDim))
        #    {
        #        inventDim = _common;
        #    }
        #
        #    if (InventDim::isInventDimEqual(inventDimEmpty,inventDim))
        #        return itemName();
        #
        #    inventDimCombination = InventDimCombination::find(this.ItemId,inventDim);
        #
        #    return (inventDimCombination && inventDimCombination.name()) ?
        #            itemName() + ' / ' + inventDimCombination.name()     :
        #            itemName();
        #}
        #
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(fieldId _fieldId)
        #{
        #    super(_fieldId);
        #
        #    switch (fieldExt2Id(_fieldId))
        #    {
        #        case fieldnum(InventTable, ItemId):
        #            this.ItemName   = this.ItemName ? this.ItemName : this.ItemId;
        #            this.setNameAlias();
        #            break;
        #
        #        case fieldnum(InventTable, ItemName):
        #            this.NameAlias  = '';
        #            this.setNameAlias();
        #            break;
        #
        #        case fieldnum(InventTable, AltItemId):
        #            this.AltConfigId         = '';
        #            this.AltInventColorId    = '';
        #            this.AltInventSizeId     = '';
        #            break;
        #
        #        case fieldnum(InventTable, Phantom):
        #            if (this.Phantom)
        #                this.AutoReportFinished = NoYes::No;
        #            break;
        #
        #        case fieldnum(InventTable, OrigCountryRegionId):
        #            this.OrigStateId = '';
        #            break;
        #
        #        case fieldnum(InventTable, pbaAutoStart):
        #            if (this.pbaAutoStart)
        #                this.pbaMandatoryConfig = NoYes::No;
        #            break;
        #
        #        case fieldnum(InventTable, pbaMandatoryConfig):
        #            if (this.pbaMandatoryConfig)
        #                this.pbaAutoStart = NoYes::No;
        #            break;
        #
        #        case fieldnum(InventTable, ItemType):
        #            if (this.ItemType == ItemType::Service)
        #            {
        #
        #                this.FiscalLIFOAvoidCalc = NoYes::Yes;
        #                this.PalletTagging       = NoYes::No;
        #                this.ItemTaggingLevel    = RFIDItemTaggingLevel::None;
        #            }
        #            break;
        #
        #    // start changed by nat - 10/6/2010 - AGR_OTC_Invent_BupelTax / AGR_Invent_BupelSetup
        #    // naski remark 5/22/2012 - move tax update to field AGR_TaxBupelId
        #        //case fieldnum(InventTable, AGR_ItemCategoryId):
        #            //this.updateTaxBupel();
        #            //break;
        #    // end changed
        #        case fieldnum(InventTable, AGR_TaxBupelId):
        #            this.updateTaxBupel(); // naski edit 9/15/2012
        #            //this.updateTax();
        #            break;
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #primaryVendorId
        #public VendAccount primaryVendorId(
        #    InventDimId     _inventDimId    = '',           // can be = '' if setting the _inventDim buffer
        #    InventDim       _inventDim      = null)         // set this parameter for better performance if avail
        #{
        #    ReqSetupDim     reqSetupDim;
        #    ;
        #
        #    if (! _inventDimId && prmisdefault(_inventDim))
        #        return this.PrimaryVendorId;
        #
        #    reqSetupDim = ReqSetupDim::newInventTable(this,_inventDimId,_inventDim);
        #
        #    if (reqSetupDim)
        #        return reqSetupDim.primaryVendId();
        #
        #    return this.PrimaryVendorId;
        #}
        #
      ENDSOURCE
      SOURCE #Purch_editStopped
        #display itemStopped Purch_editStopped()
        #{
        #    InventItemPurchSetup iips;
        #    ;
        #    select iips where iips.ItemId==this.ItemId;
        #    return iips.stopped();
        #}
      ENDSOURCE
      SOURCE #PurchInventLocationId
        #/// <summary>
        #/// Returns a purchase warehouse ID.
        #/// </summary>
        #/// <param name="_inventLocationId">
        #/// The current purchase warehouse ID.
        #/// This value will be returned back if it is not empty and the mandatory warehouse parameter is not set on the item's purchase order settings.
        #/// </param>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <param name="_inventSiteIdParent">
        #/// A purchase site ID that the _inventLocationId parameter should belong to; optional.
        #/// This parameter applies only when _inventLocationId parameter is specified.
        #/// If both _inventSiteIdParent and _inventLocationId parameters are passed and no site specific settings are found,
        #/// then the check whether the passed _inventLocationId belongs to the site specified by _inventSiteIdParent will be performed,
        #/// and if it does not, then an empty string will be returned back, but if it does, then the passed _inventLocationId parameter is returned.
        #/// </param>
        #/// <returns>
        #/// A purchase warehouse ID.
        #/// </returns>
        #
        #//BP Deviation documented
        #display InventLocationId purchInventLocationId(InventLocationId _inventLocationId   = '',
        #                                               InventDimId      _inventDimId        = InventDim::inventDimIdBlank(),
        #                                               InventSiteId     _inventSiteIdParent = '')
        #{
        #    return this.inventItemPurchSetup(_inventDimId).inventLocationId(_inventLocationId,
        #                                                                    this,
        #                                                                    _inventSiteIdParent);
        #}
      ENDSOURCE
      SOURCE #purchInventSiteId
        #//BP Deviation documented
        #display PurchInventSiteId purchInventSiteId(InventSiteId _inventSiteId = '')
        #    {
        #    return this.inventItemPurchSetup().inventSiteId(_inventSiteId, this);
        #}
        #
      ENDSOURCE
      SOURCE #PurchLineDisc
        #//BP Deviation documented
        #display LineDiscCode    purchLineDisc()
        #{
        #    return InventTableModule::find(this.ItemId, ModuleInventPurchSales::Purch).LineDisc;
        #}
      ENDSOURCE
      SOURCE #PurchLowestQty
        #/// <summary>
        #/// Returns a minimum allowed inventory order quantity.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <returns>
        #/// A minimum allowed inventory order quantity.
        #/// </returns>
        #
        #//BP Deviation documented
        #display QtyLowest purchLowestQty(InventDimId _inventDimId = InventDim::inventDimIdBlank())
        #{
        #    return this.inventItemPurchSetup(_inventDimId).lowestQty();
        #}
      ENDSOURCE
      SOURCE #PurchMarkupGroup
        #//BP Deviation documented
        #display MarkupGroupId  purchMarkupGroup()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).MarkupGroupId;
        #}
      ENDSOURCE
      SOURCE #PurchMultiLineDisc
        #//BP Deviation documented
        #display PriceGroupId purchMultiLineDisc()
        #{
        #    return InventTableModule::find(this.ItemId, ModuleInventPurchSales::Purch).MultiLineDisc;
        #}
      ENDSOURCE
      SOURCE #PurchOverDeliveryPct
        #//BP Deviation documented
        #display PurchOverDeliveryPct  purchOverDeliveryPct()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).OverDeliveryPct;
        #}
      ENDSOURCE
      SOURCE #PurchPcsPrice
        #//BP Deviation documented
        #display Price purchPcsPrice()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).pcsPrice();
        #}
      ENDSOURCE
      SOURCE #PurchPriceAgreement
        #server container purchPriceAgreement(TransDate      _priceDate,
        #                                     InventDim      _inventDim,
        #                                     Qty            _qty,
        #                                     UnitID         _unit,
        #                                     VendAccount    _accountNum         = this.primaryVendorId(_inventDim.InventDimId,_inventDim),
        #                                     CurrencyCode   _currencyCode       = VendTable::find(_accountNum).Currency,
        #                                     boolean        _includeLineDisc    = true)
        #{
        #    VendTable           vendTable;
        #    InventTableModule   inventTableModule;
        #
        #    PriceDisc           priceDisc;
        #
        #    DiscAmount          lineDiscAmount;
        #    DiscPct             lineDiscPct;
        #
        #    Price               price;
        #    PriceMarkup         priceMarkup;
        #    PriceUnit           priceUnit;
        #    ;
        #
        #    if (!_currencyCode)
        #        _currencyCode = CompanyInfo::standardCurrency();
        #
        #    inventTableModule= InventTableModule::find(this.ItemId, ModuleInventPurchSales::Purch);
        #
        #    if (_unit  != inventTableModule.UnitId)
        #    {
        #        _qty   = UnitConvert::qty(_qty,
        #                                  _unit,
        #                                  inventTableModule.UnitId,
        #                                  this.ItemId);
        #    }
        #
        #    vendTable= VendTable::find(_accountNum);
        #
        #    priceDisc = new PriceDisc(ModuleInventPurchSales::Purch,
        #                              this.ItemId,
        #                              _inventDim,
        #                              inventTableModule.UnitId,
        #                              _priceDate,
        #                              _qty,
        #                              vendTable.AccountNum,
        #                              _currencyCode);
        #
        #    if(!priceDisc.findPrice(vendTable.PriceGroup, false))
        #    {
        #        // Price agreement is not found
        #        return [0, 1, 0, dateNull(), dateNull()];
        #    }
        #
        #    price       = priceDisc.price();
        #    priceMarkup = priceDisc.markup();
        #    priceUnit   = priceDisc.priceUnit();
        #
        #    if(_includeLineDisc && priceDisc.findLineDisc(this.purchLineDisc(), vendTable.LineDisc))
        #    {
        #        lineDiscAmount  = priceDisc.lineDiscAmount();
        #        lineDiscPct     = priceDisc.lineDiscPct();
        #
        #        price       = ((price - lineDiscAmount) / (priceUnit ? priceUnit : 1)) * ((100 - lineDiscPct) / 100);
        #        price       = price * (priceUnit ? priceUnit : 1);
        #        priceMarkup = priceMarkup * ((100 - lineDiscPct) / 100);
        #    }
        #
        #    return [Currency::mstPrice(price, _currencyCode),
        #            priceUnit,
        #            Currency::mstPrice(priceMarkup, _currencyCode),
        #            priceDisc.priceTable().FromDate,
        #            priceDisc.priceTable().ToDate];
        #}
      ENDSOURCE
      SOURCE #purchPriceUnit
        #//BP Deviation documented
        #display PriceUnit  purchPriceUnit()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).priceUnit();
        #}
      ENDSOURCE
      SOURCE #PurchStandardQty
        #/// <summary>
        #/// Returns a standard purchase order quantity.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <returns>
        #/// A standard purchase order quantity.
        #/// </returns>
        #
        #//BP Deviation documented
        #display QtyStandard purchStandardQty(InventDimId _inventDimId = InventDim::inventDimIdBlank())
        #{
        #    return this.inventItemPurchSetup(_inventDimId).standardQty();
        #}
      ENDSOURCE
      SOURCE #purchSuppItemGroupId
        #//BP Deviation documented
        #display InventSuppItemGroupId purchSuppItemGroupId()
        #{
        #    return InventTableModule::find(this.ItemId, ModuleInventPurchSales::Purch).SuppItemGroupId;
        #}
      ENDSOURCE
      SOURCE #PurchTaxItemGroupId
        #//BP Deviation documented
        #display TaxItemGroup purchTaxItemGroupId()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).TaxItemGroupId;
        #}
      ENDSOURCE
      SOURCE #PurchUnderDeliveryPct
        #//BP Deviation documented
        #display PurchUnderDeliveryPct  purchUnderDeliveryPct()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).UnderDeliveryPct;
        #}
      ENDSOURCE
      SOURCE #PurchUnitId
        #//BP Deviation documented
        #display PurchUnit  purchUnitId()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch).UnitId;
        #}
      ENDSOURCE
      SOURCE #renamePrimaryKey
        #public void renamePrimaryKey()
        #{
        #    BOMTable        bomTable;
        #    ItemId          oldItemId = this.orig().ItemId;
        #    InventTable     inventTable;
        #    ;
        #
        #    ttsbegin;
        #
        #    inventTable = this.orig().data(); // remember selected record
        #
        #    super();
        #
        #    if (! BOMVersion::dictConfigurationKey().enabled())
        #    {
        #        bomTable = BOMTable::find(oldItemId);
        #        if (bomTable)
        #        {
        #            bomTable.bomId = this.ItemId;
        #            bomTable.renamePrimaryKey();
        #        }
        #    }
        #
        #    if (this.dataSource())
        #    {
        #        this.dataSource().research();
        #        if (inventTable) // restore selected record
        #        {
        #            this.dataSource().findRecord(inventTable);
        #        }
        #    }
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #RouteId
        #RouteId routeId(
        #    TransDate   _searchDate,
        #    FromQty     _searchQty,
        #    InventDim   _searchInventDim)
        #{
        #    return RouteVersion::findActive(this.ItemId, _searchDate, _searchQty, _searchInventDim).RouteId;
        #}
        #
      ENDSOURCE
      SOURCE #RouteIdConstruction
        #RouteId routeIdConstruction(
        #    BOMRouteVersionSelect   _bomRouteVersionSelect,
        #    TransDate               _searchDate,
        #    FromQty                 _searchQty,
        #    InventDim               _searchInventDim)
        #{
        #    RouteVersion            routeVersion;
        #    ;
        #
        #    if (!this.RecId || !this.inventItemType().canHaveRoutes())
        #        return '';
        #
        #    if (_bomRouteVersionSelect == BOMRouteVersionSelect::Active)
        #    {
        #        return this.routeId(_searchDate, _searchQty, _searchInventDim);
        #    }
        #    else
        #    {
        #        select firstonly routeVersion
        #            where routeVersion.ItemId          == this.ItemId &&
        #                  routeVersion.Construction    == NoYes::Yes;
        #
        #        if (_bomRouteVersionSelect == BOMRouteVersionSelect::Selected)
        #        {
        #            return routeVersion.RouteId;
        #        }
        #        else
        #        {
        #            return routeVersion.RecId ? routeVersion.RouteId : this.routeId(_searchDate, _searchQty, _searchInventDim);
        #        }
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #Sales_editStopped
        #display itemStopped Sales_editStopped()
        #{
        #    InventItemSalesSetup iiss;
        #    ;
        #    select iiss where iiss.ItemId==this.ItemId;
        #    return iiss.stopped();
        #}
      ENDSOURCE
      SOURCE #SalesInventLocationId
        #/// <summary>
        #/// Returns a sales warehouse ID.
        #/// </summary>
        #/// <param name="_inventLocationId">
        #/// The current sales warehouse ID.
        #/// This value will be returned back if it is not empty and the mandatory warehouse parameter is not set on the item's sales order settings.
        #/// </param>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <param name="_inventSiteIdParent">
        #/// A sales site ID that the _inventLocationId parameter should belong to; optional.
        #/// This parameter applies only when _inventLocationId parameter is specified.
        #/// If both _inventSiteIdParent and _inventLocationId parameters are passed and no site specific settings are found,
        #/// then the check whether the passed _inventLocationId belongs to the site specified by _inventSiteIdParent will be performed,
        #/// and if it does not, then an empty string will be returned back, but if it does, then the passed _inventLocationId parameter is returned.
        #/// </param>
        #/// <returns>
        #/// A sales warehouse ID.
        #/// </returns>
        #
        #//BP Deviation documented
        #display InventLocationId salesInventLocationId(InventLocationId _inventLocationId   = '',
        #                                               InventDimId      _inventDimId        = InventDim::inventDimIdBlank(),
        #                                               InventSiteId     _inventSiteIdParent = '')
        #{
        #    return this.inventItemSalesSetup(_inventDimId).inventLocationId(_inventLocationId,
        #                                                                    this,
        #                                                                    _inventSiteIdParent);
        #}
      ENDSOURCE
      SOURCE #salesInventSiteId
        #//BP Deviation documented
        #display SalesInventSiteId salesInventSiteId(InventSiteId _inventSiteId = '')
        #    {
        #    return this.inventItemSalesSetup().inventSiteId(_inventSiteId, this);
        #}
        #
      ENDSOURCE
      SOURCE #SalesLineDisc
        #//BP Deviation documented
        #display LineDiscCode    salesLineDisc()
        #{
        #    return InventTableModule::find(this.ItemId, ModuleInventPurchSales::Sales).LineDisc;
        #}
      ENDSOURCE
      SOURCE #SalesMarkupGroup
        #//BP Deviation documented
        #display MarkupGroupId  salesMarkupGroup()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).MarkupGroupId;
        #}
      ENDSOURCE
      SOURCE #SalesMultiLineDisc
        #//BP Deviation documented
        #display PriceGroupId salesMultiLineDisc()
        #{
        #    return InventTableModule::find(this.ItemId, ModuleInventPurchSales::Sales).MultiLineDisc;
        #}
      ENDSOURCE
      SOURCE #SalesOverDeliveryPct
        #//BP Deviation documented
        #display SalesOverDeliveryPct  salesOverDeliveryPct()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).OverDeliveryPct;
        #}
      ENDSOURCE
      SOURCE #SalesPcsPrice
        #//BP Deviation documented
        #display Price salesPcsPrice()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).pcsPrice();
        #}
      ENDSOURCE
      SOURCE #SalesPriceAgreement
        #server container salesPriceAgreement(TransDate      searchDate,
        #                                     InventDim      inventDim,
        #                                     Qty            qty,
        #                                     UnitID         unit,
        #                                     CustAccount    accountNum,
        #                                     CurrencyCode   currencyCode)
        #{
        #    PriceDisc           priceDisc;
        #
        #    InventTableModule   inventTableModule;
        #    CustTable           custTable;
        #    ;
        #
        #    inventTableModule = InventTableModule::find(this.ItemId, ModuleInventPurchSales::Sales);
        #
        #    if (unit != inventTableModule.UnitId)
        #    {
        #        qty = UnitConvert::qty(qty,
        #                               unit,
        #                               inventTableModule.UnitId,
        #                               this.ItemId);
        #    }
        #
        #    custTable = CustTable::find(accountNum);
        #
        #    priceDisc = new PriceDisc(ModuleInventPurchSales::Sales,
        #                              this.ItemId,
        #                              inventDim,
        #                              inventTableModule.UnitId,
        #                              searchDate,
        #                              qty,
        #                              custTable.AccountNum,
        #                              currencyCode);
        #
        #
        #    if (! priceDisc.findPrice(custTable.PriceGroup))
        #    {
        #        priceDisc.findItemPrice();
        #    }
        #
        #
        #    return [priceDisc.price(),
        #            priceDisc.priceUnit(),
        #            priceDisc.markup()];
        #}
        #
        #
      ENDSOURCE
      SOURCE #SalesPriceUnit
        #//BP Deviation documented
        #display PriceUnit  salesPriceUnit()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).priceUnit();
        #}
      ENDSOURCE
      SOURCE #SalesStandardQty
        #/// <summary>
        #/// Returns a standard sales order quantity.
        #/// </summary>
        #/// <param name="_inventDimId">
        #/// The inventory dimension ID that are settings to be found for; optional.
        #/// If not specified, the default settings are used.
        #/// </param>
        #/// <returns>
        #/// A standard sales order quantity.
        #/// </returns>
        #
        #//BP Deviation documented
        #display QtyStandard salesStandardQty(InventDimId _inventDimId = InventDim::inventDimIdBlank())
        #{
        #    return this.inventItemSalesSetup(_inventDimId).standardQty();
        #}
      ENDSOURCE
      SOURCE #salesSuppItemGroupId
        #//BP Deviation documented
        #display InventSuppItemGroupId salesSuppItemGroupId()
        #{
        #    return InventTableModule::find(this.ItemId, ModuleInventPurchSales::Sales).SuppItemGroupId;
        #}
      ENDSOURCE
      SOURCE #SalesTaxItemGroupId
        #//BP Deviation documented
        #display TaxItemGroup salesTaxItemGroupId()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).TaxItemGroupId;
        #}
      ENDSOURCE
      SOURCE #SalesUnderDeliveryPct
        #//BP Deviation documented
        #display SalesUnderDeliveryPct  salesUnderDeliveryPct()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).UnderDeliveryPct;
        #}
      ENDSOURCE
      SOURCE #SalesUnitId
        #//BP Deviation documented
        #display SalesUnit  salesUnitId()
        #{
        #    return InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales).UnitId;
        #}
      ENDSOURCE
      SOURCE #SetNameAlias
        #void setNameAlias()
        #{
        #    if (! this.NameAlias)
        #        this.NameAlias = name2Alias(this.ItemName);
        #}
      ENDSOURCE
      SOURCE #siteActive
        #boolean siteActive()
        #{
        #    InventDimSearch dimSearch = new InventDimSearch();
        #    ;
        #    if (dimSearch.find(this.DimGroupId, fieldnum(InventDim,InventSiteId)))
        #        return dimSearch.dimActive();
        #    return false;
        #}
      ENDSOURCE
      SOURCE #sizeActive
        #//BP Deviation documented
        #display boolean sizeActive()
        #{
        #    InventDimSearch dimSearch = new InventDimSearch();
        #    ;
        #    if (dimSearch.find(this.DimGroupId,fieldnum(InventDim,InventSizeId)))
        #        return dimSearch.dimActive();
        #    return false;
        #}
      ENDSOURCE
      SOURCE #stopExplodeBOMPrice
        #boolean stopExplodeBOMPrice()
        #{
        #    return this.bomCalcGroup().StopExplodePrice;
        #}
      ENDSOURCE
      SOURCE #Txt
        #//BP Deviation documented
        #display ItemFreeTxt txt(LanguageId  languageId  = CompanyInfo::languageId(),
        #                        InventDim   inventDim   = null,
        #                        CustAccount custAccount = ''
        #                       )
        #{
        #    CustExternalItemDescription custExternalItemDescription;
        #    ItemFreeTxt                 itemFreeTxt;
        #    ;
        #    if (custAccount)
        #    {
        #        custExternalItemDescription = new CustExternalItemDescription(this.ItemId, inventDim, custAccount);
        #        if (custExternalItemDescription.findExternalDescription())
        #            itemFreeTxt = custExternalItemDescription.externalItemFreeTxt();
        #    }
        #
        #    if (! itemFreeTxt)
        #        itemFreeTxt = InventTxt::findDim(this.ItemId,inventDim.InventDimId,languageId).Txt;
        #
        #    if (! itemFreeTxt)
        #        itemFreeTxt = InventTxt::find(this.ItemId,languageId).Txt;
        #
        #    return itemFreeTxt;
        #}
      ENDSOURCE
      SOURCE #TxtDefault
        #//BP Deviation documented
        #edit ItemFreeTxt txtDefault(
        #    boolean         set,
        #    ItemFreeTxt     txt
        #    )
        #{
        #    LanguageId  languageId  = CompanyInfo::languageId();
        #    InventTxt   inventTxt   = InventTxt::find(this.ItemId,languageId);
        #
        #    if (set)
        #    {
        #        ttsbegin;
        #
        #        inventTxt               = InventTxt::find(this.ItemId,languageId,true);
        #        inventTxt.ItemId        = this.ItemId;
        #        inventTxt.LanguageId    = languageId;
        #        inventTxt.Txt           = txt;
        #        inventTxt.write();
        #
        #        ttscommit;
        #    }
        #
        #    return inventTxt.Txt;
        #}
      ENDSOURCE
      SOURCE #Update
        #void update()
        #{
        #    InventTable         this_Orig       = this.orig();
        #    ItemGroupId         itemGroup_Orig  = this_Orig.ItemGroupId;
        #
        #    ForecastSales   forecastSales;
        #    ForecastPurch   forecastPurch;
        #    ;
        #
        #    ttsbegin;
        #
        #    this.setNameAlias();
        #    this.inventModelGroup().inventModelType().preUpdateInventTable(this);
        #
        #    super();
        #
        #    if (itemGroup_Orig  != this.ItemGroupId)
        #    {
        #
        #        while select forupdate forecastSales
        #            where forecastSales.ItemId        == this.ItemId                 &&
        #                  forecastSales.ItemGroupId   == itemGroup_Orig              &&
        #                  forecastSales.ExpandId      == 0
        #        {
        #
        #            forecastSales.ItemGroupId = this.ItemGroupId;
        #            forecastSales.update();
        #        }
        #
        #        while select forupdate forecastPurch
        #            where forecastPurch.ItemId      == this.ItemId                 &&
        #                  forecastPurch.ItemGroupId == itemGroup_Orig              &&
        #                  forecastPurch.ExpandId    == 0
        #        {
        #
        #            forecastPurch.ItemGroupId = this.ItemGroupId;
        #            forecastPurch.update();
        #        }
        #
        #    }
        #
        #    if (this_Orig.SalesModel                != this.SalesModel              ||
        #        this_Orig.SalesPriceModelBasic      != this.SalesPriceModelBasic    ||
        #        this_Orig.SalesContributionRatio    != this.SalesContributionRatio  ||
        #        this_Orig.SalesPercentMarkup        != this.SalesPercentMarkup)
        #    {
        #        InventTable::updateAutoSalesPrice(this.ItemId);
        #    }
        #
        #    this.insertBOMTable();
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #updateAutoSalesPercent
        #server boolean updateAutoSalesPercent()
        #{
        #    InventTableModule   inventTableSales;
        #    InventTableModule   inventTableBasic;
        #    ;
        #    if (this.SalesModel == SalesPriceModel::None)
        #        return false;
        #
        #    inventTableSales = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales,true);
        #
        #    if (this.SalesPriceModelBasic == SalesPriceModelBasic::PurchPrice)
        #        inventTableBasic = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch);
        #    else
        #        inventTableBasic = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent);
        #
        #    if (! inventTableSales || ! inventTableBasic)
        #        return false;
        #
        #    switch(this.SalesModel)
        #    {
        #        case SalesPriceModel::Contributionratio:
        #
        #            if (inventTableSales.pcsPrice())
        #            {
        #                this.SalesContributionRatio = (inventTableSales.pcsPrice() - inventTableBasic.pcsPrice()) * 100 / inventTableSales.pcsPrice();
        #            }
        #
        #            break;
        #
        #        case SalesPriceModel::PercentMarkup:
        #
        #            if (inventTableBasic.pcsPrice())
        #            {
        #                this.SalesPercentMarkup = (inventTableSales.pcsPrice() - inventTableBasic.pcsPrice()) * 100 / inventTableBasic.pcsPrice();
        #            }
        #
        #            break;
        #
        #        default:
        #    }
        #
        #    this.update();
        #    return true;
        #
        #}
      ENDSOURCE
      SOURCE #updateCheckFix
        #server void updateCheckFix(InventConsistencyCheck_Table inventConsistencyCheck_Table)
        #{
        #    InventTableModule   inventTableModule;
        #    InventItemLocation  inventItemLocation;
        #    InventDimSetup      inventDimSetup;
        #    Counter             serialNoErrors;
        #    InventSum           inventSum;
        #    InventDim           inventDim;
        #    InventSerial        inventSerial;
        #
        #    void addError(str _str)
        #    {
        #        checkFailed(_str, '', SysInfoAction_TableField::newBuffer(this));
        #    }
        #    ;
        #
        #    setprefix(fieldLabelValue(this.TableId, fieldnum(InventTable,ItemId), this.ItemId));
        #
        #    inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch,true);
        #    if (! inventTableModule)
        #    {
        #        addError(strfmt("@SYS55203",ModuleInventPurchSales::Purch));
        #        if (inventConsistencyCheck_Table.checkFix() == CheckFix::Fix)
        #        {
        #            inventTableModule.initValue();
        #            inventTableModule.ItemId        = this.ItemId;
        #            inventTableModule.ModuleType    = ModuleInventPurchSales::Purch;
        #            inventTableModule.insert();
        #
        #            inventConsistencyCheck_Table.updateCorrected();
        #        }
        #    }
        #
        #    inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent,true);
        #    if (! inventTableModule)
        #    {
        #        addError(strfmt("@SYS55203",ModuleInventPurchSales::Invent));
        #        if (inventConsistencyCheck_Table.checkFix() == CheckFix::Fix)
        #        {
        #            inventTableModule.initValue();
        #            inventTableModule.ItemId        = this.ItemId;
        #            inventTableModule.ModuleType    = ModuleInventPurchSales::Invent;
        #            inventTableModule.insert();
        #
        #            inventConsistencyCheck_Table.updateCorrected();
        #        }
        #    }
        #
        #    inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Sales,true);
        #    if (! inventTableModule)
        #    {
        #        addError(strfmt("@SYS55203",ModuleInventPurchSales::Sales));
        #        if (inventConsistencyCheck_Table.checkFix() == CheckFix::Fix)
        #        {
        #            inventTableModule.initValue();
        #            inventTableModule.ItemId        = this.ItemId;
        #            inventTableModule.ModuleType    = ModuleInventPurchSales::Sales;
        #            inventTableModule.insert();
        #
        #            inventConsistencyCheck_Table.updateCorrected();
        #        }
        #    }
        #
        #    inventItemLocation = InventItemLocation::findDefault(this.ItemId,true);
        #    if (! inventItemLocation)
        #    {
        #        addError("@SYS55204");
        #        if (inventConsistencyCheck_Table.checkFix() == CheckFix::Fix)
        #        {
        #            inventItemLocation.initValue();
        #            inventItemLocation.ItemId        = this.ItemId;
        #            inventItemLocation.InventDimId   = InventDim::inventDimIdBlank();
        #            inventItemLocation.insert();
        #
        #            inventConsistencyCheck_Table.updateCorrected();
        #        }
        #    }
        #
        #    // Check the extra serial number control
        #    inventDimSetup = InventDimSetup::find(this.DimGroupId, fieldnum(InventDim, InventSerialId));
        #    if (inventDimSetup && inventDimSetup.Active && inventDimSetup.SerialNumberControl)
        #    {
        #        while select inventSum
        #            where inventSum.ItemId      == this.ItemId      &&
        #                  inventSum.ClosedQty   == NoYes::No        &&
        #                  (inventSum.PhysicalInvent != 0            ||
        #                   inventSum.Arrived        != 0)
        #        {
        #            inventDim = inventSum.inventDim();
        #            if (inventDim.InventSerialId && !InventSerial::exist(this.ItemId, inventDim.InventSerialId))
        #            {
        #                serialNoErrors++;
        #                if (inventConsistencyCheck_Table.checkFix() == CheckFix::Fix)
        #                {
        #                    inventSerial.ItemId             = this.ItemId;
        #                    inventSerial.InventSerialId     = inventDim.InventSerialId;
        #                    inventSerial.insert();
        #                }
        #            }
        #        }
        #        if (serialNoErrors > 0)
        #        {
        #            addError(strfmt("@SYS68715", this.ItemId, serialNoErrors));
        #            if (inventConsistencyCheck_Table.checkFix() == CheckFix::Fix)
        #                inventConsistencyCheck_Table.updateCorrected();
        #        }
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #UpdateLastCostPrice
        #server void updateLastCostPrice(
        #    CostAmount       value,
        #    InventQty        qty,
        #    PriceDate        priceDate,
        #    InventDim        _inventDim
        #    )
        #{
        #    InventTableModule       inventTableModule;
        #    CostPrice       costPrice;
        #
        #    void initInventTableModule()
        #    {
        #        ;
        #        inventTableModule.Price     = costPrice;
        #        inventTableModule.Markup    = 0;
        #        inventTableModule.PriceDate = priceDate;
        #    }
        #    ;
        #
        #    if (!value)
        #        return;
        #
        #    if (this.CostModel && qty > 0 && value  > 0 && this.inventModelGroup().inventModelType().mustUpdateInventTableCostPrice())
        #    {
        #        inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent);
        #        costPrice         = Currency::price(inventTableModule.priceUnit() * value / qty);
        #
        #        if (inventTableModule.PriceDate <= priceDate)
        #        {
        #            if (costPrice != inventTableModule.Price)
        #            {
        #                inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Invent,true);
        #
        #                initInventTableModule();
        #                inventTableModule.update(false);
        #            }
        #        }
        #
        #        initInventTableModule();
        #        InventItemPrice::updateLastCostPrice(inventTableModule, _inventDim, priceDate);
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #UpdateLastPurchPrice
        #server void updateLastPurchPrice(
        #    TransDate         transDate,
        #    CurrencyCode      currencyCode,
        #    Price             purchPrice,
        #    PriceUnit         priceUnit,
        #    PriceMarkup       priceMarkup,
        #    PurchUnit         purchUnit,
        #    InventDim         _inventDim
        #    )
        #{
        #    InventTableModule   inventTableModule;
        #    Price               price;
        #    PriceMarkup         markup;
        #
        #    void initInventTableModule()
        #    {
        #        ;
        #        inventTableModule.Price     = price;
        #        inventTableModule.PriceUnit = priceUnit;
        #        inventTableModule.Markup    = markup;
        #        inventTableModule.PriceDate = transDate;
        #    }
        #    ;
        #
        #    if (!purchPrice)
        #        return;
        #
        #    if (this.PurchModel)
        #    {
        #        inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch);
        #        price               = UnitConvert::price(Currency::price(Currency::amountCur2MST(purchPrice,currencyCode,0,transDate)), inventTableModule.UnitId, purchUnit, inventTableModule.ItemId);
        #        markup              = UnitConvert::price(Currency::price(Currency::amountCur2MST(priceMarkup,currencyCode,0,transDate)), inventTableModule.UnitId, purchUnit, inventTableModule.ItemId);
        #
        #        if (inventTableModule.PriceDate <= transDate)
        #        {
        #
        #            if (price)
        #            {
        #                if (price != inventTableModule.Price || markup != inventTableModule.Markup || inventTableModule.PriceUnit != priceUnit)
        #                {
        #                    inventTableModule = InventTableModule::find(this.ItemId,ModuleInventPurchSales::Purch,true);
        #                    initInventTableModule();
        #                    inventTableModule.update(false);
        #                }
        #                initInventTableModule();
        #                InventItemPrice::updateLastPurchPrice(inventTableModule, _inventDim, transDate);
        #            }
        #        }
        #
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #updateTax
        #void updateTax()
        #{
        #    // naski add 5/22/2012 update tax moved from category
        #    InventTableModule   inventSales;
        #    TaxItemGroup        TaxItemGroup;
        #    TaxCode             TaxCode;
        #    ;
        #    inventsales = this.inventTableModuleSales(true);
        #    taxcode = inventsales.TaxItemGroupId;
        #    if(this.AGR_TaxBupelId == ""){
        #        inventsales.TaxItemGroupId = taxCode;
        #    } else {
        #        inventSales.TaxItemGroupId = "";
        #    }
        #    inventsales.update();
        #
        #    info(strfmt(" %1 %2 is changed to %3","@SYS21932",TaxCode,this.AGR_TaxBupelId));
        #}
      ENDSOURCE
      SOURCE #updateTaxBupel
        #// added by nat - 10/6/2010 - AGR_OTC_Invent_BupelTax
        #void updateTaxBupel()
        #{
        #    InventTableModule   inventSales;
        #    TaxItemGroup        TaxItemGroup;
        #    TaxCode             TaxCode;
        #
        #    void updateSalesTaxItemGroup()
        #    {
        #        SalesTable  sTable;
        #        SalesLine   sLine;
        #        int         i;
        #        ;
        #        //if(curuserid() == "Naski"){
        #            while select forupdate sLine
        #                where sLine.ItemId == this.ItemId
        #                && sLine.SalesType == SalesType::Sales
        #                && (sLine.SalesStatus == SalesStatus::Backorder || sLine.SalesStatus == SalesStatus::Delivered)
        #            join sTable
        #                where sTable.SalesId == sLine.SalesId
        #                && sTable.AGR_OrderOrigin == AGR_OrderOrigin::External
        #            {
        #                i++;
        #                print(strfmt("%1",sLine.SalesId));
        #
        #                //if(curuserid() != "naski"){
        #                ttsbegin;
        #                sLine.TaxItemGroup = inventsales.TaxItemGroupId;
        #                sLine.update();
        #                ttscommit;
        #                //}
        #
        #                if(i < 10000){
        #                    info(strfmt("%1",sLine.SalesId));
        #                }
        #            }
        #
        #            info(strfmt("%1 Sales Order Lines updated.",i));
        #        //}
        #    }
        #
        #    boolean warn(){
        #        // naski add 12/16/2017 - warning update tipe pajak apabila sudah ada transaksi
        #        SalesLine           sLine;
        #        str                 txtWarning;
        #        DialogButton        ans;
        #        ;
        #        select firstfast firstonly sLine
        #            where sLine.ItemId == this.ItemId
        #            && sLine.SalesType == SalesType::Sales
        #            && sLine.SalesStatus == SalesStatus::Backorder || sLine.SalesStatus == SalesStatus::Delivered;
        #
        #        if(sLine){ // && curuserid() == "naski"){
        #            txtWarning = strfmt("Masih ada Sales Order Outstanding dari kode buku %1. Item Tax Group akan otomatis diupdate.\n\nLanjutkan?",
        #                                this.ItemId);
        #            ans = Box::okCancel(txtWarning,DialogButton::Cancel,"Item Sales Tax Update Confirmation","Item Sales Tax Update Confirmation");
        #
        #//            if(ans == DialogButton::Ok){
        #//                updateSalesTaxItemGroup();
        #//                return true;
        #//            }
        #            return (ans == DialogButton::Ok);
        #        }
        #        //return true;
        #    }
        #    ;
        #    if (this.AGR_ItemCategoryId && this.AGR_ItemCategoryId == Custparameters::find().AGR_ItemCategoryBupel)
        #    {
        #        if(warn()){
        #            inventsales = this.inventTableModuleSales(true);
        #            TaxCode     = InventParameters::find().AGR_TaxBupelId;
        #
        #            if(inventsales.TaxItemGroupId)
        #            {
        #                info(strfmt("%1 %2 is changed to blank, because Item category %3","@SYS21932",inventsales.TaxItemGroupId,this.AGR_ItemCategoryId));
        #                inventsales.TaxItemGroupId = "";
        #                inventsales.update();
        #            }
        #
        #            if(this.AGR_TaxBupelId && this.AGR_TaxBupelId != TaxCode)
        #                info(strfmt("Tax Bupel %1 is changed to %2, because Item category %3",this.AGR_TaxBupelId,TaxCode,this.AGR_ItemCategoryId));
        #
        #            this.AGR_TaxBupelId = TaxCode;
        #
        #        }
        #    }
        #    else
        #    {
        #        // change into automatic fill in Tax PPN if category item not Bupel
        #        if (this.AGR_ItemCategoryId && this.AGR_ItemCategoryId != Custparameters::find().AGR_ItemCategoryBupel)
        #        {
        #            if(warn()){
        #                inventsales = this.inventTableModuleSales(true);
        #                TaxItemGroup = InventParameters::find().AGR_TaxItemGroupNotBupel;
        #
        #                if(inventsales.TaxItemGroupId && inventsales.TaxItemGroupId != TaxItemGroup)
        #                    info(strfmt("%1 %2 is changed to %3, because Item category %4","@SYS21932",inventsales.TaxItemGroupId,TaxItemGroup,this.AGR_ItemCategoryId));
        #
        #                inventsales.TaxItemGroupId = TaxItemGroup;
        #                inventSales.LineDisc = "GramediaBKP"; // naski add 12/16/2017 - auto disc item BKP
        #                inventsales.update();
        #
        #                if(this.AGR_TaxBupelId)
        #                {
        #                    info(strfmt("Tax Bupel %1 is changed to blank, because Item category %2",this.AGR_TaxBupelId,this.AGR_ItemCategoryId));
        #                    this.AGR_TaxBupelId = "";
        #                }
        #
        #                updateSalesTaxItemGroup();
        #            }
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #validateDelete
        #public boolean validateDelete()
        #{
        #    boolean         ret;
        #    BOM             bomLines;
        #    BOMId           activeBOMId;
        #    str             warningStr;
        #    InventDim       inventDim;
        #    ;
        #
        #    ret = super();
        #
        #    if (! ret)
        #        return ret;
        #
        #    inventDim.InventSiteId = this.inventInventSiteId();
        #
        #    if (this.inventItemType().canHaveBOM() && ! isConfigurationkeyEnabled(configurationkeynum(BOMVersion)))
        #    {
        #
        #      activeBOMId = BOMVersion::findActive(this.ItemId, systemdateget(), this.inventStandardQty(), inventDim).bomId;
        #
        #      select firstonly bomLines
        #          where bomLines.bomId == activeBOMId;
        #
        #        if (bomLines.RecId)
        #            warningStr = "@SYS81601";
        #    }
        #
        #    if (warningStr && Box::yesNo(warningStr+'\n\n'+"@SYS62458",DialogButton::No, strfmt("@SYS81613",this.ItemId)) == DialogButton::No)
        #        ret = false;
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(fieldId _fieldIdToCheck)
        #{
        #    boolean         ret;
        #    ;
        #
        #    ret = super(_fieldIdToCheck);
        #
        #    switch (fieldExt2Id(_fieldIdToCheck))
        #    {
        #        case fieldnum(InventTable, ProjCategoryId):
        #            ret = ret && this.checkProjCategoryId();
        #            break;
        #
        #        case fieldnum(InventTable, FiscalLIFOGroup):
        #            if (this.RecId && (!InventFiscalLIFOGroup::find(this.FiscalLIFOGroup).Individual || !InventFiscalLIFOGroup::find(this.orig().FiscalLIFOGroup).Individual)
        #                && !SysRecordTemplate::isTemplateEditFormRecord(this))
        #            {
        #                if (this.checkFiscalLIFOValuePrevYear())
        #                    ret = checkFailed("@SYS99199");
        #            }
        #            break;
        #
        #        case fieldnum(InventTable, Configurable):
        #            ret = ret && this.checkConfigurable();
        #            break;
        #
        #        case fieldnum(InventTable, AGR_TaxBupelId):
        #            if (ret)
        #            {
        #              if(!this.AGR_TaxBupelId)
        #              {
        #                if(this.AGR_ItemCategoryId && this.AGR_ItemCategoryId == Custparameters::find().AGR_ItemCategoryBupel)
        #                {
        #                    ret = checkfailed(strfmt("Tax Bupel can not be blank for Item category %1",this.AGR_ItemCategoryId));
        #                }
        #              }
        #              else
        #              {
        #                if(this.AGR_ItemCategoryId && this.AGR_ItemCategoryId != Custparameters::find().AGR_ItemCategoryBupel)
        #                {
        #                    if(this.AGR_ItemCategoryId != "All"){
        #                        ret = checkfailed(strfmt("Tax Bupel can not be fill in for Item category %1",this.AGR_ItemCategoryId));
        #                    }
        #                }
        #              }
        #            }
        #            break;
        #
        #    }
        #
        #    ret = ret && this.inventModelGroup().inventModelType().validateFieldInventTable(this,_fieldIdToCheck);
        #
        #    return ret;
        #}
        #
        #
      ENDSOURCE
      SOURCE #validateWrite
        #public boolean validateWrite()
        #{
        #    boolean ret;
        #
        #    ret = super();
        #
        #    ret = ret && this.checkProjCategoryId();
        #
        #    ret = ret && this.inventModelGroup().inventModelType().validateWriteInventTable(this);
        #
        #    if (ret)
        #    {
        #        ret = appl.dimensionSetValidation().checkDimension(this, fieldnum(InventTable, Dimension), true);
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #buildMaxQtyDialogStr
        #static TempStr buildMaxQtyDialogStr(InventItemOrderSetupMap _inventItemOrderSetupMap,
        #                                    UnitID                  _unitID,
        #                                    UnitID                  _transUnitId,
        #                                    Qty                     _transQty,
        #                                    boolean                 _lockMaxQtyCheck)
        #{
        #    TempStr maxQtyDialogStr;
        #;
        #    maxQtyDialogStr = strfmt("@SYS14410", UnitConvert::qty(_inventItemOrderSetupMap.highestQty(), _unitID, _transUnitId, _inventItemOrderSetupMap.ItemId))
        #                             + '\n'   + strfmt("@SYS10407",_transQty);
        #    if (!_lockMaxQtyCheck)
        #    {
        #        maxQtyDialogStr += '\n\n' + "@SYS53119" ;
        #    }
        #
        #    return maxQtyDialogStr;
        #}
      ENDSOURCE
      SOURCE #buildMinQtyDialogStr
        #static TempStr buildMinQtyDialogStr(InventItemOrderSetupMap _inventItemOrderSetupMap,
        #                                    UnitID                  _unitID,
        #                                    UnitID                  _transUnitId,
        #                                    Qty                     _transQty,
        #                                    boolean                 _lockMinQtyCheck)
        #{
        #    TempStr minQtyDialogStr;
        #;
        #    minQtyDialogStr = strfmt("@SYS2024", UnitConvert::qty(_inventItemOrderSetupMap.lowestQty(), _unitID, _transUnitId, _inventItemOrderSetupMap.ItemId))
        #                             + '\n' + strfmt("@SYS10407",_transQty);
        #    if (!_lockMinQtyCheck)
        #    {
        #        minQtyDialogStr += '\n\n' + "@SYS53116";
        #    }
        #
        #    return minQtyDialogStr;
        #}
      ENDSOURCE
      SOURCE #buildMultipleDialogStr
        #static TempStr buildMultipleDialogStr(InventItemOrderSetupMap _inventItemOrderSetupMap,
        #                                      UnitID                  _unitID,
        #                                      UnitID                  _transUnitId,
        #                                      Qty                     _transQty,
        #                                      Qty                     _numOfRoundedUp,
        #                                      boolean                 _lockMultipleCheck,
        #                                      boolean                 _showRoundedUp = true)
        #{
        #    TempStr multipleDialogStr;
        #;
        #    multipleDialogStr = strfmt("@SYS1100",UnitConvert::qty(_inventItemOrderSetupMap.multipleQty(), _unitID, _transUnitId, _inventItemOrderSetupMap.ItemId))
        #                               + '\n'   + strfmt("@SYS10407",_transQty);
        #
        #    if (_showRoundedUp)
        #    {
        #        multipleDialogStr += '\n'   + strfmt("@SYS15651",UnitConvert::qty(_numOfRoundedUp, _unitID, _transUnitId, _inventItemOrderSetupMap.ItemId));
        #    }
        #
        #    if (!_lockMultipleCheck)
        #    {
        #        multipleDialogStr += '\n\n' + "@SYS4901";
        #    }
        #
        #    return multipleDialogStr;
        #}
      ENDSOURCE
      SOURCE #checkColor
        #server static boolean checkColor(ItemId          itemId,
        #                                 InventColorId    inventColorId
        #                                )
        #{
        #    InventTable inventTable = InventTable::find(itemId);
        #    ;
        #
        #    if (inventTable.colorActive())
        #    {
        #        if (! inventColorId)
        #            return checkFailed(strfmt("@SYS73924",InventColor::label(),itemId));
        #    }
        #    else if (inventColorId)
        #        return checkFailed(strfmt("@SYS73923",itemId,InventColor::label()));
        #
        #    if (! InventColor::checkExist(itemId,inventColorId))
        #        return false;
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkConfig
        #server static boolean checkConfig(
        #    ItemId      itemId,
        #    ConfigId    configId
        #    )
        #{
        #    InventTable inventTable = InventTable::find(itemId);
        #    ;
        #    if (inventTable.configActive())
        #    {
        #        if (! configId)
        #            return checkFailed(strfmt("@SYS25771",itemId));
        #    }
        #    else if (configId)
        #        return checkFailed(strfmt("@SYS25621",itemId));
        #
        #    if (! ConfigTable::checkExist(itemId,configId))
        #        return false;
        #
        #    return true;
        #}
        #
      ENDSOURCE
      SOURCE #checkExist
        #static boolean checkExist(ItemId itemId)
        #{
        #    if (itemId && !InventTable::exist(itemId))
        #        return checkFailed(strfmt(InventTable::txtNotExist(),itemId));
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkSize
        #server static boolean checkSize(ItemId          itemId,
        #                                InventSizeId    inventSizeId
        #                               )
        #{
        #    InventTable inventTable = InventTable::find(itemId);
        #    ;
        #
        #    if (inventTable.sizeActive())
        #    {
        #        if (! inventSizeId)
        #            return checkFailed(strfmt("@SYS73924",InventSize::label(),itemId));
        #    }
        #    else if (inventSizeId)
        #        return checkFailed(strfmt("@SYS73923",itemId,InventSize::label()));
        #
        #    if (! InventSize::checkExist(itemId,inventSizeId))
        #        return false;
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #exist
        #static boolean exist(ItemId  itemId)
        #{
        #    return itemId && (select RecId from inventTable
        #                index hint ItemIdx
        #                where inventTable.ItemId == itemId
        #           ).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #find
        #static InventTable find(ItemId      itemId,
        #                        boolean     update = false)
        #{
        #    InventTable  inventTable;
        #    ;
        #
        #    inventTable.selectForUpdate(update);
        #
        #    if (itemId)
        #    {
        #        select firstonly inventTable
        #            index hint ItemIdx
        #            where inventTable.ItemId == itemId;
        #    }
        #
        #    return inventTable;
        #}
        #
      ENDSOURCE
      SOURCE #findAlternativeItem
        #static container findAlternativeItem (ItemId            _itemId,
        #                                      InventDim         _inventDim,
        #                                      InventQty         qty
        #                                      )
        #{
        #    InventDimParm           inventDimParm;
        #    InventDim               inventDim;
        #    InventOnhand            inventOnhand;
        #    Counter                 iteration;
        #    NoYes                   nextItem;
        #    ItemId                  newItemId       = _itemId;
        #    InventTable             inventTable     = InventTable::find(_itemId);
        #    ;
        #    #InventDimDevelop
        #
        #    inventDim.copyItemDim(inventTable.DimGroupId,_inventDim);
        #
        #    inventDimParm.initItemDimension(inventTable.DimGroupId);
        #
        #    if (inventTable.UseAltItemId != ItemNumAlternative::Never)
        #    {
        #        while (inventTable.AltItemId && iteration < 10)
        #        {
        #            iteration++;
        #
        #            switch(inventTable.UseAltItemId)
        #            {
        #                case ItemNumAlternative::Never          :   newItemId   = inventTable.ItemId;
        #                                                            nextItem    = NoYes::No;
        #                                                            break;
        #
        #                case ItemNumAlternative::InventWhen0   :
        #                    inventOnhand    = InventOnhand::newParameters(
        #                                              newItemId,
        #                                              inventDim,
        #                                              inventDimParm);
        #
        #
        #
        #                    if (inventOnhand.availPhysical() >= qty)
        #                    {
        #                        newItemId   = inventTable.ItemId;
        #                        nextItem    = NoYes::No;
        #                        break;
        #                    }
        #                    else
        #                    {
        #                        inventDim.ConfigId      = inventTable.AltConfigId;
        #                        inventDim.InventSizeId  = inventTable.AltInventSizeId;
        #                        inventDim.InventColorId = inventTable.AltInventColorId;
        #                        inventTable             = InventTable::find(inventTable.AltItemId);
        #                        newItemId               = inventTable.ItemId;
        #                        inventDimParm.clear();
        #                        inventDimParm.initItemDimension(inventTable.DimGroupId);
        #                        nextItem                = NoYes::Yes;
        #                        break;
        #                    }
        #
        #                case ItemNumAlternative::Always         :   inventDim.ConfigId      = inventTable.AltConfigId;
        #                                                            inventDim.InventSizeId  = inventTable.AltInventSizeId;
        #                                                            inventDim.InventColorId = inventTable.AltInventColorId;
        #                                                            inventTable             = InventTable::find(inventTable.AltItemId);
        #                                                            newItemId               = inventTable.ItemId;
        #                                                            inventDimParm.clear();
        #                                                            inventDimParm.initItemDimension(inventTable.DimGroupId);
        #                                                            nextItem                = NoYes::Yes;
        #                                                            break;
        #            }
        #            if (nextItem)
        #                continue;
        #            else
        #                break;
        #        }
        #    }
        #    return [newItemId,inventDim];
        #}
        #
      ENDSOURCE
      SOURCE #findCompanyItem
        #static InventTable findCompanyItem(ItemIdCompany   itemIdCompany,
        #                                   boolean         update = false)
        #{
        #    InventTable  inventTable;
        #    ;
        #
        #    inventTable.selectForUpdate(update);
        #
        #    if (itemIdCompany)
        #    {
        #        select firstonly inventTable
        #            where inventTable.ItemIdCompany == itemIdCompany;
        #    }
        #
        #    return inventTable;
        #}
        #
      ENDSOURCE
      SOURCE #findCostPcsPrice
        #static Price findCostPcsPrice(
        #    ItemId      _itemId,
        #    InventDimId _inventDimId,
        #    InventDim   _inventDim   = null,  // set this parameter for better performance if avail
        #    PriceDate   _priceDate   = systemdateget()
        #    )
        #{
        #    return InventTable::find(_itemId).costPcsPrice(_inventDimId,_inventDim, null, _priceDate);
        #}
      ENDSOURCE
      SOURCE #findExternalItemId
        #static container findExternalItemId(ModuleInventCustVend    _moduleInventCustVend,
        #                                    CustVendAC              _custVendAccount,
        #                                    ExternalItemId          _externalItemId)
        #{
        #    CustVendExternalItem                custVendExternalItem;
        #    ModuleInventPurchSalesVendCustGroup moduleInventPurchSalesVendCustGroup;
        #    CustVendItemGroupId                 custVendItemGroupId;
        #    ;
        #    if (_custVendAccount && _externalItemId)
        #    {
        #        if (_moduleInventCustVend == ModuleInventCustVend::Cust)
        #        {
        #            moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::Cust;
        #        }
        #        else
        #        {
        #            moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::Vend;
        #        }
        #
        #        custVendExternalItem    = CustVendExternalItem::findExternalItemId(moduleInventPurchSalesVendCustGroup, _custVendAccount, _externalItemId);
        #
        #        if (!custVendExternalItem)
        #        {
        #            if (_moduleInventCustVend == ModuleInventCustVend::Cust)
        #            {
        #                moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::CustGroup;
        #                custVendItemGroupId                 = CustTable::find(_custVendAccount).CustItemGroupId;
        #            }
        #            else
        #            {
        #                moduleInventPurchSalesVendCustGroup = ModuleInventPurchSalesVendCustGroup::VendGroup;
        #                custVendItemGroupId                 = VendTable::find(_custVendAccount).VendItemGroupId;
        #            }
        #
        #            custVendExternalItem    = CustVendExternalItem::findExternalItemId(moduleInventPurchSalesVendCustGroup, custVendItemGroupId, _externalItemId);
        #        }
        #    }
        #
        #    return [custVendExternalItem.ItemId, custVendExternalItem.inventDim()];
        #}
      ENDSOURCE
      SOURCE #findRecId
        #static InventTable findRecId(recId      _recId,
        #                             boolean    update = false)
        #{
        #    InventTable  inventTable;
        #    ;
        #
        #    inventTable.selectForUpdate(update);
        #
        #    if (_recId)
        #    {
        #        select firstonly inventTable
        #            where inventTable.RecId == _recId;
        #    }
        #
        #    return inventTable;
        #}
      ENDSOURCE
      SOURCE #findTagId
        #static InventTable findTagId(RFIDTagId  _tagId,
        #                             boolean     update = false)
        #{
        #    InventTable     inventTable;
        #    InventItemGTIN  gtin;
        #    RFIDEpc         epc;
        #    ;
        #
        #    inventTable.selectForUpdate(update);
        #
        #    if (_tagId)
        #    {
        #        epc = RFIDEpc::construct(_tagId);
        #
        #        if (epc  &&  epc.objectType() == EPCObjectType::ItemType)
        #        {
        #            gtin = InventItemGTIN::findGTIN(epc.object());
        #
        #            if (gtin)
        #            {
        #                select firstonly inventTable
        #                    where inventTable.ItemId == gtin.ItemId;
        #            }
        #        }
        #    }
        #
        #    return inventTable;
        #}
      ENDSOURCE
      SOURCE #getInventDimId
        #static server InventDimId getInventDimId(ItemId _itemId)
        #{
        #    InventDimId inventDimId;
        #    InventTable inventTable;
        #    InventDim   inventDim;
        #    ;
        #
        #    inventTable = InventTable::find(_itemId);
        #
        #    if (inventTable)
        #    {
        #        if (inventTable.configActive() || inventTable.sizeActive() || inventTable.colorActive())
        #        {
        #            inventDim.ConfigId       = inventTable.StandardConfigId;
        #            inventDim.InventSizeId   = inventTable.StandardInventSizeId;
        #            inventDim.InventColorId  = inventTable.StandardInventColorId;
        #            inventDimId              = InventDim::findOrCreate(inventDim).InventDimId;
        #        }
        #        else
        #        {
        #            inventDimId = InventDim::inventDimIdBlank();
        #        }
        #    }
        #    return inventDimId;
        #}
      ENDSOURCE
      SOURCE #infoActionBOMCalcGroup
        #static SysInfoAction_Formrun infoActionBOMCalcGroup(ItemId        _itemId,
        #                                                    InventTable   _inventTable = null) // set this parameter for better performance
        #{
        #    SysInfoAction_Formrun   infoActionBOMCalcGroup;
        #    ;
        #    infoActionBOMCalcGroup = SysInfoAction_Formrun::newFormnameControlname(formstr(InventTable),
        #                                                                           identifierstr(BOMCalculationGroup_BOMCalcGroupId));
        #    if(!_inventTable)
        #    {
        #        _inventTable = InventTable::find(_itemId);
        #    }
        #
        #    infoActionBOMCalcGroup.parmCallerBuffer(_inventTable);
        #
        #    return infoActionBOMCalcGroup;
        #}
        #
      ENDSOURCE
      SOURCE #infoActionItemId
        #static SysInfoAction_Formrun infoActionItemId(ItemId        _itemId,
        #                                              InventTable   _inventTable = null) // set this parameter for better performance
        #{
        #    SysInfoAction_Formrun   infoActionItemId;
        #    ;
        #    infoActionItemId = SysInfoAction_Formrun::newFormnameControlname(formstr(InventTable),
        #                                                                     identifierstr(ctrlInventTable_ItemId));
        #    if(!_inventTable)
        #    {
        #        _inventTable = InventTable::find(_itemId);
        #    }
        #
        #    infoActionItemId.parmCallerBuffer(_inventTable);
        #
        #    return infoActionItemId;
        #}
        #
      ENDSOURCE
      SOURCE #inventDecimals
        #static UnitDecimals inventDecimals(ItemId itemId)
        #{
        #    ;
        #    return Unit::decimals(InventTableModule::find(itemId,ModuleInventPurchSales::Invent).UnitId);
        #}
      ENDSOURCE
      SOURCE #isBatchReceiptRequired
        #static boolean isBatchReceiptRequired(ItemId itemId)
        #{
        #    #InventDimDevelop
        #    InventDimSetup  inventDimSetup = InventDimSetup::find(InventTable::find(itemId).DimGroupId, fieldnum(InventDim, InventBatchId));
        #    ;
        #    if (!inventDimSetup || !inventDimSetup.Active || inventDimSetup.AllowBlankReceipt)
        #        return false;
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #lookupBOMId
        #client static void lookupBOMId(
        #    FormStringControl   _lookupCtrl,
        #    ItemId              _itemId,
        #    InventDim           _inventDimCriteria
        #    )
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(BOMVersion), _lookupCtrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tablenum(BOMVersion));
        #    QueryBuildRange         queryBuildRange;
        #
        #    QueryBuildDataSource    qbdsDim;
        #    container               dimFields = InventDim::dimFieldList();
        #
        #    InventDimParm           inventDimParm;
        #    int                     h;
        #    int                     y;
        #    int                     x;
        #    ;
        #
        #    inventDimParm.initDimBOMRouteVersion(InventTable::find(_itemId).DimGroupId);
        #
        #    if (_itemId)
        #    {
        #        queryBuildRange = queryBuildDataSource.addRange(fieldnum(BOMVersion, ItemId));
        #        queryBuildRange.value(queryValue(_itemId));
        #    }
        #
        #    queryBuildDataSource.addSelectionField(fieldnum(BOMVersion, InventDimId)); // needed below for the addLookupMethod
        #
        #    qbdsDim = queryBuildDataSource.addDataSource(tablenum(InventDim));
        #    qbdsDim.joinMode(JoinMode::InnerJoin);
        #    qbdsDim.relations(true);
        #
        #    for (h=1;h<=conlen(dimFields);h++)
        #    {
        #        y = conpeek(dimFields, h);
        #        x = InventDim::dim2dimParm(conpeek(dimFields, h));
        #
        #        if (inventDimParm.(x))  //dimension is active for the item
        #        {
        #            if (_inventDimCriteria.(y))  //limitation is specified
        #            {
        #                qbdsDim.addRange(y).value(queryValue(_inventDimCriteria.(y)));
        #                qbdsDim.addRange(y).value(SysQuery::valueEmptyString());
        #                qbdsDim.addSortField(y);
        #            }
        #
        #            if (tableHasInstanceMethod(new DictTable(tablenum(BOMVersion)), fieldid2name(tablenum(InventDim),y)))
        #            {
        #                sysTableLookup.addLookupMethod(fieldid2name(tablenum(InventDim),y));
        #            }
        #        }
        #    }
        #
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, bomId));
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, Name));
        #
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, FromDate));
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, ToDate));
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, FromQty));
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, Active));
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, ApprovedBy));
        #    sysTableLookup.addLookupfield(fieldnum(BOMVersion, Approved));
        #
        #    queryBuildDataSource.addSortField(fieldnum(BOMVersion, bomId),SortOrder::Descending);
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #
      ENDSOURCE
      SOURCE #lookupItemIdCanBeProduced
        #static client void lookupItemIdCanBeProduced(FormStringControl _ctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventTable),_ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tablenum(InventTable));
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemGroupId));
        #
        #    queryBuildDataSource.addRange(fieldnum(InventTable,ItemType)).value(InventItemType::valueCanBeProduced());
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #
        #}
      ENDSOURCE
      SOURCE #lookupItemIdCanBeTransferred
        #/// <summary>
        #///    Finds items that can be transferred.
        #/// </summary>
        #/// <param name="_lookupctrl">
        #///    The <c>FormStringControl</c> object where the lookup values should be displayed.
        #/// </param>
        #/// <remarks>
        #///    Whether an item can be transferred depends on its item type, and is determined by the return value of the <c>InventItemType.canBeTransferred</c> method.
        #/// </remarks>
        #public static client void lookupItemIdCanBeTransferred(FormStringControl _lookupctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventTable), _lookupctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, SizeTxt));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,DimGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemBrandId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ContentDesc));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,AGR_ItemSegment));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemType));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,NameAlias));
        #
        #    queryBuildDataSource = query.addDataSource(tablenum(InventTable));
        #    queryBuildDataSource.addRange(fieldnum(InventTable,ItemType)).value(InventItemType::valueCanBeTransferred());
        #
        #    queryBuildDataSource.addSortField(fieldnum(InventTable,ItemId));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupItemIdCanHaveBOM
        #static client void lookupItemIdCanHaveBOM(FormStringControl _ctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventTable),_ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tablenum(InventTable));
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemGroupId));
        #
        #    queryBuildDataSource.addRange(fieldnum(InventTable,ItemType)).value(InventItemType::valueCanHaveBOM());
        #
        #    queryBuildDataSource.addSortField(fieldnum(InventTable,ItemId));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #
        #
      ENDSOURCE
      SOURCE #lookupItemIdClassification
        #public static client void lookupItemIdClassification(FormStringControl        _lookupctrl,
        #                                                     AGR_ItemClassificationId _ItemClassification)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventTable), _lookupctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, NameAlias));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemType));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, DimGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, AGR_ItemSegment));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, SizeTxt));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemBrandId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, AGR_ItemClassification));
        #
        #    queryBuildDataSource = query.addDataSource(tablenum(InventTable));
        #    queryBuildDataSource.addRange(fieldnum(InventTable,AGR_ItemClassification)).value(queryvalue(_ItemClassification));
        #
        #    queryBuildDataSource.addSortField(fieldnum(InventTable,ItemId));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupItemIdGroup
        #client server static void lookupItemIdGroup(
        #    FormStringControl   ctrl,
        #    ItemGroupId         itemGroupId,
        #    boolean             showBOM     = false,
        #    boolean             showRoute   = false
        #    )
        #{
        #    InventLookupItemIdGroup inventLookup;
        #;
        #    inventLookup = new InventLookupItemIdGroup(ctrl, itemGroupId, showBOM, showRoute);
        #    inventLookup.run();
        #}
      ENDSOURCE
      SOURCE #lookupItemIdImport
        #public static client void lookupItemIdImport(FormStringControl _lookupctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventTable), _lookupctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, SizeTxt));
        #    //sysTableLookup.addLookupfield(fieldnum(InventTable,ItemGroupId));
        #    //sysTableLookup.addLookupfield(fieldnum(InventTable,DimGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ItemBrandId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable, ContentDesc));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,AGR_ItemSegment));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,PartNum));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ImportName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,HSNum));
        #
        #    //sysTableLookup.addLookupfield(fieldnum(InventTable,ItemType));
        #    //sysTableLookup.addLookupfield(fieldnum(InventTable,NameAlias));
        #
        #
        #    queryBuildDataSource = query.addDataSource(tablenum(InventTable));
        #    queryBuildDataSource.addRange(fieldnum(InventTable,ItemType)).value(InventItemType::valueCanBeTransferred());
        #
        #    queryBuildDataSource.addSortField(fieldnum(InventTable,ItemId));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupItemIdType
        #static client void lookupItemIdType(FormStringControl _ctrl, str _filterStr, Set _itemTypes)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(InventTable),_ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tablenum(InventTable));
        #    SetEnumerator           se;
        #    ;
        #
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemName));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemGroupId));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,NameAlias));
        #    sysTableLookup.addLookupfield(fieldnum(InventTable,ItemType));
        #
        #    queryBuildDataSource.addRange(fieldnum(InventTable,ItemId)).value(_filterStr+'*');
        #
        #    if (_itemTypes)
        #    {
        #        se = _itemTypes.getEnumerator();
        #        while (se.moveNext())
        #        {
        #            queryBuildDataSource.addRange(fieldnum(InventTable,ItemType)).value(queryValue(se.current()));
        #        }
        #    }
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupRouteId
        #client static void lookupRouteId(
        #    FormStringControl   _lookupCtrl,
        #    ItemId              _itemId,
        #    InventDim           _inventDimCriteria
        #    )
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tablenum(RouteVersion), _lookupCtrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tablenum(RouteVersion));
        #    QueryBuildRange         queryBuildRange;
        #
        #    QueryBuildDataSource    qbdsDim;
        #
        #    InventDimParm           inventDimParm;
        #    container               dimFields = InventDim::dimFieldList();
        #    int                     h;
        #    int                     y;
        #    int                     x;
        #    ;
        #
        #    inventDimParm.initDimBOMRouteVersion(InventTable::find(_itemId).DimGroupId);
        #
        #    if (_itemId)
        #    {
        #        queryBuildRange = queryBuildDataSource.addRange(fieldnum(RouteVersion, ItemId));
        #        queryBuildRange.value(queryValue(_itemId));
        #    }
        #
        #    queryBuildDataSource.addSelectionField(fieldnum(RouteVersion, InventDimId)); // needed below for the addLookupMethod
        #
        #    qbdsDim = queryBuildDataSource.addDataSource(tablenum(InventDim));
        #    qbdsDim.joinMode(JoinMode::InnerJoin);
        #    qbdsDim.relations(true);
        #
        #    //Adding inventory dimensions
        #    for (h=1;h<=conlen(dimFields);h++)
        #    {
        #        y = conpeek(dimFields, h);
        #        x = InventDim::dim2dimParm(conpeek(dimFields, h));
        #
        #        if (inventDimParm.(x))  //dimension is active for the item
        #        {
        #            if (_inventDimCriteria.(y)) //limitation is specified
        #            {
        #                qbdsDim.addRange(y).value(queryValue(_inventDimCriteria.(y)));
        #                qbdsDim.addRange(y).value(SysQuery::valueEmptyString());
        #                qbdsDim.addSortField(y);
        #            }
        #
        #            if (tableHasInstanceMethod(new DictTable(tablenum(RouteVersion)), fieldid2name(tablenum(InventDim),y)))
        #            {
        #                sysTableLookup.addLookupMethod(fieldid2name(tablenum(InventDim),y));
        #            }
        #        }
        #    }
        #
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, RouteId));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, Name));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, FromDate));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, ToDate));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, FromQty));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, Active));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, ApprovedBy));
        #    sysTableLookup.addLookupfield(fieldnum(RouteVersion, Approved));
        #
        #    queryBuildDataSource.addSortField(fieldnum(RouteVersion, RouteId),SortOrder::Descending);
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #
      ENDSOURCE
      SOURCE #name
        #static Name name(ItemId      _itemId,
        #                 InventDim   _inventDim = null
        #    )
        #{
        #    return InventTable::find(_itemId).itemName(_inventDim);
        #}
      ENDSOURCE
      SOURCE #PBALookupItemIdGroup
        #static void pbaLookupItemIdGroup(
        #    FormStringControl   ctrl,
        #    ItemGroupId         itemGroupId,
        #    boolean             showBOM     = false,
        #    boolean             showRoute   = false
        #    )
        #{
        #    PBAInventLookupItemIdGroup inventLookup;
        #;
        #    inventLookup = new PBAInventLookupItemIdGroup(ctrl, itemGroupId, showBOM, showRoute);
        #    inventLookup.run();
        #}
        #
      ENDSOURCE
      SOURCE #priceInventDimId
        #/// <summary>
        #/// Find or create an inventDimId for storing the price of an item price.
        #/// </summary>
        #/// <param name="_itemId">
        #/// The item id
        #/// </param>
        #/// <param name="_inventDimId">
        #/// The inventDimId that is converted.
        #/// </param>
        #/// <returns>
        #/// InventDimId for a specific dimension/site combination
        #/// </returns>
        #
        #public static InventDimId priceInventDimId(
        #    ItemId      _itemId,
        #    InventDimId _inventDimId
        #    )
        #{
        #    InventTable     inventTable;
        #    InventDimId     inventDimId;
        #    InventDim       inventDim;
        #    InventDim       itemDim;
        #    InventDimParm   inventDimParm;
        #    ;
        #
        #    inventTable = InventTable::find(_itemId);
        #
        #    if (inventTable.ItemDimCostPrice || inventTable.siteActive())
        #    {
        #        inventDim = InventDim::find(_inventDimId);
        #        if (inventTable.ItemDimCostPrice)
        #        {
        #            inventDim.clearNotSiteAndItemDim(inventTable.DimGroupId);
        #        }
        #        else
        #        {
        #            inventDimParm.InventSiteIdFlag = NoYes::Yes;
        #            inventDim.clearNotSelectedDim(inventDimParm);
        #        }
        #
        #        itemDim = InventDim::findOrCreate(inventDim);
        #        inventDimId = itemDim.InventDimId;
        #    }
        #    else
        #    {
        #        inventDimId = InventDim::inventDimIdBlank();
        #    }
        #
        #    return inventDimId;
        #}
      ENDSOURCE
      SOURCE #setMinMaxQty
        #static Qty setMinMaxQty(InventItemOrderSetupMap _inventItemOrderSetupMap,
        #                        Qty                     _transQty,
        #                        UnitID                  _transUnitId,
        #                        boolean                 _showUsrDialog = true,
        #                        boolean                 _lockMinQtyCheck = false,
        #                        boolean                 _lockMaxQtyCheck = false,
        #                        boolean                 _lockMultipleCheck = false)
        #{
        #    Qty                 transQty;
        #    Qty                 unitConvert = 1;
        #    Qty                 numOfRoundedUp;
        #    boolean             calledFromWeb = webSession() ? true : false;
        #
        #    UnitID  unitID      = InventTableModule::find(_inventItemOrderSetupMap.ItemId, InventItemOrderSetupMap::setup2ModuleType(_inventItemOrderSetupMap.setupType())).UnitId;
        #
        #    TempStr minQtyDialogStr;
        #    TempStr maxQtyDialogStr;
        #    TempStr multipleDialogStr;
        #    #define.emptyStr('')
        #
        #    boolean mustConvertQty(boolean _showDialog, boolean _lockQtyCheck, TempStr _dialogText)
        #    {
        #        boolean ret;
        #        ;
        #
        #        if (!ret && !_showDialog)
        #        {
        #            ret = true;
        #        }
        #
        #        if (!ret && _lockQtyCheck)
        #        {
        #            if (calledFromWeb)
        #            {//Info box is not supported on web, hence a message is shown in the info log instead.
        #                info(_dialogText);
        #            }
        #            else
        #            {
        #                Box::info(_dialogText);
        #            }
        #            ret = true;
        #        }
        #
        #        if (!ret)
        #        {
        #            if (calledFromWeb)
        #            {//YesNo box is not supported on web, hence a warning is shown instead. Qty is not converted.
        #                warning(_dialogText);
        #                ret = false;
        #            }
        #            else
        #            {
        #                if (Box::yesNo(_dialogText, DialogButton::Yes) == DialogButton::Yes)
        #                {
        #                    ret = true;
        #                }
        #            }
        #        }
        #
        #        return ret;
        #    }
        #    ;
        #
        #    transQty            = _transQty;
        #
        #    if (_transUnitId != unitID)
        #    {
        #        unitConvert = UnitConvert::qty(1, _transUnitId, unitID, _inventItemOrderSetupMap.ItemId, false);
        #    }
        #
        #    if (transQty > 0)
        #    {
        #        if (_inventItemOrderSetupMap.lowestQty() > decround((transQty * unitConvert),10))
        #        {
        #            minQtyDialogStr = _showUsrDialog ? InventTable::buildMinQtyDialogStr(_inventItemOrderSetupMap, unitID, _transUnitId, transQty, calledFromWeb ? true : _lockMinQtyCheck) : #emptyStr;
        #            if (mustConvertQty(_showUsrDialog, _lockMinQtyCheck, minQtyDialogStr))
        #            {
        #                transQty = UnitConvert::qty(_inventItemOrderSetupMap.lowestQty(),
        #                                            unitID,
        #                                            _transUnitId,
        #                                            _inventItemOrderSetupMap.ItemId);
        #            }
        #        }
        #
        #        if (_inventItemOrderSetupMap.highestQty() < decround((transQty * unitConvert),10) && _inventItemOrderSetupMap.highestQty() != 0)
        #        {
        #            maxQtyDialogStr = _showUsrDialog ? InventTable::buildMaxQtyDialogStr(_inventItemOrderSetupMap, unitID, _transUnitId, transQty, calledFromWeb ? true : _lockMaxQtyCheck) : #emptyStr;
        #            if (mustConvertQty(_showUsrDialog, _lockMaxQtyCheck, maxQtyDialogStr))
        #            {
        #                transQty = UnitConvert::qty(_inventItemOrderSetupMap.highestQty(),
        #                                            unitID,
        #                                            _transUnitId,
        #                                            _inventItemOrderSetupMap.ItemId);
        #            }
        #        }
        #
        #
        #        if (_inventItemOrderSetupMap.multipleQty())
        #        {
        #            numOfRoundedUp    = round((transQty * unitConvert) + _inventItemOrderSetupMap.multipleQty() / 2.00001, _inventItemOrderSetupMap.multipleQty());
        #            if (numOfRoundedUp != decround((transQty * unitConvert),10) && transQty != UnitConvert::qty(numOfRoundedUp, unitID, _transUnitId, _inventItemOrderSetupMap.ItemId))
        #            {
        #                multipleDialogStr = _showUsrDialog ? InventTable::buildMultipleDialogStr(_inventItemOrderSetupMap, unitID, _transUnitId, transQty, numOfRoundedUp, calledFromWeb ? true : _lockMultipleCheck, !calledFromWeb) : #emptyStr;
        #                if(mustConvertQty(_showUsrDialog, _lockMultipleCheck, multipleDialogStr))
        #                {
        #                    transQty = UnitConvert::qty(numOfRoundedUp,
        #                                                unitID,
        #                                                _transUnitId,
        #                                                _inventItemOrderSetupMap.ItemId);
        #                }
        #            }
        #        }
        #
        #        transQty = decround(transQty,Unit::decimals(_transUnitId));
        #    }
        #
        #    return transQty;
        #}
      ENDSOURCE
      SOURCE #showItemSiteAndItemDim
        #static str showItemSiteAndItemDim(
        #    ItemId          _itemId,
        #    InventDim       _inventDim,
        #    InventSiteId    _newSiteId
        #    )
        #{
        #    InventDim   inventDim;
        #    str         preFix;
        #    ;
        #
        #    inventDim.data(_inventDim);
        #    inventDim.InventSiteId = _newSiteId;
        #    inventDim.clearNotSiteAndItemDim(InventTable::find(_itemId).DimGroupId);
        #
        #    preFix = inventDim.preFix();
        #    return (prefix) ? strfmt("%1 %2",_itemId, preFix) : strfmt("%1",_itemId);
        #
        #
        #}
      ENDSOURCE
      SOURCE #txtNotExist
        #static TxtNotExist txtNotExist()
        #{
        #    return "@SYS10752";
        #}
      ENDSOURCE
      SOURCE #unitConvert
        #static Qty  unitConvert(ItemId                  itemId,
        #                        UnitID                  unitFrom,
        #                        UnitID                  unitTo,
        #                        UnitID                  unitInvent,
        #                        Qty                     valueFrom = 1)
        #{
        #    InventQty           inventQty;
        #    ;
        #
        #    if (unitFrom != unitTo)
        #    {
        #        inventQty   = UnitConvert::qty(valueFrom, unitFrom, unitInvent, itemId);
        #
        #        return UnitConvert::qty(inventQty, unitInvent, unitTo, itemId);
        #    }
        #
        #    return valueFrom;
        #}
      ENDSOURCE
      SOURCE #unitConvertValue
        #static real  unitConvertValue(  ItemId                  itemId,
        #                                UnitID                  unitFrom,
        #                                UnitID                  unitTo,
        #                                UnitID                  unitInvent,
        #                                real                    valueFrom)
        #{
        #    real                inventValue;
        #    ;
        #
        #    if (unitFrom != unitTo)
        #    {
        #        inventValue   = UnitConvert::valueConvert(valueFrom, unitFrom, unitInvent, itemId, false);
        #
        #        return UnitConvert::valueConvert(inventValue, unitInvent, unitTo, itemId, false);
        #    }
        #
        #    return valueFrom;
        #}
        #
      ENDSOURCE
      SOURCE #updateAutoSalesPrice
        #server static void updateAutoSalesPrice(ItemId itemId, PriceDate priceDate = systemdateget())
        #{
        #    InventTable         inventTable = InventTable::find(itemId);
        #    InventTableModule   inventTableSales;
        #    InventTableModule   inventTableBasic;
        #    ;
        #
        #    if (inventTable.SalesModel == SalesPriceModel::None)
        #        return;
        #
        #    inventTableSales = InventTableModule::find(itemId,ModuleInventPurchSales::Sales,true);
        #    if (priceDate < inventTableSales.PriceDate)
        #        return;
        #
        #    if (inventTable.SalesPriceModelBasic == SalesPriceModelBasic::PurchPrice)
        #        inventTableBasic = InventTableModule::find(itemId,ModuleInventPurchSales::Purch);
        #    else
        #        inventTableBasic = InventTableModule::find(itemId,ModuleInventPurchSales::Invent);
        #
        #    if (! inventTableSales || ! inventTableBasic)
        #        return;
        #
        #    inventTableSales.calcSalesPrice(inventTable, inventTableBasic);
        #    inventTableSales.update();
        #}
      ENDSOURCE
      SOURCE #webLookupItemId
        #client static void webLookupItemId(
        #    boolean         showConfigurator    = true,
        #    boolean         showExternalItem    = false
        #    )
        #{
        #    webTableLookup          webTableLookup;
        #    Query                   query;
        #    QueryBuildDataSource    queryBDSInventTable;
        #    QueryBuildDataSource    queryBDSInventProductGroupItem;
        #    QueryBuildDataSource    queryBDSInventTxt;
        #    QueryBuildDataSource    queryBDSCustVendExternalItem;
        #
        #
        #    WebSession              webSession = new WebSession();
        #;
        #
        #    webTableLookup = webTableLookup::newParameters(tablenum(InventTable));
        #    webTableLookup.addLookupfield(fieldnum(InventTable, ItemId));
        #    webTableLookup.selectField(fieldnum(InventTable, ItemId));
        #
        #    query = new Query();
        #    queryBDSInventTable = query.addDataSource(tablenum(InventTable));
        #
        #    if (EP::isCustomer())
        #    {
        #        queryBDSInventTable.orderMode(OrderMode::GroupBy);
        #        queryBDSInventTable.addSortField(fieldnum(InventTable,ItemId));
        #
        #        queryBDSInventProductGroupItem = queryBDSInventTable.addDataSource(tablenum(InventProductGroupItem));
        #        queryBDSInventProductGroupItem.joinMode(JoinMode::InnerJoin);
        #        queryBDSInventProductGroupItem.relations(true);
        #        queryBDSInventProductGroupItem.orderMode(OrderMode::GroupBy);
        #        queryBDSInventProductGroupItem.addSortField(fieldnum(InventProductGroupItem,ItemId));
        #
        #        queryBDSInventTxt            = queryBDSInventProductGroupItem.addDataSource(tablenum(InventTxt));
        #        queryBDSInventTxt.joinMode(JoinMode::OuterJoin);
        #        queryBDSInventTxt.relations(false);
        #        queryBDSInventTxt.addLink(fieldnum(InventProductGroupItem,ItemId),fieldnum(InventTxt,ItemId));
        #        queryBDSInventTxt.orderMode(OrderMode::GroupBy);
        #        queryBDSInventTxt.addSortField(fieldnum(InventTxt,ItemId));
        #        queryBDSInventTxt.addSortField(fieldnum(InventTxt,InventDimId));
        #        queryBDSInventTxt.addSortField(fieldnum(InventTxt,Txt));
        #
        #        queryBDSInventTxt.addRange(fieldnum(InventTxt, LanguageId)).value(webSession.language());
        #        queryBDSInventTxt.addRange(fieldnum(InventTxt, InventDimId)).value(InventDim::inventDimIdBlank());
        #
        #        showConfigurator = false;
        #        showExternalItem = false;
        #
        #        webTableLookup.addLookupfield(fieldnum(InventTxt, Txt),false,tablenum(InventTxt));
        #    }
        #
        #
        #    if (showConfigurator && !showExternalItem)
        #    {
        #        queryBDSInventTxt            = queryBDSInventTable.addDataSource(tablenum(InventTxt));
        #        queryBDSInventTxt.joinMode(JoinMode::OuterJoin);
        #        queryBDSInventTxt.relations(false);
        #        queryBDSInventTxt.addLink(fieldnum(InventTable,ItemId),fieldnum(InventTxt,ItemId));
        #
        #        queryBDSInventTxt.addRange(fieldnum(InventTxt, LanguageId)).value(webSession.language());
        #        queryBDSInventTxt.addRange(fieldnum(InventTxt, InventDimId)).value(InventDim::inventDimIdBlank());
        #
        #        webTableLookup.addLookupfield(fieldnum(InventTxt, Txt),false,tablenum(InventTxt));
        #/*
        #        queryBDSInventTable.orderMode(OrderMode::GroupBy);
        #        queryBDSInventTable.addSortField(fieldNum(InventTable,ItemId));
        #
        #        queryBDSConfigTable = queryBDSInventTable.addDataSource(tableNum(configTable));
        #        queryBDSConfigTable.joinMode(JoinMode::OuterJoin);
        #        queryBDSConfigTable.relations(true);
        #        queryBDSConfigTable.orderMode(OrderMode::GroupBy);
        #        queryBDSConfigTable.addSortField(fieldNum(ConfigTable,ItemId));
        #        queryBDSConfigTable.addSortField(fieldNum(ConfigTable,ConfigId));
        #        queryBDSConfigTable.addSortField(fieldNum(ConfigTable,Name));
        #
        #        queryBDSInventTxt            = queryBDSConfigTable.addDataSource(tableNum(InventTxt));
        #        queryBDSInventTxt.joinMode(joinmode::OuterJoin);
        #        queryBDSInventTxt.relations(false);
        #        queryBDSInventTxt.addLink(fieldNum(ConfigTable,ItemId),fieldNum(InventTxt,ItemId));
        #        queryBDSInventTxt.orderMode(OrderMode::GroupBy);
        #        queryBDSInventTxt.addSortField(fieldNum(InventTxt,ItemId));
        #        queryBDSInventTxt.addSortField(fieldNum(InventTxt,InventDimId));
        #        queryBDSInventTxt.addSortField(fieldNum(InventTxt,Txt));
        #
        #        queryBDSInventTxt.addRange(fieldNum(InventTxt, LanguageId)).value(webSession.language());
        #        queryBDSInventTxt.addRange(fieldNum(InventTxt, InventDimId)).value(InventDim::inventDimIdBlank());
        #
        #        webTableLookup.addLookupfield(fieldNum(configTable, ConfigId),false,tableNum(configTable));
        #        webTableLookup.addLookupfield(fieldNum(InventTxt, Txt),false,tableNum(InventTxt));
        #*/
        #    }
        #    if (showExternalItem)
        #    {
        #        queryBDSCustVendExternalItem = queryBDSInventTable.addDataSource(tablenum(CustVendExternalItem));
        #        queryBDSCustVendExternalItem.joinMode(JoinMode::OuterJoin);
        #
        #        if (EP::isVendor())
        #        {
        #            queryBDSCustVendExternalItem.addRange(fieldnum(CustVendExternalItem,ModuleType)).value(SysQuery::value(ModuleInventPurchSalesVendCustGroup::Vend));
        #            queryBDSCustVendExternalItem.addRange(fieldnum(CustVendExternalItem,CustVendRelation)).value(SysQuery::value(SysCompanyUserInfo::current().VendAccount));
        #        }
        #
        #        if (EP::isCustomer())
        #        {
        #            queryBDSCustVendExternalItem.addRange(fieldnum(CustVendExternalItem,ModuleType)).value(SysQuery::value(ModuleInventPurchSalesVendCustGroup::Cust));
        #            queryBDSCustVendExternalItem.addRange(fieldnum(CustVendExternalItem,CustVendRelation)).value(SysQuery::value(SysCompanyUserInfo::current().CustAccount));
        #
        #        }
        #
        #        queryBDSCustVendExternalItem.relations(true);
        #
        #        webTableLookup.addLookupfield(fieldnum(InventTable, ItemName));
        #        webTableLookup.addLookupfield(fieldnum(CustVendExternalItem, ExternalItemTxt), false, tablenum(CustVendExternalItem));
        #    }
        #
        #    if (EP::isVendor())
        #    {
        #        query = EPQuery::makeMyVendorSelfServiceQuery(query,tablenum(InventTable));
        #    }
        #
        #/*    if (EP::isCustomer())
        #    {
        #        query = EPQuery::makeMyCustomerSelfServiceQuery(query,tableNum(InventTable));
        #        debug::printDebug(query.dataSourceNo(1).toString());
        #    }*/
        #
        #    webTableLookup.parmQuery(query);
        #
        #
        #    webTableLookup.run();
        #}
        #
      ENDSOURCE
      SOURCE #webLookupItemIdQuery
        #/// <summary>
        #/// Creates query object used in the enterprise portal
        #/// adds ranges based on custmor or vendor user
        #/// </summary>
        #/// <param name="_showExternalItem">
        #/// Filter out external items (default)
        #/// </param>
        #/// <returns>
        #/// Query object
        #/// </returns>
        #/// <remarks>
        #/// EP
        #/// </remarks>
        #public static Query webLookupItemIdQuery(boolean _showExternalItem=false)
        #{
        #    webTableLookup          webTableLookup;
        #    Query                   query;
        #    QueryBuildDataSource    queryBDSInventTable;
        #    QueryBuildDataSource    queryBDSInventProductGroupItem;
        #    QueryBuildDataSource    queryBDSInventProductGroup;
        #    QueryBuildDataSource    queryBDSInventTxt;
        #    QueryBuildDataSource    queryBDSCustVendExternalItem;
        #    WebSession              webSession = new WebSession();
        #    ;
        #
        #    query = new Query();
        #    queryBDSInventTable = query.addDataSource(tablenum(InventTable));
        #
        #    if (EP::isCustomer())
        #    {
        #        queryBDSInventTable.orderMode(OrderMode::GroupBy);
        #        queryBDSInventTable.addSortField(fieldnum(InventTable,ItemId));
        #        queryBDSInventTable.addSortField(fieldnum(InventTable,ItemName));
        #
        #        queryBDSInventProductGroupItem = queryBDSInventTable.addDataSource(tablenum(InventProductGroupItem));
        #        queryBDSInventProductGroupItem.joinMode(JoinMode::InnerJoin);
        #        queryBDSInventProductGroupItem.relations(true);
        #        queryBDSInventProductGroupItem.orderMode(OrderMode::GroupBy);
        #        queryBDSInventProductGroupItem.addSortField(fieldnum(InventProductGroupItem,ItemId));
        #
        #        queryBDSInventProductGroup = queryBDSInventProductGroupItem.addDataSource(tablenum(InventProductGroup));
        #        queryBDSInventProductGroup.relations(true);
        #        queryBDSInventProductGroup.joinMode(JoinMode::ExistsJoin);
        #        queryBDSInventProductGroup.addRange(fieldnum(InventProductGroup,Module)).value(queryValue(ModuleSalesPurch::Sales));
        #        queryBDSInventProductGroup.fetchMode(0);
        #
        #        queryBDSInventTxt            = queryBDSInventProductGroupItem.addDataSource(tablenum(InventTxt));
        #        queryBDSInventTxt.joinMode(JoinMode::OuterJoin);
        #        queryBDSInventTxt.relations(false);
        #        queryBDSInventTxt.addLink(fieldnum(InventProductGroupItem,ItemId),fieldnum(InventTxt,ItemId));
        #        queryBDSInventTxt.orderMode(OrderMode::GroupBy);
        #        queryBDSInventTxt.addSortField(fieldnum(InventTxt,ItemId));
        #        queryBDSInventTxt.addSortField(fieldnum(InventTxt,InventDimId));
        #        queryBDSInventTxt.addSortField(fieldnum(InventTxt,Txt));
        #        queryBDSInventTxt.fetchMode(0);
        #
        #        queryBDSInventTxt.addRange(fieldnum(InventTxt, LanguageId)).value(webSession.language());
        #        queryBDSInventTxt.addRange(fieldnum(InventTxt, InventDimId)).value(InventDim::inventDimIdBlank());
        #
        #        _showExternalItem = false;
        #    }
        #
        #    if (_showExternalItem)
        #    {
        #        queryBDSCustVendExternalItem = queryBDSInventTable.addDataSource(tablenum(CustVendExternalItem));
        #        queryBDSCustVendExternalItem.joinMode(JoinMode::OuterJoin);
        #
        #        if (EP::isVendor())
        #        {
        #            queryBDSCustVendExternalItem.addRange(fieldnum(CustVendExternalItem,ModuleType)).value(SysQuery::value(ModuleInventPurchSalesVendCustGroup::Vend));
        #            queryBDSCustVendExternalItem.addRange(fieldnum(CustVendExternalItem,CustVendRelation)).value(SysQuery::value(SysCompanyUserInfo::current().VendAccount));
        #        }
        #
        #        queryBDSCustVendExternalItem.relations(true);
        #
        #        webTableLookup = webTableLookup::newParameters(tablenum(InventTable));
        #        webTableLookup.addLookupfield(fieldnum(InventTable, ItemName));
        #        webTableLookup.addLookupfield(fieldnum(CustVendExternalItem, ExternalItemTxt), false, tablenum(CustVendExternalItem));
        #    }
        #
        #    if (EP::isVendor())
        #    {
        #        query = EPQuery::makeMyVendorSelfServiceQuery(query,tablenum(InventTable));
        #    }
        #
        #    return query;
        #}
        #
      ENDSOURCE
      SOURCE #WMSPalletTypeId
        #static WMSPalletTypeId wmsPalletTypeId(ItemId _itemId)
        #{
        #    WMSPalletTypeId wmsPalletTypeId = InventTable::find(_itemId).wmsPalletTypeId;
        #    if (!wmsPalletTypeId)
        #        wmsPalletTypeId = WMSParameters::find().DefaultPalletTypeId;
        #    return wmsPalletTypeId;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBE

; Microsoft Dynamics AX Enumtype : ERL_JournalStatus unloaded
; --------------------------------------------------------------------------------
  ENUMTYPEVERSION 1
  
  ENUMTYPE #ERL_JournalStatus
    PROPERTIES
      Name                #ERL_JournalStatus
      Label               #Journal Status
      UseEnumValue        #Yes
    ENDPROPERTIES
    
    TYPEELEMENTS
      #None
      PROPERTIES
        Name                #None
        Label               #None
        EnumValue           #0
      ENDPROPERTIES
      
      #TidakSelisih
      PROPERTIES
        Name                #TidakSelisih
        Label               #Tidak Selisih
        EnumValue           #1
      ENDPROPERTIES
      
      #NonMateral
      PROPERTIES
        Name                #NonMateral
        Label               #Selisih Non Material
        EnumValue           #2
      ENDPROPERTIES
      
      #Material
      PROPERTIES
        Name                #Material
        Label               #Selisih Material
        EnumValue           #3
      ENDPROPERTIES
      
    ENDTYPEELEMENTS
  ENDENUMTYPE
  

***Element: DBE

; Microsoft Dynamics AX Enumtype : ERL_StatusOpnameTag unloaded
; --------------------------------------------------------------------------------
  ENUMTYPEVERSION 1
  
  ENUMTYPE #ERL_StatusOpnameTag
    PROPERTIES
      Name                #ERL_StatusOpnameTag
      Label               #Status
      UseEnumValue        #Yes
    ENDPROPERTIES
    
    TYPEELEMENTS
      #Open
      PROPERTIES
        Name                #Open
        Label               #Open
        EnumValue           #0
      ENDPROPERTIES
      
      #OnProgress
      PROPERTIES
        Name                #OnProgress
        Label               #On Progress
        EnumValue           #2
      ENDPROPERTIES
      
      #Transferred
      PROPERTIES
        Name                #Transferred
        Label               #Transferred
        EnumValue           #1
      ENDPROPERTIES
      
      #Cancel
      PROPERTIES
        Name                #Cancel
        Label               #Cancelled
        EnumValue           #3
      ENDPROPERTIES
      
    ENDTYPEELEMENTS
  ENDENUMTYPE
  

***Element: UTE

; Microsoft Dynamics AX Enum: LocationFound unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #LocationFound
  ENUM
    PROPERTIES
      Name                #LocationFound
      Extends             #NoYesId
      EnumType            #NoYes
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTI

; Microsoft Dynamics AX Integer: ERL_OpnameTagNum unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_OpnameTagNum
  INT
    PROPERTIES
      Name                #ERL_OpnameTagNum
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: ERL_OpnameTagId unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_OpnameTagId
  STRING
    PROPERTIES
      Name                #ERL_OpnameTagId
      Label               #Tag. ID
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: ERL_OpnameID unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_OpnameID
  STRING
    PROPERTIES
      Name                #ERL_OpnameID
      Label               #Opname ID
      StringSize          #30
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #ERL_StockOpname2
        RelatedField        #
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: ERL_OpnameRefrenceId unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_OpnameRefrenceId
  STRING
    PROPERTIES
      Name                #ERL_OpnameRefrenceId
      Label               #Refrence Id
      StringSize          #25
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #ERL_OpnameTag2
        RelatedField        #ERL_GroupTag
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTR

; Microsoft Dynamics AX Real: ERL_StockCounted unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_StockCounted
  REAL
    PROPERTIES
      Name                #ERL_StockCounted
      Label               #Stock Count
      Extends             #InventQty
      AllowNegative       #Yes
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: ERL_OpnamePeriodeId unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_OpnamePeriodeId
  STRING
    PROPERTIES
      Name                #ERL_OpnamePeriodeId
      Label               #Opname Periode Id
      StringSize          #25
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #ERL_OpnamePeriode
        RelatedField        #ERL_OpnamePeriodeId
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: ERL_MasterWHID unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #ERL_MasterWHID
  STRING
    PROPERTIES
      Name                #ERL_MasterWHID
      Label               #Master WH Id
      StringSize          #20
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
      TYPEREFERENCETYPE DATASET
      PROPERTIES
        Table               #ERL_WHStockOpname
        RelatedField        #ERL_MasterWHID
      ENDPROPERTIES
      
    ENDTYPEREFERENCES
    
  ENDUSERTYPE
  

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_LinesStockOpname
  PROPERTIES
    Name                #ERL_LinesStockOpname
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpnameLines
          Table               #ERL_StockOpnameLines
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          DataSource          #ERL_StockOpnameLines
        ENDPROPERTIES
        
          CONTAINER
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_ItemId
                DataSource          #ERL_StockOpnameLines
                DataField           #ItemId
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL REALEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_PhysicalQty
                DataSource          #ERL_StockOpnameLines
                DataField           #PhysicalQty
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_ERL_MasterWHID
                DataSource          #ERL_StockOpnameLines
                DataField           #ERL_MasterWHID
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_AdminId
                DataSource          #ERL_StockOpnameLines
                DataField           #AdminId
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_wMsLocationId
                DataSource          #ERL_StockOpnameLines
                DataField           #wMsLocationId
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL COMBOBOX
              PROPERTIES
                Name                #ERL_StockOpnameLines_ERL_JournalStatus
                DataSource          #ERL_StockOpnameLines
                DataField           #ERL_JournalStatus
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_OpnameRefrenceId
                DataSource          #ERL_StockOpnameLines
                DataField           #OpnameRefrenceId
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_ERL_OpnameTagId
                DataSource          #ERL_StockOpnameLines
                DataField           #ERL_OpnameTagId
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL DATEEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_TransDate
                DataSource          #ERL_StockOpnameLines
                DataField           #TransDate
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_Username
                DataSource          #ERL_StockOpnameLines
                DataField           #Username
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_wMSLocationIdNew
                DataSource          #ERL_StockOpnameLines
                DataField           #wMSLocationIdNew
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL CHECKBOX
              PROPERTIES
                Name                #ERL_StockOpnameLines_LocationFound
                BackgroundColor     #Window background
                DataSource          #ERL_StockOpnameLines
                DataField           #LocationFound
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_createdBy
                DataSource          #ERL_StockOpnameLines
                DataField           #createdBy
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL STRINGEDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_dataAreaId
                DataSource          #ERL_StockOpnameLines
                DataField           #dataAreaId
              ENDPROPERTIES
              
            ENDCONTROL 
            
            CONTROL INT64EDIT
              PROPERTIES
                Name                #ERL_StockOpnameLines_RecId
                DataSource          #ERL_StockOpnameLines
                DataField           #RecId
              ENDPROPERTIES
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_StockOpnameNewLoc
  PROPERTIES
    Name                #ERL_StockOpnameNewLoc
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    QueryBuildDataSource        qbds;
      #    QueryBuildRange             qbr;
      #    str                         qstr;
      #    Dimension1                  bu;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    bu = ERL_Global::getUserBU();
      #
      #    qbds = ERL_StockOpnameNewLoc_ds.query().dataSourceTable(tablenum(ERL_StockOpnameNewLoc));
      #    qstr = strfmt('((%1.SumOfAvailPhysical != %2) || (%1.PhysicalQty != %2))', ERL_StockOpnameNewLoc_ds.name(), queryValue(0));
      #
      #    qbds.addRange(fieldnum(ERL_StockOpnameNewLoc, recid)).value(qstr);
      #    qbds.addRange(fieldNum(ERL_StockOpnameNewLoc,InventSiteId)).value(bu);
      #    qbds.addSortField(fieldnum(ERL_StockOpnameNewLoc, ItemId));
      #    qbr = qbds.addRange(fieldnum(ERL_StockOpnameNewLoc, ERL_StatusOpnameTag));
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpnameNewLoc
          Table               #ERL_StockOpnameNewLoc
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #Grade
          #Display Description Grade(ERL_StockOpnameNewLoc      _inq)
          #{
          #    ;
          #    return    AGR_GradeItem::find(InventTable::find(_inq.ItemId).AGR_ItemGrade).AGR_GradeName;
          #}
        ENDSOURCE
        SOURCE #ItemName
          #Display Itemname ItemName(ERL_StockOpnameNewLoc      _inq)
          #{
          #    ;
          #    return    InventTable::find(_inq.ItemId).itemName;
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    qbr.value(sysQuery::value(StatusTag.valueStr()));
          #    super();
          #}
        ENDSOURCE
        SOURCE #InventQty
          #Display InventQty InventQty(ERL_StockOpnameNewLoc     _inq)
          #{
          #    return _inq.PhysicalQty - _inq.SumOfAvailPhysical;
          #}
        ENDSOURCE
        SOURCE #Periode
          #Display Description Periode(ERL_StockOpnameNewLoc        _inq)
          #{
          #    ;
          #   return ERL_OpnamePeriodeEvent::find(_inq.PeriodeRecId).Description;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Inquiries Stock Opname
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #TopFields
          Width               #Column width
          Height              #45
          FrameType           #None
          Columns             #Auto
        ENDPROPERTIES
        
          CONTAINER
            CONTROL COMBOBOX
              PROPERTIES
                Name                #StatusTag
                AutoDeclaration     #Yes
                Label               #Status
                EnumType            #ERL_StatusOpnameTag
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #selectionChange
                  #public int selectionChange()
                  #{
                  #    int ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpnameNewLoc_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #TabPage
              Width               #Column width
              Height              #Column height
              Caption             #Overview
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_StockOpnameNewLoc
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_InventSiteId
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #InventSiteId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_ItemId
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #ItemId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ItemName
                        Label               #Item Name
                        DataSource          #ERL_StockOpnameNewLoc
                        DataMethod          #ItemName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grade
                        Label               #Grade
                        DataSource          #ERL_StockOpnameNewLoc
                        DataMethod          #Grade
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_wMSLocationId
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #wMSLocationId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_SumOfAvailPhysical
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #SumOfAvailPhysical
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_wMSLocationIdNew
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #wMSLocationIdNew
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_PhysicalQty
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #PhysicalQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventQty
                        Label               #Invent Qty
                        DataSource          #ERL_StockOpnameNewLoc
                        DataMethod          #InventQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Periode
                        Label               #Periode
                        DataSource          #ERL_StockOpnameNewLoc
                        DataMethod          #Periode
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_OpnameRefrenceId
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #OpnameRefrenceId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameNewLoc_ERL_OpnameTagId
                        DataSource          #ERL_StockOpnameNewLoc
                        DataField           #ERL_OpnameTagId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_StockOpnameInquiries
  PROPERTIES
    Name                #ERL_StockOpnameInquiries
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    QueryBuildDataSource        qbds;
      #    QueryBuildRange             qbr;
      #    str                         qstr;
      #    Dimension1                  bu;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    ERL_WHStockOpname   wh;
      #    ;
      #    super();
      #
      #    bu = ERL_Global::getUserBU();
      #    select firstfast firstonly wh where wh.InventSiteId == bu;
      #
      #    qbds = ERL_StockOpnameInquiries_ds.query().dataSourceTable(tablenum(ERL_StockOpnameInquiries));
      #    qstr = strfmt('((%1.SumOfAvailPhysical != %2) || (%1.PhysicalQty != %2))', ERL_StockOpnameInquiries_ds.name(), queryValue(0));
      #
      #    qbds.addRange(fieldnum(ERL_StockOpnameInquiries, recid)).value(qstr);
      #    qbds.addRange(fieldNum(ERL_StockOpnameInquiries,InventSiteId)).value(bu);
      #    qbds.addRange(fieldnum(ERL_StockOpnameInquiries, ERL_MasterWHId)).value(wh.ERL_MasterWHID);
      #    qbds.addSortField(fieldnum(ERL_StockOpnameInquiries, ItemId));
      #    qbr = qbds.addRange(fieldnum(ERL_StockOpnameInquiries, ERL_StatusOpnameTag));
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpnameInquiries
          Table               #ERL_StockOpnameInquiries
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #Grade
          #Display Description Grade(ERL_StockOpnameInquiries      _inq)
          #{
          #    ;
          #    return    AGR_GradeItem::find(InventTable::find(_inq.ItemId).AGR_ItemGrade).AGR_GradeName;
          #}
        ENDSOURCE
        SOURCE #ItemName
          #Display Itemname ItemName(ERL_StockOpnameInquiries      _inq)
          #{
          #    ;
          #    return    InventTable::find(_inq.ItemId).itemName;
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    qbr.value(sysQuery::value(StatusTag.valueStr()));
          #    super();
          #}
        ENDSOURCE
        SOURCE #InventQty
          #Display InventQty InventQty(ERL_StockOpnameInquiries     _inq)
          #{
          #    return _inq.PhysicalQty - _inq.SumOfAvailPhysical;
          #}
        ENDSOURCE
        SOURCE #Periode
          #Display Description Periode(ERL_StockOpnameInquiries        _inq)
          #{
          #    ;
          #   return ERL_OpnamePeriodeEvent::find(_inq.PeriodeRecId).Description;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Inquiries Stock Opname
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #TopFields
          Width               #Column width
          Height              #45
          FrameType           #None
          Columns             #Auto
        ENDPROPERTIES
        
          CONTAINER
            CONTROL COMBOBOX
              PROPERTIES
                Name                #StatusTag
                AutoDeclaration     #Yes
                Label               #Status
                EnumType            #ERL_StatusOpnameTag
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #selectionChange
                  #public int selectionChange()
                  #{
                  #    int ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpnameInquiries_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #TabPage
              Width               #Column width
              Height              #Column height
              Caption             #Overview
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_StockOpnameInquiries
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_InventSiteId
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #InventSiteId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_ItemId
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #ItemId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ItemName
                        Label               #Item Name
                        DataSource          #ERL_StockOpnameInquiries
                        DataMethod          #ItemName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grade
                        Label               #Grade
                        DataSource          #ERL_StockOpnameInquiries
                        DataMethod          #Grade
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_wMSLocationId
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #wMSLocationId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_SumOfAvailPhysical
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #SumOfAvailPhysical
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_wMsLocationId1
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #wMsLocationId1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_PhysicalQty
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #PhysicalQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventQty
                        Label               #Invent Qty
                        DataSource          #ERL_StockOpnameInquiries
                        DataMethod          #InventQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Periode
                        Label               #Periode
                        DataSource          #ERL_StockOpnameInquiries
                        DataMethod          #Periode
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_ERL_StatusOpnameTag
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #ERL_StatusOpnameTag
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_OpnameRefrenceId
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #OpnameRefrenceId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameInquiries_ERL_OpnameTagId
                        DataSource          #ERL_StockOpnameInquiries
                        DataField           #ERL_OpnameTagId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_OnhandStockOpname
  PROPERTIES
    Name                #ERL_OnhandStockOpname
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    ERL_StockOpnameLines    lines;
      #    QueryBuildDataSource    qbds;
      #    Dimension1              bu;
      #    ERL_WHStockOpname       wh;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #
      #    super();
      #    lines = element.args().record();
      #
      #    bu = SysuserInfo::find(curuserid()).Dimension1;
      #
      #
      #    if(lines)
      #    {
      #        qbds = ERL_OnhandStockOpname_ds.query().dataSourceTable(tablenum(ERL_OnhandStockOpname));
      #        qbds.addRange(fieldnum(ERL_OnhandStockOpname, itemid)).value(sysquery::value(lines.ItemId));
      #        qbds.addRange(fieldnum(ERL_OnhandStockOpname, InventSiteid)).value(sysquery::value(bu));
      #    }
      #//    else
      #//    {
      #//        throw error(strfmt("@SYS22678", 'Onhand'));
      #//    }
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OnhandStockOpname
          Table               #ERL_OnhandStockOpname
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    this.query().dataSourceTable(tablenum(ERL_OnhandStockOpname))
          #        .addOrderByField(fieldnum(ERL_OnhandStockOpname, SumOfAvailPhysical), sortOrder::Descending);
          #}
        ENDSOURCE
        SOURCE #dCalc
          #Display InventQty dCalc(ERL_OnhandStockOpname _onhand)
          #{
          #    ;
          #    return this.dCount(_onhand) - _onhand.SumOfAvailPhysical;
          #}
        ENDSOURCE
        SOURCE #dCount
          #Display ERL_StockCounted dCount(ERL_OnhandStockOpname     _onhand)
          #{
          #    ERL_StockOpnameLines        _lines;
          #    ERL_WHStockOpname           whStockOpname;
          #    ;
          #
          #    lines = element.args().record();
          #
          #    select firstfast firstonly whStockOpname where whstockOpname.InventSiteId == _onhand.InventSiteId;
          #
          #    select * from _lines where _lines.ItemId == _onhand.ItemId && lines.ERL_MasterWHID == whStockOpname.ERL_MasterWHID
          #        && _lines.wMsLocationId == _onhand.wMSLocationId && _lines.OpnameRefrenceId == lines.OpnameRefrenceId;
          #
          #    if(_lines)
          #        return _lines.PhysicalQty;
          #    else
          #        return 0;
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Onhand Stock Opname
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Onhand
              Caption             #Onhand
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_OnhandStockOpname
                ENDPROPERTIES
                
                METHODS
                  Version: 3
                  SOURCE #dCalcQty
                    #Display Qty dCalcQty()
                    #{
                    #    ;
                    #    return  PhysicalQty.realValue() - ERL_OnhandStockOpname_SumOfAvailPhysical.realValue();
                    #}
                  ENDSOURCE
                ENDMETHODS
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OnhandStockOpname_ItemId
                        DataSource          #ERL_OnhandStockOpname
                        DataField           #ItemId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OnhandStockOpname_InventSiteId
                        DataSource          #ERL_OnhandStockOpname
                        DataField           #InventSiteId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OnhandStockOpname_wMSLocationId
                        AutoDeclaration     #Yes
                        DataSource          #ERL_OnhandStockOpname
                        DataField           #wMSLocationId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_OnhandStockOpname_SumOfAvailPhysical
                        AutoDeclaration     #Yes
                        DataSource          #ERL_OnhandStockOpname
                        DataField           #SumOfAvailPhysical
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #PhysicalQty
                        AutoDeclaration     #Yes
                        Label               #Counted Quantity
                        DataSource          #ERL_OnhandStockOpname
                        DataMethod          #dCount
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventQty
                        Label               #Invent Quantity
                        DataSource          #ERL_OnhandStockOpname
                        DataMethod          #dCalc
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_OpnameHistory
  PROPERTIES
    Name                #ERL_OpnameHistory
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    ERL_StockOpnameLines        opLines;
      #    QueryBuildDatasource        qbds, qbdsHeader;
      #    QueryBuildRange             qbrHeader;
      #    Dimension1                  bu;
      #    MultiSelectionHelper        selectionHelper;
      #
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    ERL_WHStockOpname       wh;
      #    ;
      #    super();
      #    bu = SysuserInfo::find(curuserid()).Dimension1;
      #    select firstfast firstonly wh where wh.InventSiteId == bu;
      #
      #    qbds = ERL_StockOpnameLines_ds.query().dataSourceTable(tablenum(ERL_StockOpnameLines));
      #    qbds.addRange(fieldnum(ERL_StockOpnameLines, ERL_MasterWHId)).value(sysquery::value(wh.ERL_MasterWHID));
      #    //qbds.addOrderByField(fieldnum(ERL_StockOpnameLines, ItemId), sortOrder::Ascending);
      #    qbds.addOrderByField(fieldnum(ERL_StockOpnameLines, Transdate), sortOrder::Descending);
      #
      #    qbdsHeader = ERL_StockOpname_ds.query().dataSourceTable(tablenum(ERL_StockOpname));
      #    qbrHeader = qbdsHeader.addRange(fieldnum(ERL_StockOpname, ERL_StatusOpnameTag));
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpnameLines
          Table               #ERL_StockOpnameLines
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #OpnamePeriode
          #Display description OpnamePeriode(ERL_StockOpnameLines     _lines)
          #{
          #    ERL_StockOpname     header;
          #    ;
          #
          #    select firstfast firstonly header where header.OpnameRefrenceId == _lines.OpnameRefrenceId;
          #
          #    return header.Periode();
          #
          #}
        ENDSOURCE
        SOURCE #dCalcQty
          #Display Qty dCalcQty(ERL_StockOpnameLines   _lines)
          #{
          #    ERL_OnhandStockOpname   onhand;
          #    ERL_WHStockOpname       wh;
          #    select inventsiteid from wh where wh.ERL_MasterWHID == _lines.ERL_MasterWHID;
          #    select firstfast onhand where onhand.ItemId == _lines.ItemId
          #        && _lines.wMsLocationId == onhand.wMSLocationId && onhand.InventSiteId == wh.InventSiteId;
          #    return _lines.PhysicalQty - onhand.SumOfAvailPhysical;
          #}
        ENDSOURCE
        SOURCE #InventSiteId
          #Display InventSiteId InventSiteId(ERL_StockOpnameLines      _lines)
          #{
          #    ERL_WHStockOpname       tableWH;
          #    ;
          #    select firstfast tableWH where tableWH.ERL_MasterWHID == _lines.ERL_MasterWHID;
          #    return tableWH.InventSiteId;
          #}
        ENDSOURCE
        SOURCE #ItemName
          #Display ItemName ItemName(ERL_StockOpnameLines  _lines)
          #{
          #    ;
          #    return InventTable::find(_lines.ItemId, false).itemName;
          #
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #     qbrHeader.value(sysQuery::value(StatusTag.valueStr()));
          #     super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpname
          Table               #ERL_StockOpname
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #ERL_StockOpnameLines
          LinkType            #InnerJoin
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    qbrHeader.value(sysQuery::value(StatusTag.valueStr()));
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    ERL_StockOpname ERL_StockOpnameLines
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Android Opname History
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #TopFields
          Width               #Column width
          Height              #45
          FrameType           #None
          Columns             #Auto
        ENDPROPERTIES
        
          CONTAINER
            CONTROL CHECKBOX
              PROPERTIES
                Name                #LocationCheckBox
                AutoDeclaration     #Yes
                Visible             #No
                Label               #New Location
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #modified
                  #public boolean modified()
                  #{
                  #    boolean ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpnameLines_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
            CONTROL COMBOBOX
              PROPERTIES
                Name                #StatusTag
                AutoDeclaration     #Yes
                Label               #Status
                EnumType            #ERL_StatusOpnameTag
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #selectionChange
                  #public int selectionChange()
                  #{
                  #    int ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpnameLines_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          Tabs                #1
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overview
              Caption             #@SYS9039
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  AllowEdit           #No
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_StockOpnameLines
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventSiteId
                        DataSource          #ERL_StockOpnameLines
                        DataMethod          #InventSiteId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ItemId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ItemId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ItemName
                        Label               #Item Name
                        DataSource          #ERL_StockOpnameLines
                        DataMethod          #ItemName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_wMsLocationId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #wMsLocationId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_wMSLocationIdNew
                        DataSource          #ERL_StockOpnameLines
                        DataField           #wMSLocationIdNew
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_LocationFound
                        Visible             #No
                        BackgroundColor     #Window background
                        DataSource          #ERL_StockOpnameLines
                        DataField           #LocationFound
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #Onhand
                        Label               #Onhand
                        DataSource          #ERL_StockOpnameLines
                        DataMethod          #OnHand
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_PhysicalQty
                        Label               #Counted Quantity
                        DataSource          #ERL_StockOpnameLines
                        DataField           #PhysicalQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventQty
                        Label               #Invent Quantity
                        DataSource          #ERL_StockOpnameLines
                        DataMethod          #dCalcQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ERL_JournalStatus
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ERL_JournalStatus
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ERL_OpnameTagId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ERL_OpnameTagId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_TransDate
                        DataSource          #ERL_StockOpnameLines
                        DataField           #TransDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_createdBy
                        DataSource          #ERL_StockOpnameLines
                        DataField           #createdBy
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Periode
                        Label               #Periode
                        DataSource          #ERL_StockOpname
                        DataMethod          #Periode
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #ERL_StockOpname_ERL_StatusOpnameTag
                        DataSource          #ERL_StockOpname
                        DataField           #ERL_StatusOpnameTag
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
        ENDPROPERTIES
        
        CONTAINER
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #InventOnhand
              Text                #Onhand
              MenuItemName        #ERL_OnhandStockOpname
              DataSource          #ERL_StockOpnameLines
            ENDPROPERTIES
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_OpnameSetting
  PROPERTIES
    Name                #ERL_OpnameSetting
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    QueryBuildDataSource        qbdsStatus, qbdsDim, qbdsPeriode, qbdsGrade;
      #    QueryBuildRange             qbr;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    Dimension1                  bu = SysUserInfo::find(curuserid()).Dimension1;
      #    ERL_OpnamePeriodeEvent      periode;
      #    ;
      #    super();
      #    qbdsStatus = ERL_OpnameStatus_ds.query().dataSourceTable(tablenum(erl_opnameStatus));
      #    qbdsStatus.addRange(fieldnum(erl_opnameStatus, Dimension1)).value(bu);
      #
      #
      #    qbdsDim = ERL_OpnameCostCenter_ds.query().dataSourceTable(tablenum(erl_OpnameCostCenter));
      #    qbdsDim.addRange(fieldnum(erl_opnamecostcenter, dimension1)).value(bu);
      #
      #    qbdsPeriode = ERL_OpnamePeriodeEvent_ds.query().dataSourceTable(tablenum(ERL_OpnamePeriodeEvent));
      #    qbdsPeriode.addRange(fieldId2ext(fieldnum(ERL_OpnamePeriodeEvent, Dimension),1)).value(bu);
      #
      #    GradeWHTab.visible(bu == '51');
      #
      #    update_recordset periode setting PeriodeEventStatus = ERL_OpnamePeriodeEventStatus::Close
      #        where periode.ToDate < today() && periode.Dimension[1] == bu;
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnameStatus
          Table               #ERL_OpnameStatus
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnameCostCenter
          Table               #ERL_OpnameCostCenter
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnamePeriodeEvent
          Table               #ERL_OpnamePeriodeEvent
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_GradeStockOpname
          Table               #ERL_GradeStockOpname
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Stock Opname Setting
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #JournalStatus
              Caption             #Toleransi Selisih
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_OpnameStatus
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnameStatus_ItemCategoryId
                        DataSource          #ERL_OpnameStatus
                        DataField           #ItemCategoryId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnameStatus_Dimension1
                        AllowEdit           #No
                        DataSource          #ERL_OpnameStatus
                        DataField           #Dimension1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_OpnameStatus_Material
                        Label               #Toleransi Selisih Material
                        DataSource          #ERL_OpnameStatus
                        DataField           #Material
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_OpnameStatus_NonMaterial
                        Visible             #No
                        DataSource          #ERL_OpnameStatus
                        DataField           #NonMaterial
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #CostCenter
              Caption             #Cost Center
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Dimension
                  Caption             #Dimensions
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnameCostCenter_Dimension1
                        AllowEdit           #No
                        DataSource          #ERL_OpnameCostCenter
                        DataField           #Dimension1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnameCostCenter_Dimension2
                        DataSource          #ERL_OpnameCostCenter
                        DataField           #Dimension2
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #lookup
                          #public void lookup()
                          #{
                          #    SysTableLookup          stl;
                          #    queryBuildDatasource    qbds;
                          #    queryBuildRange         qbrCC;
                          #    query                   query = new Query();
                          #
                          #    qbds = query.addDataSource(tablenum(Dimensions));
                          #    //qbds.addRange(fieldnum(
                          #    super();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #TabPageSetMaxOpnameLine
              Caption             #Opname Lines
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Group
                  Caption             #Setting Max Opname Lines
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnameCostCenter_Dimension11
                        AllowEdit           #No
                        DataSource          #ERL_OpnameCostCenter
                        DataField           #Dimension1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #ERL_OpnameCostCenter_MaxOpnameLines
                        DataSource          #ERL_OpnameCostCenter
                        DataField           #MaxOpnameLines
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #Periode
              Caption             #Periode
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #GridPeriode
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_OpnamePeriodeEvent
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnamePeriodeEvent_Description
                        DataSource          #ERL_OpnamePeriodeEvent
                        DataField           #Description
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #ERL_OpnamePeriodeEvent_FromDate
                        DataSource          #ERL_OpnamePeriodeEvent
                        DataField           #FromDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #ERL_OpnamePeriodeEvent_ToDate
                        DataSource          #ERL_OpnamePeriodeEvent
                        DataField           #ToDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_OpnamePeriodeEvent_Dimension[1]
                        AllowEdit           #No
                        DataSource          #ERL_OpnamePeriodeEvent
                        DataField           #Dimension[1]
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #PeriodeStatus
                        AutoDeclaration     #Yes
                        Label               #Status
                        DataSource          #ERL_OpnamePeriodeEvent
                        DataField           #PeriodeEventStatus
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #ERL_OpnamePeriodeEvent_Sampling
                        BackgroundColor     #Window background
                        DataSource          #ERL_OpnamePeriodeEvent
                        DataField           #Sampling
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #GradeWHTab
              AutoDeclaration     #Yes
              Caption             #Grade Warehouse
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid1
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_GradeStockOpname
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_GradeStockOpname_InventSiteId
                        DataSource          #ERL_GradeStockOpname
                        DataField           #InventSiteId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_GradeStockOpname_InventLocationId
                        DataSource          #ERL_GradeStockOpname
                        DataField           #InventLocationId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_GradeStockOpname_AGR_ItemGrade
                        DataSource          #ERL_GradeStockOpname
                        DataField           #AGR_ItemGrade
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Itemname
                        DataSource          #ERL_GradeStockOpname
                        DataMethod          #itemname
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_StockOpname
  PROPERTIES
    Name                #ERL_StockOpname
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    QueryBuildDataSource    qbds;
      #    QueryBuildRange         qbrStatus;
      #
      #    ERL_StockOpname         sop;
      #    ERL_stockOpnamelines    lines;
      #    InventTable             it;
      #    SysUserInfo             SysUserInfo;
      #    Dimension1              bu;
      #
      #    TmpReference            tmpReference;
      #}
    ENDSOURCE
    SOURCE #toProgress
      #void toProgress()
      #{
      #    int                 maxLines;
      #    ERL_OpnameTagNum    maxTag;
      #    ;
      #    if(box::okCancel(strfmt("Proses kembali nomor %1 ?",ERL_StockOpname.OpnameRefrenceId),dialogbutton::Cancel, "Proses Kembali") == dialogButton::Ok)
      #    {
      #        maxLines = ERL_OpnameCostCenter::find(ERL_StockOpname.InventSiteId).MaxOpnameLines;
      #        maxTag = maxLines + ERL_StockOpname.TagNumberStart - 1;
      #        ttsbegin;
      #        ERL_StockOpname.ERL_StatusOpnameTag = ERL_StatusOpnameTag::OnProgress;
      #        ERL_StockOpname.TagNumberEnd = maxTag;
      #        ERL_StockOpname.update();
      #        ttscommit;
      #
      #        ERL_StockOpname_ds.reread();
      #        ERL_StockOpname_ds.research(true);
      #    }
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #public static void doRefresh()
      #{
      #    ERL_StockOpname_ds.reread();
      #    ERL_StockOpname_ds.research(true);
      #
      #    ERL_StockOpnameLines_ds.reread();
      #    ERL_StockOpnameLines_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    qbds = ERL_StockOpname_ds.query().dataSourceTable(tablenum(erl_stockopname));
      #    qbrStatus   = qbds.addRange(fieldnum(erl_stockopname, erl_statusOpnameTag));
      #
      #    //qbdsLines = ERL_StockOpnameLines_ds.query().dataSourceTable(tablenum(erl_stockOpnameLines));
      #
      #    bu = SysUserInfo::find(curuserid()).Dimension1;
      #    qbds.addRange(fieldId2Ext(fieldnum(erl_stockopname, dimension), 1)).value(bu);
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpname
          Table               #ERL_StockOpname
          AllowCreate         #No
          AllowDelete         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    ERL_TransferButton.enabled(erl_stockopname.ERL_StatusOpnameTag == erl_statusopnametag::Open
          #        && ERL_TransferStockOpname::cekLines(erl_stockopname.OpnameRefrenceId));
          #    rejectButton.enabled(erl_stockopname.ERL_StatusOpnameTag == erl_statusopnametag::Open);
          #    progressButton.enabled(ERL_StockOpname.ERL_StatusOpnameTag == ERL_StatusOpnameTag::Open);
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    ERL_StatusOpnameTag     status;
          #    ;
          #
          #    status = cbotrf.selection();
          #    qbrStatus.value(sysquery::value(status));
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpnameLines
          Table               #ERL_StockOpnameLines
          AllowCreate         #No
          JoinSource          #ERL_StockOpname
          LinkType            #Active
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #ItemName
          #Display ItemName ItemName(ERL_StockOpnameLines  _lines)
          #{
          #    ;
          #    return InventTable::find(_lines.ItemId).ItemName;
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    super();
          #    //qbdsLines.addRange(fieldnum(ERL_StockOpnameLines, LocationFound)).value(sysquery::value(!LocationCheckBox.value()));
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    boolean   status = erl_stockopnamelines.ERL_JournalStatus == erl_journalstatus::None;
          #    int ret;
          #
          #    ret = super();
          #    ERL_StockOpnameLines_wMSLocationId.allowEdit(status);
          #    ERL_StockOpnameLines_itemId.allowEdit(status);
          #    ERL_StockOpnameLines_PhysicalQty.allowEdit(status);
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    ERL_StockOpnameLines ERL_StockOpname
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Stock Opname
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #TopFields
          Width               #Column width
          Height              #50
          Caption             #Option
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
          CONTAINER
            CONTROL COMBOBOX
              PROPERTIES
                Name                #cboTrf
                AutoDeclaration     #Yes
                LabelBold           #Bold
                EnumType            #ERL_StatusOpnameTag
                ComboType           #List
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #selectionChange
                  #public int selectionChange()
                  #{
                  #    int ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpname_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
            CONTROL CHECKBOX
              PROPERTIES
                Name                #LocationCheckBox
                AutoDeclaration     #Yes
                Visible             #No
                Label               #New Location
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #modified
                  #public boolean modified()
                  #{
                  #    boolean ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpnameLines_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeader
          AllowEdit           #No
          Width               #Column width
          Height              #Column height
          FrameType           #None
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #Tab
                Width               #Column width
                Height              #Column height
                DataSource          #ERL_StockOpname
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #Overview
                    Width               #Column width
                    Height              #Column height
                    Caption             #Overview
                    HideIfEmpty         #No
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #Grid1
                        AllowEdit           #No
                        Width               #Column width
                        Height              #Column height
                        DataSource          #ERL_StockOpname
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #OpnameRefrenceId
                              DataSource          #ERL_StockOpname
                              DataField           #OpnameRefrenceId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #Grid1_ERL_StatusOpnameTag
                              DataSource          #ERL_StockOpname
                              DataField           #ERL_StatusOpnameTag
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpname_InventSiteId
                              DataSource          #ERL_StockOpname
                              DataField           #InventSiteId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL UTCDATETIMEEDIT
                            PROPERTIES
                              Name                #ERL_StockOpname_createdDateTime
                              DataSource          #ERL_StockOpname
                              DataField           #createdDateTime
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpname_createdBy
                              DataSource          #ERL_StockOpname
                              DataField           #createdBy
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Groupname
                              Label               #Group
                              DataSource          #ERL_StockOpname
                              DataMethod          #Groupdesc
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Periode
                              Label               #Periode
                              DataSource          #ERL_StockOpname
                              DataMethod          #Periode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL INTEDIT
                            PROPERTIES
                              Name                #ERL_StockOpname_TagNumberStart
                              Label               #Tag Start
                              DataSource          #ERL_StockOpname
                              DataField           #TagNumberStart
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL INTEDIT
                            PROPERTIES
                              Name                #ERL_StockOpname_TagNumberEnd
                              Label               #Tag End
                              DataSource          #ERL_StockOpname
                              DataField           #TagNumberEnd
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
            CONTROL BUTTONGROUP
              PROPERTIES
                Name                #ButtonGroup
              ENDPROPERTIES
              
              CONTAINER
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #ERL_TransferButton
                    AutoDeclaration     #Yes
                    Enabled             #No
                    MenuItemType        #Action
                    MenuItemName        #ERL_TransferStockOpname
                    DataSource          #ERL_StockOpname
                  ENDPROPERTIES
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #MenuButton
                    Text                #Functions
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #RejectButton
                        AutoDeclaration     #Yes
                        Enabled             #No
                        Text                #Reject
                        MenuItemType        #Action
                        MenuItemName        #erl_cancelStockOpname
                        DataSource          #ERL_StockOpname
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #ProgressButton
                        AutoDeclaration     #Yes
                        Text                #Proses kembali
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    element.toProgress();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLines
          Width               #Column width
          Height              #Column height
          FrameType           #None
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #Lines
                Width               #Column width
                Height              #Column height
                DataSource          #ERL_StockOpnameLines
                HideIfEmpty         #No
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #LinesOverview
                    Width               #Column width
                    Height              #Column height
                    Caption             #Overview
                    HideIfEmpty         #No
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #Grid
                        Width               #Column width
                        Height              #Column height
                        DataSource          #ERL_StockOpnameLines
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_TransDate
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #TransDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_ItemId
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #ItemId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ItemName
                              DataSource          #ERL_StockOpnameLines
                              DataMethod          #ItemName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_ERL_MasterWHID
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #ERL_MasterWHID
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_wMSLocationId
                              AutoDeclaration     #Yes
                              DataSource          #ERL_StockOpnameLines
                              DataField           #wMsLocationId
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #lookup
                                #public void lookup()
                                #{
                                #    //super();
                                #}
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_wMSLocationIdNew
                              DataSource          #ERL_StockOpnameLines
                              DataField           #wMSLocationIdNew
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_LocationFound
                              Visible             #No
                              BackgroundColor     #Window background
                              DataSource          #ERL_StockOpnameLines
                              DataField           #LocationFound
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_PhysicalQty
                              AutoDeclaration     #Yes
                              Label               #Counted Quantity
                              DataSource          #ERL_StockOpnameLines
                              DataField           #PhysicalQty
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_Onhand
                              AllowEdit           #No
                              Label               #On-hand
                              DataSource          #ERL_StockOpnameLines
                              DataMethod          #onhand
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_ERL_JournalType
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #ERL_JournalStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_AdminId
                              Visible             #No
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #AdminId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_createdBy
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #createdBy
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_StockOpnameLines_ERL_OpnameTagId
                              AllowEdit           #No
                              DataSource          #ERL_StockOpnameLines
                              DataField           #ERL_OpnameTagId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_OpnameUserAndroid
  PROPERTIES
    Name                #ERL_OpnameUserAndroid
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnameUserAndroid
          Table               #ERL_OpnameUserAndroid
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    Dimension1  bu;
          #    super();
          #    bu = ERL_Global::getUserBU();
          #
          #    //if(bu != "50")
          #        this.query().dataSourceTable(tableNum("ERL_OpnameUserAndroid")).addRange(fieldNum(ERL_OpnameUserAndroid,Dimension1)).value(bu);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Opname User Login Android
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          Width               #Column width
          Height              #Column height
          Caption             #User Login Android List
        ENDPROPERTIES
        
          CONTAINER
            CONTROL GRID
              PROPERTIES
                Name                #Grid
                DataSource          #ERL_OpnameUserAndroid
              ENDPROPERTIES
              
                CONTAINER
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnameUserAndroid_EmplId
                      DataSource          #ERL_OpnameUserAndroid
                      DataField           #EmplId
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnameUserAndroid_Username
                      DataSource          #ERL_OpnameUserAndroid
                      DataField           #Username
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnameUserAndroid_Password
                      DataSource          #ERL_OpnameUserAndroid
                      DataField           #Password
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnameUserAndroid_Name
                      AllowEdit           #No
                      DataSource          #ERL_OpnameUserAndroid
                      DataField           #Name
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnameUserAndroid_Dimension1
                      AllowEdit           #No
                      DataSource          #ERL_OpnameUserAndroid
                      DataField           #Dimension1
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                ENDCONTAINER
                
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_OpnamePeriodeEvent
  PROPERTIES
    Name                #ERL_OpnamePeriodeEvent
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    querybuildDataSource    qbds;
      #    queryBuildRange         qbrStatus;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    qbds = ERL_OpnamePeriodeEvent_ds.query().dataSourceTable(tablenum(ERL_OpnamePeriodeEvent));
      #    qbrStatus = qbds.addRange(fieldnum(ERL_OpnamePeriodeEvent, PeriodeEventStatus));
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnamePeriodeEvent
          Table               #ERL_OpnamePeriodeEvent
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    Dimension1  bu;
          #    super();
          #    bu = ERL_Global::getUserBU();
          #
          #    if(bu != "50")
          #        this.query().dataSourceTable(tableNum("ERL_OpnamePeriodeEvent")).addRange(fieldNum(ERL_OpnamePeriodeEvent,Dimension)).value(bu);
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    qbrStatus.value( sysquery::value(PeriodeStatus.selection()));
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Opname Periode Event
    ENDPROPERTIES
    
    CONTAINER
      CONTROL COMBOBOX
        PROPERTIES
          Name                #PeriodeStatus
          AutoDeclaration     #Yes
          Label               #Filter Status
          EnumType            #ERL_OpnamePeriodeEventStatus
        ENDPROPERTIES
        
        METHODS
          Version: 3
          SOURCE #selectionChange
            #public int selectionChange()
            #{
            #    int ret;
            #
            #    ret = super();
            #
            #    ERL_OpnamePeriodeEvent_ds.executeQuery();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          Width               #Column width
          Height              #Column height
          Caption             #Periode Event List
        ENDPROPERTIES
        
          CONTAINER
            CONTROL GRID
              PROPERTIES
                Name                #Grid
                DataSource          #ERL_OpnamePeriodeEvent
              ENDPROPERTIES
              
                CONTAINER
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnamePeriodeEvent_Description
                      DataSource          #ERL_OpnamePeriodeEvent
                      DataField           #Description
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL DATEEDIT
                    PROPERTIES
                      Name                #ERL_OpnamePeriodeEvent_FromDate
                      DataSource          #ERL_OpnamePeriodeEvent
                      DataField           #FromDate
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL DATEEDIT
                    PROPERTIES
                      Name                #ERL_OpnamePeriodeEvent_ToDate
                      DataSource          #ERL_OpnamePeriodeEvent
                      DataField           #ToDate
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL STRINGEDIT
                    PROPERTIES
                      Name                #ERL_OpnamePeriodeEvent_Dimension[1]
                      DataSource          #ERL_OpnamePeriodeEvent
                      DataField           #Dimension[1]
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                  CONTROL COMBOBOX
                    PROPERTIES
                      Name                #ERL_OpnamePeriodeEvent_PeriodeEventStatus
                      DataSource          #ERL_OpnamePeriodeEvent
                      DataField           #PeriodeEventStatus
                    ENDPROPERTIES
                    
                  ENDCONTROL 
                  
                ENDCONTAINER
                
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_OpnameUserGroup
  PROPERTIES
    Name                #ERL_OpnameUserGroup
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      # Dimension1 bu;
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnameUserGroupMap
          Table               #ERL_OpnameUserGroupMap
          JoinSource          #ERL_OpnameUserGroup
          LinkType            #Active
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #    ERL_OpnameUserAndroid   user;
          #    ERL_OpnameUserGroup     groupT;
          #    ERL_OpnameUserGroupMap  groupMap;
          #    ERL_OpnamePeriodeEvent  event;
          #
          #
          #    select username from user
          #    join description from groupT
          #    join groupMap
          #    join description from event
          #    where
          #        user.Username == ERL_OpnameUserGroupMap.Username &&
          #        user.Username == groupMap.Username &&
          #        groupMap.GroupRecId == groupT.RecId &&
          #        groupT.PeriodeRecId == event.RecId &&
          #        (event.FromDate <= today() && event.ToDate >= today());
          #
          #    if( user.Username){
          #       ret = false;
          #       throw error(strfmt('User %1 sudah terdaftar pada event %2, dalam group %3', user.Username, event.Description, groupT.Description));
          #    }
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnameUserGroup
          Table               #ERL_OpnameUserGroup
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    ERL_StockOpname ERL_StockOpname;
          #    boolean ret;
          #
          #    ret = super();
          #
          #    select firstonly firstfast groupRecId from ERL_StockOpname
          #    index hint GroupIdx
          #    where ERL_StockOpname.GroupRecId == ERL_OpnameUserGroup.RecId;
          #
          #    if(ERL_StockOpname.GroupRecId){
          #        ret = checkfailed(strfmt('Group ini tidak boleh dihapus karna sudah melakukan stock sampling!'));
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    Args        args;
          #    FormRun     formRun;
          #    boolean     ret;
          #    ERL_OpnameCostCenter ERL_OpnameCostCenter;
          #
          #    ret = super();
          #
          #    if(ERL_OpnameUserGroup.Dimension[2] == ""){
          #        select firstonly firstfast dimension2 from ERL_OpnameCostCenter where ERL_OpnameCostCenter.dimension1 == bu;
          #        if(!ERL_OpnameCostCenter){
          #            ret = checkfailed(strfmt('Harap config cost center terlebih dahulu!'));
          #            args = new args();
          #            args.name(formStr(ERL_OpnameSetting));
          #            formRun=new FormRun(args);
          #            formRun.run();
          #            formRun.wait();
          #        }else{
          #            ERL_OpnameUserGroup.Dimension[2] = ERL_OpnameCostCenter.Dimension2;
          #        }
          #
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    bu = ERL_Global::getUserBU();
          #
          #    if(bu != "50")
          #        this.query().dataSourceTable(tableNum("ERL_OpnameUserGroup")).addRange(fieldNum(ERL_OpnameUserGroup,Dimension)).value(bu);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    ERL_OpnameUserGroupMap ERL_OpnameUserGroup
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #Opname Group Setting
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #group
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #Tab
                Width               #Column width
                Height              #Column height
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #UserGroup
                    Width               #Column width
                    Height              #Column height
                    Caption             #Group Setting
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #TopGroup
                        Width               #Column width
                        Height              #Column height
                        Caption             #Group List
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GROUP
                            PROPERTIES
                              Name                #Group1
                              Width               #Column width
                              Height              #Column height
                            ENDPROPERTIES
                            
                              CONTAINER
                                CONTROL GRID
                                  PROPERTIES
                                    Name                #userGrouplist
                                    Width               #Column width
                                    Height              #Column height
                                    DataSource          #ERL_OpnameUserGroup
                                  ENDPROPERTIES
                                  
                                    CONTAINER
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroup_Description
                                          DataSource          #ERL_OpnameUserGroup
                                          DataField           #Description
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroup_InventSiteId
                                          DataSource          #ERL_OpnameUserGroup
                                          DataField           #InventSiteId
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroup_MasterWHID
                                          DataSource          #ERL_OpnameUserGroup
                                          DataField           #MasterWHID
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL INT64EDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroup_PeriodeRecId
                                          DataSource          #ERL_OpnameUserGroup
                                          DataField           #PeriodeRecId
                                        ENDPROPERTIES
                                        
                                        METHODS
                                          Version: 3
                                          SOURCE #lookup
                                            #public void lookup()
                                            #{
                                            #
                                            #    Query                   q = new query();
                                            #    QueryBuildDataSource    qbds;
                                            #    SysTableLookup          stl;
                                            #
                                            #    stl = SysTableLookup::newParameters(tablenum(ERL_OpnamePeriodeEvent),this);
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,recid));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,Description));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,FromDate));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,ToDate));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,Dimension));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,PeriodeEventStatus));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnamePeriodeEvent,Sampling));
                                            #
                                            #    qbds = q.addDataSource(tablenum(ERL_OpnamePeriodeEvent));
                                            #    qbds.addRange(fieldnum(ERL_OpnamePeriodeEvent,Dimension)).value(sysquery::value(bu));
                                            #    qbds.addRange(fieldnum(ERL_OpnamePeriodeEvent,PeriodeEventStatus)).value(sysquery::value(ERL_OpnamePeriodeEventStatus::Open));
                                            #
                                            #    stl.parmQuery(q);
                                            #    stl.performFormLookup();
                                            #}
                                          ENDSOURCE
                                        ENDMETHODS
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #PeriodeDesc
                                          AllowEdit           #No
                                          Label               #Periode Desc
                                          DataSource          #ERL_OpnameUserGroup
                                          DataMethod          #PeriodeDesc
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL DATEEDIT
                                        PROPERTIES
                                          Name                #PeriodeFromDate
                                          AllowEdit           #No
                                          Label               #From Date
                                          DataSource          #ERL_OpnameUserGroup
                                          DataMethod          #PeriodeFromDate
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL DATEEDIT
                                        PROPERTIES
                                          Name                #PeriodeToDate
                                          AllowEdit           #No
                                          Label               #To Date
                                          DataSource          #ERL_OpnameUserGroup
                                          DataMethod          #PeriodeToDate
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroup_Dimension[1]
                                          DataSource          #ERL_OpnameUserGroup
                                          DataField           #Dimension[1]
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroup_Dimension[2]
                                          DataSource          #ERL_OpnameUserGroup
                                          DataField           #Dimension[2]
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                    ENDCONTAINER
                                    
                                ENDCONTROL 
                                
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL BUTTONGROUP
                            PROPERTIES
                              Name                #ButtonGroup1
                            ENDPROPERTIES
                            
                            CONTAINER
                              CONTROL BUTTON
                                PROPERTIES
                                  Name                #NewPeriodeEvent
                                  Visible             #No
                                  Text                #New Periode Event
                                ENDPROPERTIES
                                
                                METHODS
                                  Version: 3
                                  SOURCE #clicked
                                    #void clicked()
                                    #{
                                    #    Args        args;
                                    #    FormRun     formRun;
                                    #    ;
                                    #
                                    #    args = new args();
                                    #    args.name(formStr(ERL_OpnamePeriodeEvent));
                                    #
                                    #    formRun=new FormRun(args);
                                    #    formRun.run();
                                    #    formRun.wait();
                                    #}
                                  ENDSOURCE
                                ENDMETHODS
                              ENDCONTROL 
                              
                              CONTROL BUTTON
                                PROPERTIES
                                  Name                #NewUser
                                  Text                #Add New User
                                ENDPROPERTIES
                                
                                METHODS
                                  Version: 3
                                  SOURCE #clicked
                                    #void clicked()
                                    #{
                                    #    Args        args;
                                    #    FormRun     formRun;
                                    #    ;
                                    #
                                    #    args = new args();
                                    #    args.name(formStr(ERL_OpnameUserAndroid));
                                    #
                                    #    formRun=new FormRun(args);
                                    #    formRun.run();
                                    #    formRun.wait();
                                    #}
                                  ENDSOURCE
                                ENDMETHODS
                              ENDCONTROL 
                              
                              CONTROL BUTTON
                                PROPERTIES
                                  Name                #OpnameSetting
                                  Visible             #No
                                  Text                #Opname Setting
                                ENDPROPERTIES
                                
                                METHODS
                                  Version: 3
                                  SOURCE #clicked
                                    #void clicked()
                                    #{
                                    #    Args        args;
                                    #    FormRun     formRun;
                                    #    ;
                                    #
                                    #    args = new args();
                                    #    args.name(formStr(ERL_OpnameSetting));
                                    #
                                    #    formRun=new FormRun(args);
                                    #    formRun.run();
                                    #    formRun.wait();
                                    #}
                                  ENDSOURCE
                                ENDMETHODS
                              ENDCONTROL 
                              
                            ENDCONTAINER
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #BottomGroup
                        Width               #Column width
                        Height              #Column height
                        Caption             #Group Line
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GROUP
                            PROPERTIES
                              Name                #gridLineGroup
                              Width               #Column width
                              Height              #Column height
                            ENDPROPERTIES
                            
                              CONTAINER
                                CONTROL GRID
                                  PROPERTIES
                                    Name                #GroupLine
                                    Width               #Column width
                                    Height              #Column height
                                    DataSource          #ERL_OpnameUserGroupMap
                                  ENDPROPERTIES
                                  
                                    CONTAINER
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #ERL_OpnameUserGroupMap_Username
                                          DataSource          #ERL_OpnameUserGroupMap
                                          DataField           #Username
                                        ENDPROPERTIES
                                        
                                        METHODS
                                          Version: 3
                                          SOURCE #lookup
                                            #public void lookup()
                                            #{
                                            #
                                            #    Query                   q = new query();
                                            #    QueryBuildDataSource    qbds;
                                            #    SysTableLookup          stl;
                                            #
                                            #    stl = SysTableLookup::newParameters(tablenum(ERL_OpnameUserAndroid),this);
                                            #    stl.addLookupfield(fieldnum(ERL_OpnameUserAndroid,Username));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnameUserAndroid,Password));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnameUserAndroid,Name));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnameUserAndroid,Dimension1));
                                            #    stl.addLookupfield(fieldnum(ERL_OpnameUserAndroid,EmplId));
                                            #
                                            #
                                            #    qbds = q.addDataSource(tablenum(ERL_OpnameUserAndroid));
                                            #    qbds.addRange(fieldnum(ERL_OpnameUserAndroid,Dimension1)).value(sysquery::value(bu));
                                            #
                                            #    stl.parmQuery(q);
                                            #    stl.performFormLookup();
                                            #}
                                          ENDSOURCE
                                        ENDMETHODS
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #Name
                                          AllowEdit           #No
                                          DataSource          #ERL_OpnameUserGroupMap
                                          DataMethod          #Name
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #emplid
                                          AllowEdit           #No
                                          DataSource          #ERL_OpnameUserGroupMap
                                          DataMethod          #emplid
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                      CONTROL STRINGEDIT
                                        PROPERTIES
                                          Name                #Dim
                                          AllowEdit           #No
                                          DataSource          #ERL_OpnameUserGroupMap
                                          DataMethod          #Dim
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                    ENDCONTAINER
                                    
                                ENDCONTROL 
                                
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #erl_journalOP
  PROPERTIES
    Name                #erl_journalOP
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #ClassDeclaration
      #class FormRun extends ObjectRun
      #{
      #    InventJournalFormTable  journalFormTable;
      #    boolean                 inventDimParmAllowCreate;
      #    boolean                 inCreate;
      #    boolean                 inDelete;
      #}
    ENDSOURCE
    SOURCE #countItemNum
      #void countItemNum()
      #{
      #    InventJournalTrans  inventJournalTrans,transcount;
      #    int                 summ;
      #    ;
      #    while select itemid from inventjournaltrans
      #        group by itemid where
      #        inventjournaltrans.JournalId == inventjournaltable.JournalId
      #    {
      #        summ++;
      #    }
      #
      #    inventjournaltable_ds.object(fieldnum(inventjournaltable,ERL_ItemNum)).setValue(queryvalue(summ));
      #}
    ENDSOURCE
    SOURCE #AGR_ValidateLines
      #//Add by NAG 06/11/09 (Agreeya)
      #void AGR_ValidateLines()
      #{
      #    InventJournalTrans      AGR_InventJourTrans;
      #    str                     errstr;
      #    ;
      #    if(InventJournalTable.AGR_SummaryDONum != '')
      #    {
      #        while select AGR_InventJourTrans
      #            index hint LineIdx
      #            where AGR_InventJourTrans.JournalId == InventJournalTable.JournalId
      #        {
      #            if(AGR_InventJourTrans.QtyUnit > AGR_InventJourTrans.AGR_DoQty)
      #                errstr+= strfmt('Journal line %1 Quantity exceeds the DO quantity', AGR_InventJourTrans.LineNum);
      #
      #            // add by nat - AGR_OTC_DOPickTransfer_Rev
      #            // for validation To Location
      #            if(!InventJournalTable.checkSameToLocation(InventJournalTable.AGR_SummaryDONum, InventJournalTable.JournalId))
      #                errstr += strfmt('Journal can not be posted');
      #        }
      #    }
      #    if(errstr)
      #        throw error(errstr);
      #}
      #
    ENDSOURCE
    SOURCE #AGR_UnReserve
      #//Created By NAG 09/10/2009 (Agreeya) AGR_CreateTransferJournal
      #/*
      #void AGR_UnReserve()
      #{
      #    InventUpd_Reservation reservation;
      #
      #    InventMovement          movement;
      #    SalesLine               SalesLine;
      #    InventTrans             InventTrans;
      #    InventJournalTable      JourTable;
      #    InventJournalTrans      JourTrans, JournalTransLoc;
      #    Qty                     QtyOrdered;
      #    InventDimParm           inventDimParmFixed;
      #    ;
      #    while select JourTrans where JourTrans.JournalId == InventJournalTable.JournalId
      #    {
      #        SalesLine   = SalesLine::findInventTransId(JourTrans.AGR_InventTransId);
      #
      #        if ( SalesLine.RecId ) {
      #            select InventTrans where InventTrans.TransRefId == SalesLine.SalesId &&
      #                     InventTrans.TransType      == InventTransTYpe::Sales &&
      #                     InventTrans.StatusIssue    == StatusIssue::ReservPhysical;
      #
      #            inventDimParmFixed.initFromInventDim(JourTrans.inventDim());
      #            reservation = InventUpd_Reservation::newParameters(InventMovement::construct(SalesLine),JourTrans.inventDim(),
      #                          inventDimParmFixed,InventDimFixedClass::inventDimParm2InventDimFixed(inventDimParmFixed),-InventTrans.Qty,true);
      #
      #            reservation.updateNow();
      #        }
      #    }
      #}
      #*/
      #
      #void AGR_UnReserve()
      #{
      #    #AviFiles
      #    InventUpd_Reservation reservation;
      #
      #    InventMovement          movement;
      #    SalesLine               SalesLine;
      #    InventTrans             InventTrans;
      #    InventJournalTable      JourTable;
      #    InventJournalTrans      JourTrans, JournalTransLoc;
      #    Qty                     QtyOrdered;
      #    InventDimParm           inventDimParmFixed;
      #    Common                  Common;
      #    InventTransferLine      LocInventTransferLine;
      #    SysOperationProgress    progress;
      #    ;
      #
      #    progress = SysOperationProgress::newGeneral(#AviSearch, 'Preparing for posting', 0);
      #
      #    switch (InventJournalTable.AGR_DOReferenceType)
      #    {
      #        case AGR_DOReferenceType::SalesOrder:
      #
      #            while select JourTrans where JourTrans.JournalId == InventJournalTable.JournalId
      #            {
      #                progress.incCount(1);
      #                progress.update(true);
      #
      #                SalesLine   = SalesLine::findInventTransId(JourTrans.AGR_InventTransId);
      #
      #                if ( SalesLine.RecId ) {
      #                    select InventTrans where InventTrans.TransRefId == SalesLine.SalesId &&
      #                             InventTrans.TransType      == InventTransTYpe::Sales &&
      #                             InventTrans.StatusIssue    == StatusIssue::ReservPhysical;
      #
      #                    inventDimParmFixed.initFromInventDim(JourTrans.inventDim());
      #                    reservation = InventUpd_Reservation::newParameters(InventMovement::construct(SalesLine),JourTrans.inventDim(),
      #                                  inventDimParmFixed,InventDimFixedClass::inventDimParm2InventDimFixed(inventDimParmFixed),-InventTrans.Qty,true);
      #
      #                    reservation.updateNow();
      #                }
      #            }
      #        break;
      #
      #        case AGR_DOReferenceType::TransferOrder:
      #
      #            while select JourTrans where JourTrans.JournalId == InventJournalTable.JournalId
      #            {
      #                progress.incCount(1);
      #                progress.update(true);
      #                LocInventTransferLine   = InventTransferLine::findTransIdShip(JourTrans.AGR_InventTransId);
      #
      #                if ( LocInventTransferLine.RecId ) {
      #                    select InventTrans where InventTrans.TransRefId == LocInventTransferLine.TransferId &&
      #                                        InventTrans.TransType       == InventTransTYpe::TransferOrderShip &&
      #                                        InventTrans.StatusIssue     == StatusIssue::ReservPhysical;
      #
      #                    inventDimParmFixed.initFromInventDim(JourTrans.inventDim());
      #                    reservation = InventUpd_Reservation::newParameters(InventMovement::construct(LocInventTransferLine),JourTrans.inventDim(),
      #                                  inventDimParmFixed,InventDimFixedClass::inventDimParm2InventDimFixed(inventDimParmFixed),-InventTrans.Qty,true);
      #
      #                    reservation.updateNow();
      #                }
      #            }
      #        break;
      #    }
      #}
    ENDSOURCE
    SOURCE #enableFieldsActive
      #void enableFieldsActive()
      #{
      #    inventJournalTable_ds.object(fieldnum(InventJournalTable, VoucherSeqId)).mandatory(inventJournalTable.voucherSeqIdMandatory());
      #}
      #
    ENDSOURCE
    SOURCE #enableButtonsActive
      #void enableButtonsActive(boolean _enableInfolog)
      #{
      #    printMenu.enabled(inventJournalTable.RecId != 0);
      #
      #    if ( inventJournalTable.inventJournalName().ApprovalActive && inventJournalTable.ApprovalStatus[1] != ApprovalStatus::Approved)
      #        postJournal.enabled(false);
      #}
    ENDSOURCE
    SOURCE #init
      #void init()
      #{
      #    ;
      #    inventDimParmAllowCreate = true;
      #    journalFormTable = new InventJournalFormTable(element);
      #
      #    super();
      #          inventjournaltable_ds.query().dataSourceTable(tablenum(inventjournaltable)).addRange(fieldnum(inventjournaltable, journalnameid)).value("*OP");
      #
      #//Added By NAG 2/11/09 (Agreeya) AGR_OTC_Changes
      #    if(element.args() && element.args().caller())
      #    {
      #        if((element.args().parm() == 'AGR_CreateTransferJournal') || element.args().dataset() == tablenum(AGR_CustSummaryDOJour))
      #        {
      #            checkJournal.visible(false);
      #            // add by nat - AGR_OTC_DOPickTransfer_Rev
      #            InventJournalTable_ds.allowCreate(false);
      #            // end changed
      #        }
      #    }
      #//END By NAG 2/11/09 (Agreeya) AGR_OTC_Changes
      #
      #
      #    journalFormTable.parmCtrlAllOpenPosted(allOpenPosted);
      #    journalFormTable.parmCtrlJournalTypeGrid(ctrlGridJournalType);
      #    journalFormTable.parmCtrlJournalIdTab(journalId);
      #    journalFormTable.parmCtrlJournalIdGrid(ctrlGridJournalId);
      #    journalFormTable.parmCtrlOverview(gridOverview);
      #    journalFormTable.parmCtrlMarkUserBlock(markUserBlock);
      #    journalFormTable.parmCtrlMarkInUseBlock(markInUseBlock);
      #    journalFormTable.parmCtrlSystemBlocked(systemBlocked);
      #    journalFormTable.parmCtrlLines(lines);
      #    journalFormTable.parmCtrlCheckJournal(checkJournal);
      #    journalFormTable.parmCtrlPostJournal(postJournal);
      #    journalFormTable.parmCtrlCreateNew(createNew);
      #    journalFormTable.parmCtrlInfolog(showInfoLog);
      #    journalFormTable.parmCtrlBlockImage(blockImage);
      #    journalFormTable.parmCtrlInitTotals(initTotals);
      #
      #    journalFormTable.formInitPost();
      #}
    ENDSOURCE
    SOURCE #journalForm
      #JournalForm journalForm()
      #{
      #    return journalFormTable;
      #}
    ENDSOURCE
    SOURCE #inventDimParm
      #// AOSRunMode::Client
      #InventDimParm inventDimParm()
      #{
      #    InventDimParm tmpInventDimParm;
      #    ;
      #    InventDimFixedClass::inventDimFixed2InventDimParm(inventJournalTable.InventDimFixed,tmpInventDimParm);
      #    return tmpInventDimParm;
      #}
    ENDSOURCE
    SOURCE #firstField
      #void firstField(int _flags=1)
      #{
      #    super(_flags);
      #
      #    journalFormTable.formFirstFieldPost();
      #}
    ENDSOURCE
    SOURCE #close
      #void close()
      #{
      #    ;
      #    journalFormTable.formClosePre();
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #timeOutRedraw
      #void timeOutRedraw()
      #{
      #    ;
      #    journalFormTable.formMethodTimeOutRedraw();
      #}
    ENDSOURCE
    SOURCE #initControls
      #protected void initControls(Integer _journalTypeId)
      #{
      #    InventJournalType curType = _journalTypeId;
      #    ;
      #
      #    switch(curType)
      #    {
      #        case InventJournalType::Movement:
      #        case InventJournalType::LossProfit:
      #        case InventJournalType::Transfer:
      #        case InventJournalType::BOM:
      #        case InventJournalType::project :
      #                inventCountingList.visible(false);
      #                inventJournalTag_CheckMissing.visible(false);
      #                employee.visible(false);
      #                voucher.visible(true);
      #                inventory.visible(true);
      #                inventDimParmView.visible(false);
      #            break;
      #        case InventJournalType::Count:
      #                inventJournalTag_CheckMissing.visible(false);
      #                employee.visible(true);
      #                voucher.visible(true);
      #                inventory.visible(true);
      #                inventDimParmView.visible(true);
      #                inventDimParmView.allowEdit(false);
      #            break;
      #        case InventJournalType::TagCounting:
      #                detailSummary.visible(false);
      #                inventCountingList.visible(false);
      #                employee.visible(true);
      #                voucher.visible(false);
      #                inventory.visible(false);
      #                inventDimParmView.visible(true);
      #                inventDimParmView.allowEdit(false);
      #            break;
      #    }
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #void doRefresh()
      #{
      #    inventJournalTable_ds.reread();
      #    inventJournalTable_ds.refresh();
      #
      #    inventDimParm_ds.reread();
      #    inventDimParm_ds.refresh();
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventJournalTable
          Table               #InventJournalTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD JournalNameId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTable.fieldModifiedJournalNameIdPost();
                #
                #    element.redraw();
                #}
              ENDSOURCE
              SOURCE #validate
                #boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    ret = journalFormTable.fieldValidateJournalNameIdPost(ret);
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    journalFormTable.designLookupJournalName(_formControl);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SystemBlocked
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTable.fieldModifiedSystemBlockedPost();
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BlockUserGroupId
            PROPERTIES
              Enabled             #No
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    journalFormTable.fieldModifiedBlockUserGroupId();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret = true;
          #    ;
          #    if (!inCreate && !inDelete)
          #    {
          #        ret = journalFormTable.datasourceLeavePre();
          #    }
          #
          #    ret = ret && super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    ;
          #    journalFormTable.datasourceInitValuePre();
          #
          #    super();
          #
          #    journalFormTable.datasourceInitValuePost();
          #}
        ENDSOURCE
        SOURCE #delete
          #//AOSRunmode::Client
          #void delete()
          #{
          #//Created By NAG 20/11/2009 (Agreeya) AGR_CreateTransferJournal
          #    AGR_CustSummaryDoJour       Loc_CustSummaryDoJour;
          #    AGR_CustSummaryDoTrans      Loc_CustSummaryDoTrans;
          #    AGR_SummaryDONum            AGR_SummaryDONum;
          #//END By NAG 20/11/2009 (Agreeya) AGR_CreateTransferJournal
          #
          #    ;
          #    try
          #    {
          #        AGR_SummaryDONum = InventJournalTable.AGR_SummaryDONum;     //Created By NAG 20/11/2009 (Agreeya) AGR_CreateTransferJournal
          #        inDelete = true;
          #        ttsbegin;
          #
          #        super();
          #
          #        journalFormTable.datasourceDeletePost();
          #
          #//Created By NAG 20/11/2009 (Agreeya) AGR_CreateTransferJournal
          #    Loc_CustSummaryDoJour       = AGR_CustSummaryDoJour::find(AGR_SummaryDONum, true);
          #    if(Loc_CustSummaryDoJour)
          #    {
          #        Loc_CustSummaryDoJour.Status = DeliveryOrderStatus::Backorder;
          #        Loc_CustSummaryDoJour.AGR_Picked    = noyes::No;
          #        Loc_CustSummaryDoJour.InventJournalId = '';
          #        Loc_CustSummaryDoJour.update();
          #
          #
          #        Update_Recordset Loc_CustSummaryDoTrans setting Status = DeliveryOrderStatus::Backorder where
          #                         Loc_CustSummaryDoTrans.SummaryDoNum == Loc_CustSummaryDoJour.SummaryDoNum;
          #
          #    }
          #//END By NAG 20/11/2009 (Agreeya) AGR_CreateTransferJournal
          #        ttscommit;
          #        inDelete = false;
          #    }
          #    catch(Exception::Error)
          #    {
          #        inDelete = false;
          #        throw Exception::Error;
          #    }
          #    catch(Exception::UpdateConflict)
          #    {
          #        inDelete = false;
          #        throw Exception::UpdateConflict;
          #    }
          #    catch(Exception::CodeAccessSecurity)
          #    {
          #        inDelete = false;
          #        throw Exception::CodeAccessSecurity;
          #    }
          #    catch(Exception::UpdateConflictNotRecovered)
          #    {
          #        inDelete = false;
          #        throw Exception::UpdateConflictNotRecovered;
          #    }
          #}
        ENDSOURCE
        SOURCE #InUseBlock
          #//BP Deviation documented
          #edit JournalMarkInUseBlock inUseBlock(boolean set, JournalTableMap _journalTable, JournalMarkInUseBlock _value)
          #{
          #    return journalFormTable.datasourceMethodInUseBlock(set,_journalTable,_value);
          #}
        ENDSOURCE
        SOURCE #init
          #void init()
          #{
          #    super();
          #
          #    journalFormTable.datasourceInitPost(inventJournalTable);
          #}
        ENDSOURCE
        SOURCE #write
          #//AOSRunmode::client
          #void write()
          #{
          #   /* ttsbegin;
          #
          #    super();
          #
          #    journalFormTable.datasourceWritePost();
          #
          #    ttscommit;*/
          #
          #      boolean ret;
          #    //erl_viewjournal erl_viewjournal;
          #    ;
          #//   select journalnameid from erl_viewjournal
          #//  group by journalnameid
          #//  where erl_viewjournal.JournalNameId like '*OP' &&
          #//        erl_viewjournal.JournalNameId == inventjournaltable.JournalNameId;
          #//    if (erl_viewjournal)
          #//
          #//         {
          #    ttsbegin;
          #    super();
          #    journalFormTable.datasourceWritePost();
          #    ttscommit;
          #//          }
          #//             else
          #//         {
          #//            throw error("Journal harus kategori OP");
          #//
          #//         }
          #
          #
          #
          #
          #
          #
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #void executeQuery()
          #{
          #    ;
          #    journalFormTable.datasourceExecuteQueryPre();
          #
          #    super();
          #
          #    journalFormTable.datasourceExecuteQueryPost();
          #
          #   /*  this.query().dataSourceTable(tablenum(ERL_RETUR_NA)).clearRanges();
          #   if(ctrlstatus.valueStr())
          #        this.query().dataSourceTable(tablenum(ERL_RETUR_NA)).addRange(fieldnum(ERL_RETUR_NA,ORDERPURPOSE)).value(CTRLSTATUS.valueStr());
          #    if(salestype.valueStr())
          #        this.query().dataSourceTable(tablenum(ERL_RETUR_NA)).addRange(fieldnum(ERL_RETUR_NA,salestype)).value(salestype.valueStr());
          #        if (inventjournaltable.JournalType == inventjournaltype::Movement)
          #           {
          #           this.query().dataSourceTable(tablenum(inventjournaltable)).addRange(fieldnum(inventjournaltable,Journalnameid)).value("51-SR");
          #            }*/
          #
          # super();
          #}
        ENDSOURCE
        SOURCE #reread
          #void reread()
          #{
          #    super();
          #
          #    journalFormTable.datasourceReReadPost();
          #}
        ENDSOURCE
        SOURCE #lockImage
          #//BP Deviation documented
          #display Integer lockImage(InventJournalTable _journalTable)
          #{
          #    return journalFormTable.datasourceMethodLockImage(_journalTable);
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    ret = journalFormTable.datasourceValidateWritePost(ret);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    ret = journalFormTable.datasourceValidateDeletePost(ret);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #InUseUserId
          #//BP Deviation documented
          #display JournalBlockInUseUserId inUseUserId(JournalTableMap _journalTable)
          #{
          #    return journalFormTable.datasourceMethodInUseUserId(_journalTable);
          #}
        ENDSOURCE
        SOURCE #create
          #void create(boolean _append = false)
          #{
          #    ;
          #    inCreate = true;
          #    if (! journalFormTable.datasourceCreatePre())
          #    {
          #        inCreate = false;
          #        return;
          #    }
          #
          #    super(_append);
          #
          #    journalFormTable.datasourceCreatePost();
          #    inCreate = false;
          #}
        ENDSOURCE
        SOURCE #active
          #int active()
          #{
          #    int ret;
          #    ApprovalStatus  approvalStatus;
          #    ;
          #    approvalStatus = InventJournalTable.ApprovalStatus[1];
          #    journalFormTable.datasourceActivePre();
          #
          #    ret = super();
          #
          #    switch (approvalStatus)
          #     {
          #        case ApprovalStatus::Pending  :
          #        case ApprovalStatus::Approved :
          #            InventJournalTable_ds.allowEdit(false);
          #            InventJournalTable_ds.allowDelete(false);
          #
          #            break;
          #     }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ;
          #    journalFormTable.datasourceLinkActivePre();
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDimParm
          Table               #InventDimParm
          AllowDelete         #No
          AutoSearch          #No
          AutoNotify          #No
          AutoQuery           #No
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    journalFormTable.inventDimParmInitPost(inventDimParm);
          #}
        ENDSOURCE
        SOURCE #write
          #// AOSRunMode::Client
          #void write()
          #{
          #    ;
          #    inventJournalTable.InventDimFixed = inventDimParm.inventDimFixed();
          #    inventJournalTable.write();
          #}
        ENDSOURCE
        SOURCE #create
          #void create(boolean append = false)
          #{
          #    if (inventDimParmAllowCreate)
          #    {
          #        super(append);
          #        inventDimParmAllowCreate = false;
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #@SYS6140
      TitleDatasource     #InventJournalTable
      HTMLHelpFile        #HTMLHelpFileIWorker
      HTMLHelpTopic       #AxShared.chm::/html/E7733931-64AE-47DE-B4DA-AACE14A8379A.htm
    ENDPROPERTIES
    
    CONTAINER
      CONTROL COMBOBOX
        PROPERTIES
          Name                #allOpenPosted
          AutoDeclaration     #Yes
          HelpText            #@SYS26572
          HTMLHelpFile        #HTMLHelpFileAxShared
          HTMLHelpTopic       #html/A7ECACF9-D909-47F0-88FC-EC3FE3D88065.htm
          Selection           #255
          EnumType            #AllOpenPosted
        ENDPROPERTIES
        
        METHODS
          Version: 3
          SOURCE #SelectionChange
            #int selectionChange()
            #{
            #    int ret;
            #
            #    ret = super();
            #
            #    journalFormTable.designSelectionChangeAllOpenPosted();
            #
            #    return ret;
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          Tabs                #5
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overview
              AutoDeclaration     #Yes
              Caption             #@SYS9039
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #gridOverview
                  AutoDeclaration     #Yes
                  Width               #Column width
                  Height              #Column height
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTable_JournalNameId
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/21c7a41b-1cbc-4003-9ed9-d87f1c1daeae.htm
                        DataSource          #InventJournalTable
                        DataField           #JournalNameId
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #lookup
                          #public void lookup()
                          #{;
                          #
                          #   inventjournalname::lookupop(this);
                          #   // super();
                          #}
                        ENDSOURCE
                        SOURCE #modified
                          #public boolean modified()
                          #{
                          #   /* boolean ret;
                          #
                          #    ret = super();
                          #
                          #    return ret;*/
                          #
                          #     boolean ret;
                          #    erl_viewjournal  erl_viewjournal;
                          #    ;
                          #    ret = super();
                          #
                          #
                          #  //dummy::NewClass();
                          #
                          #//  select firstonly * from erl_viewjournal
                          #//  where erl_viewjournal.JournalNameId like '*OP' &&
                          #//        erl_viewjournal.JournalNameId == this.text();
                          #//
                          #//  if (erl_viewjournal)
                          #//
                          #//  {
                          #//  }
                          #//  else
                          #//  {
                          #//    ret = false;
                          #//    this.text('');
                          #//    this.setFocus();
                          #//    inventjournaltable.JournalNameId ='';
                          #//
                          #//    }
                          #
                          #    return ret;
                          #
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ctrlGridJournalId
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/7e15de1a-ba43-4dab-a0ab-91e83d28d38c.htm
                        DataSource          #InventJournalTable
                        DataField           #JournalId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #ctrlGridJournalType
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/8ac392a0-5ee5-4277-b9d2-e08c3bdeb94e.htm
                        DataSource          #InventJournalTable
                        DataField           #JournalType
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTable_Description
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/d3cdad5f-903c-4a67-b918-219e3ee60eab.htm
                        DataSource          #InventJournalTable
                        DataField           #Description
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #InventJournalTable_NumOfLines
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/46154702-566f-4f65-b703-25d2f15cc79d.htm
                        DataSource          #InventJournalTable
                        DataField           #NumOfLines
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #InventJournalTable_Posted
                        AllowEdit           #No
                        Skip                #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/f6024a9e-bfd8-45fa-bdd1-eed27e69de1a.htm
                        BackgroundColor     #Window background
                        DataSource          #InventJournalTable
                        DataField           #Posted
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL WINDOW
                      PROPERTIES
                        Name                #BlockImage
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        Width               #18
                        Height              #12
                        AlignControl        #No
                        Imagemode           #Size to fit
                        BackStyle           #Transparent
                        Label               #@SYS10653
                        DataSource          #InventJournalTable
                        DataMethod          #LockImage
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL UTCDATETIMEEDIT
                      PROPERTIES
                        Name                #InventJournalTable_PostedDateTime
                        AllowEdit           #No
                        DataSource          #InventJournalTable
                        DataField           #PostedDateTime
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL INTEDIT
                      PROPERTIES
                        Name                #InventJournalTable_ERL_ItemNum
                        Label               #Items
                        DataSource          #InventJournalTable
                        DataField           #ERL_ItemNum
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #General
              AutoDeclaration     #Yes
              Caption             #@SYS2952
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #GeneralColumn1
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/FB34BB3D-BA3D-4246-B32A-71BA8FBFDA97.htm
                  FrameType           #None
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Identification
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/BF571814-F3F8-4D2E-9765-352C8528F389.htm
                        DataSource          #InventJournalTable
                        DataGroup           #Identification
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #JournalId
                              AutoDeclaration     #Yes
                              DataSource          #InventJournalTable
                              DataField           #JournalId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #JournalType
                              DataSource          #InventJournalTable
                              DataField           #JournalType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #JournalNameId
                              DataSource          #InventJournalTable
                              DataField           #JournalNameId
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #lookup
                                #public void lookup()
                                #{;
                                #  inventjournalname::lookupop(this);
                                #   // super();
                                #}
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Description
                              DataSource          #InventJournalTable
                              DataField           #Description
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Approval
                        DataSource          #InventJournalTable
                        DataGroup           #Approval
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Voucher
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/1D18A6C4-F322-4BC6-9A17-9E20D491FD7C.htm
                        DataSource          #InventJournalTable
                        DataGroup           #Voucher
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Posting
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/05757AF7-84FA-4435-AE6D-4B8BBCD5B4D8.htm
                  DataSource          #InventJournalTable
                  DataGroup           #Posting
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #DetailSummary
                        AutoDeclaration     #Yes
                        DataSource          #InventJournalTable
                        DataField           #DetailSummary
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #DeletePostedLines
                        DataSource          #InventJournalTable
                        DataField           #DeletePostedLines
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Posting_LedgerAccountIdOffset
                        DataSource          #InventJournalTable
                        DataField           #LedgerAccountIdOffset
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Purchase
                  DataSource          #InventJournalTable
                  DataGroup           #Purchase
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #Setup
              Caption             #@SYS2186
              Columns             #Auto
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Inventory
                  AutoDeclaration     #Yes
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/1EA48EBB-4D4D-47DF-86D1-6D52E4140B1B.htm
                  DataSource          #InventJournalTable
                  DataGroup           #Inventory
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Employee
                  AutoDeclaration     #Yes
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/C5A7B333-7B7B-4D8E-AA47-A15B8913E9B8.htm
                  Caption             #@SYS99605
                  DataSource          #InventJournalTable
                  DataGroup           #Employee
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Employee_EmplId
                        Label               #@SYS99605
                        DataSource          #InventJournalTable
                        DataField           #EmplId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #InventDimParmView
                  AutoDeclaration     #Yes
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/C52065B9-B16F-4022-871A-1C3694100776.htm
                  Caption             #@SYS54383
                  DataSource          #InventDimParm
                  DataGroup           #FixedView
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #Block
              Caption             #@SYS50247
              Columns             #3
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Column1
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/91E8DD48-C9E3-4C86-95D6-C50E9763E2BE.htm
                  FrameType           #None
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #MarkInUseBlock
                        AutoDeclaration     #Yes
                        DataSource          #InventJournalTable
                        DataMethod          #InUseBlock
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #MarkUserBlock
                        AutoDeclaration     #Yes
                        Enabled             #No
                        HelpText            #@SYS22217
                        Label               #@SYS3324
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #modified
                          #boolean modified()
                          #{
                          #    boolean ret;
                          #
                          #    ret = super();
                          #
                          #    journalFormTable.designModifiedMarkUserBlockPost();
                          #
                          #    return ret;
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Column2
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/D8E5D3E6-BBA9-4EEB-A5A7-5ACD56DD44AB.htm
                  FrameType           #None
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #BlockInUseUserId
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        DataSource          #InventJournalTable
                        DataMethod          #InUseUserId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTable_BlockUserId
                        DataSource          #InventJournalTable
                        DataField           #BlockUserId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Column3
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/6AE403D5-26CD-4B28-85FB-CB33C8969B7F.htm
                  FrameType           #None
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #SystemBlocked
                        AutoDeclaration     #Yes
                        DataSource          #InventJournalTable
                        DataField           #SystemBlocked
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTable_BlockUserGroupId
                        DataSource          #InventJournalTable
                        DataField           #BlockUserGroupId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #HistoryTab
              Caption             #@SYS10575
              Columns             #Auto
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #History
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/250C5286-EA8A-4CEC-B8F7-E9CE2D47D3DF.htm
                  DataSource          #InventJournalTable
                  DataGroup           #History
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #TotalsGroup
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/342B4F07-1C31-44E0-B06C-84E18643A596.htm
                  FrameType           #None
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Totals
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/3ECFCB68-3A81-4EBB-9C62-7ED0A567D134.htm
                        DataSource          #InventJournalTable
                        DataGroup           #Totals
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #InitTotals
                        AutoDeclaration     #Yes
                        HelpText            #@SYS85243
                        Text                #@SYS68968
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    journalFormTable.buttonClickedInitTotals();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #NotesTab
              Caption             #@SYS40182
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Notes
                  DataSource          #InventJournalTable
                  DataGroup           #Notes
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
        ENDPROPERTIES
        
        CONTAINER
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #lines
              AutoDeclaration     #Yes
              MenuItemName        #InventJournalTransLossProfit
              DataSource          #InventJournalTable
            ENDPROPERTIES
            
          ENDCONTROL 
          
          CONTROL MENUBUTTON
            PROPERTIES
              Name                #ButtonApproval
              AutoDeclaration     #Yes
              Text                #@SYS2453
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #    ;
                #   If (! InventJournalTable.inventJournalName().ApprovalActive || ! InventJournalTable.NumOfLines)
                #    {
                #        Slt_Approval_ReportAsReady.enabled(false);
                #        Slt_ApprovalInfo.enabled(false);
                #    }
                #    else
                #    {
                #        switch (inventJournalTable.ApprovalStatus)
                #        {
                #        case ApprovalStatus::None:
                #
                #            Slt_Approval_ReportAsReady.enabled(! InventJournalTable.Posted);
                #            Slt_ApprovalInfo.enabled(false);
                #            break;
                #
                #        case ApprovalStatus::Pending , ApprovalStatus::Approved :
                #
                #            Slt_Approval_ReportAsReady.enabled(false);
                #            Slt_ApprovalInfo.enabled(true);
                #            break;
                #
                #        case ApprovalStatus::Rejected:
                #
                #            Slt_Approval_ReportAsReady.enabled(! InventJournalTable.Posted);
                #            Slt_ApprovalInfo.enabled(true);
                #
                #            break;
                #         }
                #
                #    }
                #
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
            CONTAINER
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #Slt_Approval_ReportAsReady
                  AutoDeclaration     #Yes
                  MenuItemType        #Action
                  MenuItemName        #Slt_Approval_ReportAsReady
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
                METHODS
                  Version: 3
                  SOURCE #clicked
                    #void clicked()
                    #{
                    #    Args    args = new Args();
                    #    ;
                    #
                    #   //args.parmEnumType(EnumNum(soltius_intf_groupid));
                    #   // args.parmEnum(groupid);
                    #   /* args.record(InventJournalTable);
                    #
                    #    new MenuFunction(menuitemactionstr(InventJournalCheck), MenuItemType::Action).run(args);
                    #    element.doRefresh();*/
                    #   //*/
                    #   super();
                    #
                    #}
                  ENDSOURCE
                ENDMETHODS
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #Slt_ApprovalInfo
                  AutoDeclaration     #Yes
                  MenuItemName        #ApprovalInfo
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #checkJournal
              AutoDeclaration     #Yes
              MenuItemType        #Action
              MenuItemName        #InventJournalCheck
              DataSource          #InventJournalTable
            ENDPROPERTIES
            
          ENDCONTROL 
          
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #postJournal
              AutoDeclaration     #Yes
              MenuItemType        #Action
              MenuItemName        #InventJournalPost
              DataSource          #InventJournalTable
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #;
                #//Created By NAG 07/11/09 (Agreeya) AGR_OTCChanges
                #    element.AGR_ValidateLines();
                #    //element.AGR_UnReserve();  //Commented By NAG 14-Jan-2010 (Agreeya) AGR_08Jan2010_ReserveAfterError
                #//End By NAG 07/11/09 (Agreeya) AGR_OTCChanges
                #    element.countItemNum();
                #
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDCONTROL 
          
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #createNew
              AutoDeclaration     #Yes
              MenuItemName        #JournalTableCreateNew
              DataSource          #InventJournalTable
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #    if (! journalFormTable.buttonClickedCreateNewPre())
                #        return;
                #
                #    super();
                #
                #    journalFormTable.buttonClickedCreateNewPost();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDCONTROL 
          
          CONTROL BUTTON
            PROPERTIES
              Name                #showInfoLog
              AutoDeclaration     #Yes
              HelpText            #@SYS85244
              Text                #@SYS2515
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #    ;
                #    super();
                #
                #    journalFormTable.buttonClickedShowInfolog();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDCONTROL 
          
          CONTROL MENUBUTTON
            PROPERTIES
              Name                #Functions
              HelpText            #@SYS69656
              Text                #@SYS10340
            ENDPROPERTIES
            
            CONTAINER
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventJournalCopy
                  MenuItemType        #Action
                  MenuItemName        #InventJournalCopy
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventJournalTag_CheckMissing
                  AutoDeclaration     #Yes
                  MenuItemType        #Action
                  MenuItemName        #InventJournalTag_CheckMissing
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL MENUBUTTON
            PROPERTIES
              Name                #PrintMenu
              AutoDeclaration     #Yes
              HelpText            #@SYS24353
              Text                #@SYS920
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #// Add Ivan , 3 dec 2009 - AGR_Ivan_Report/MartialRequestion
                #void clicked()
                #{
                #    ;
                #
                #    AGR_InventoryTransfer.visible( false );
                #    AGR_MarterialRequest.visible( false );
                #    switch ( InventJournalTable.JournalType ) {
                #        case InventJournalType::Transfer :
                #            AGR_InventoryTransfer.visible( true );
                #            break;
                #        case InventJournalType::Movement :
                #            AGR_MarterialRequest.visible( true );
                #            break;
                #    }
                #
                #    super();
                #
                #}
              ENDSOURCE
            ENDMETHODS
            CONTAINER
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #Print
                  Enabled             #No
                  Text                #@SYS6790
                  MenuItemType        #Output
                  MenuItemName        #inventjournalTrans
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
                METHODS
                  Version: 3
                  SOURCE #clicked
                    #void clicked()
                    #{
                    #    MenuFunction    menuFunction;
                    #    Args            args = new Args();
                    #
                    #    switch (inventJournalTable.JournalType)
                    #    {
                    #        case InventJournalType::Transfer:
                    #            menuFunction = new MenuFunction(menuitemoutputstr(InventJournalTransTransfer), MenuItemType::Output);
                    #            break;
                    #        case InventJournalType::TagCounting:
                    #            menuFunction = new MenuFunction(menuitemoutputstr(InventJournalTrans_Tag), MenuItemType::Output);
                    #            break;
                    #        default:
                    #            menuFunction = new MenuFunction(menuitemoutputstr(inventJournalTrans), MenuItemType::Output);
                    #            break;
                    #    }
                    #    args.caller(element);
                    #    args.record(inventJournalTable);
                    #    args.menuItemName(menuFunction.name());
                    #    args.menuItemType(menuFunction.type());
                    #    menuFunction.run(args);
                    #
                    #}
                  ENDSOURCE
                ENDMETHODS
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventCountingList
                  AutoDeclaration     #Yes
                  MenuItemType        #Output
                  MenuItemName        #InventCountingList
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL SEPARATOR
                PROPERTIES
                  Name                #Separator
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #AGR_RekapBuku
                  MenuItemType        #Output
                  MenuItemName        #ERL_RecapBook_1
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL SEPARATOR
                PROPERTIES
                  Name                #Separator2
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #AGR_InventoryTransfer
                  AutoDeclaration     #Yes
                  MultiSelect         #Yes
                  MenuItemType        #Output
                  MenuItemName        #AGR_InventoryTransfer
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #AGR_MarterialRequest
                  AutoDeclaration     #Yes
                  MenuItemType        #Output
                  MenuItemName        #AGR_MarterialRequest
                  DataSource          #InventJournalTable
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #InventJournalCount
  PROPERTIES
    Name                #InventJournalCount
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #ClassDeclaration
      #final class FormRun extends ObjectRun
      #{
      #    InventJournalFormTrans_Movement journalFormTrans;
      #    // naski add 11/6/2014 -- stock share
      #    boolean isShared;
      #}
    ENDSOURCE
    SOURCE #upload51
      #void upload51()
      #{
      #    InventSum           invSum;
      #    InventDim           invDim,dFrom,dTo;
      #    inventjournaltrans  ijtrans;
      #    wmslocation         wmsLoc;
      #
      #    AxInventJournalTrans    axJourTrans;
      #
      #    ItemId              itemId;
      #    wmsLocationId       location;
      #    Qty                 qty,eks,eksTotal,offset;
      #    qty                 jatah, lebihan, loop, prev, _sum;
      #
      #    container           conWH = ["511","512","513"];
      #    container           conQty,conEks;
      #    InventLocationId    wh;
      #
      #    InventJournalId     journalId = InventJournalTrans.JournalId;
      #    Dimension           dim;
      #    UnitId              unitId;
      #    InventDimId         dimFrom,dimTo;
      #    Unit                unit,unitInvent;
      #    TransDate           tDate = today();
      #
      #    int                 i,j,k,mark;
      #
      #    #Excel
      #    Filename            Filename;
      #    FileIOPermission    permission;
      #    CommaIO             commaIO;
      #    container           conLines;
      #
      #    Dialog              dialog;
      #    DialogField         dFileName;
      #
      #    // misc
      #    InventJournalTrans  tr,up;
      #    InventJournalTable  tb;
      #    ;
      #    dim[1] = "51"; // Business Unit
      #
      #    dialog = new Dialog("IJ Counting Upload");
      #    dFileName = dialog.addFieldValue(typeid(FileNameOpen),fileName);
      #    dialog.run();
      #
      #    if(dialog.closedOk()){
      #        setprefix("IJ Count");
      #        filename = dFileName.value();
      #        permission = new FileIOPermission(Filename,'r');
      #        permission.assert();
      #
      #        commaIO = new CommaIO(filename,'r');
      #        commaIO.inFieldDelimiter(','); // delimiter
      #
      #        if(commaIO){
      #            while(commaIO.status() == IO_Status::Ok){
      #                conLines =  commaIO.read();
      #
      #                itemId = conpeek(conLines,1);
      #                location = conpeek(conLines,2);
      #                qty = conpeek(conLines,3);
      #                eks = 0;
      #                eksTotal = 0;
      #                offset = 0;
      #                conQty = connull();
      #                conEks = connull();
      #                jatah = 0;
      #                lebihan = 0;
      #                loop = 0;
      #                prev = 0;
      #                _sum = 0;
      #
      #                if(InventTable::find(itemId)){
      #                    i++;
      #                    //if(i == 5) break;
      #
      #                    print(strfmt("%1 - %2 / %3",itemId,location,qty));
      #                    //setprefix(strfmt("%1 - %2 / %3",itemId,location,qty));
      #
      #                    for(j = 1; j <= conlen(conWH); j++){
      #                        wh = conpeek(conWH,j);
      #                        dFrom.InventSiteId = dim[1]; // Site
      #                        dFrom.InventLocationId = wh;
      #                        dFrom.wMSLocationId = location;
      #
      #                        dimFrom = InventDim::findOrCreate(dFrom).inventDimId;
      #
      #                        select * from invSum
      #                            where invsum.ItemId == itemid
      #                            && invSum.InventDimId == dimFrom;
      #
      #                        conQty += invSum.AvailPhysical();
      #                        eksTotal += invSum.availPhysical();
      #
      #                        //info(strfmt("%1 - %2 - %3",wh, invSum.AvailPhysical(), ekstotal));
      #                    }
      #
      #                    if(eksTotal != qty){
      #                        offset = qty - eksTotal;
      #                        jatah = offset div 3;
      #                        lebihan = offset mod 3;
      #
      #                        //info(strfmt("%1 - %2 - %3",offset, jatah, lebihan));
      #
      #                        for(j = 1; j <= 3; j++){
      #                            prev = loop;
      #                            loop = conpeek(conQty,j);
      #
      #                            //info(strfmt("prev %1 loop %2", prev,loop));
      #
      #                            if(loop > prev) {
      #                                mark = j;
      #                                //info(strfmt("mark : %1",j));
      #                            }
      #                        }
      #                    } else {
      #                        jatah = 0; lebihan = 0;
      #                    }
      #
      #                    for(j = 1; j <= 3; j++){
      #                        if(j == mark){
      #                            _sum = conpeek(conQty,j) + jatah + lebihan;
      #                        } else {
      #                            _sum = conpeek(conQty,j) + jatah;
      #                        }
      #                        conEks += _sum;
      #                        //info(strfmt("%1 - %2",j,_sum));
      #                    }
      #
      #                    for(j = 1; j <= 3; j++){
      #                        wh = conpeek(conWH,j);
      #                        eks = conpeek(conEks,j);
      #
      #                        //info(strfmt("%1 - %2 - %3 - %4 - %5",itemId,wh,location,qty,eks));
      #
      #                        dFrom.InventSiteId = dim[1]; // Site
      #                        dFrom.InventLocationId = wh;
      #                        dFrom.wMSLocationId = location;
      #
      #                        dimFrom = InventDim::findOrCreate(dFrom).inventDimId;
      #
      #                        select * from invSum
      #                            where invsum.ItemId == itemid
      #                            && invSum.InventDimId == dimFrom;
      #
      #                        select * from ijTrans
      #                            where ijtrans.JournalId == journalId
      #                            && ijtrans.ItemId == itemid
      #                            && ijtrans.inventDimId == dimfrom;
      #
      #                        if(ijtrans.RecId == 0){
      #                            print(strfmt("%1 (%4) - %2 / %3",ItemId,dFrom.InventLocationId,invdim.wMSLocationId,qty));
      #
      #                            axJourTrans = new AxInventJournalTrans();
      #                            axJourTrans.parmJournalId(journalid);
      #                            axJourTrans.parmTransDate(tDate);
      #                            axJourTrans.parmJournalType(InventJournalType::Count);
      #                            axJourTrans.parmItemId(itemId);
      #                            axJourTrans.parmInventOnHand(invSum.availPhysical());
      #                            axJourTrans.parmCounted(eks);
      #                            axJourTrans.parmDimension(dim);
      #                            axJourTrans.parmInventDimId(dimFrom);
      #                            axJourTrans.save();
      #                        }
      #                    }
      #                }
      #            }
      #        }
      #    }
      #
      #    select count(recId) from tr where tr.JournalId == journalId;
      #    update_recordset tb setting NumOfLines = tr.RecId where tb.JournalId == journalId;
      #
      #    while select * from tr where tr.JournalId == journalId
      #    {
      #        unitId = InventTable::find(tr.ItemId).inventTableModuleInvent().UnitId;
      #        update_recordset up
      #            setting unitInvent = unitid, unit = unitid, QtyUnit = tr.Qty
      #            where up.RecId == tr.RecId;
      #    }
      #
      #    info(strfmt("%1 records inserted",i));
      #    info("done");
      #}
    ENDSOURCE
    SOURCE #splitSharedStock
      #void splitSharedStock()
      #{
      #    ERL_StockShare          stockShare;
      #    InventJournalTrans      ijTrans;
      #    InventTable             inv;
      #    InventDim               dimNew;
      #    InventSum               iSum;
      #    axInventJournalTrans    axIJTrans;
      #
      #    Qty                     ctd,_sum,_diff,diff;
      #    container               conQty;
      #    int                     pos;
      #
      #    boolean                 debug = ERL_Global::isAdmin();
      #
      #    Qty sumOnHand(InventJOurnalTrans _ijTrans){
      #        ERL_StockShare  _sShare;
      #        InventDim       _iDim;
      #        InventSum       _iSum;
      #
      #        Qty             ret,availPhys;
      #        ;
      #        while select * from _sShare
      #            group by WH
      #            where _sshare.BU == _ijTrans.Dimension[1]
      #        {
      #            _iDim.InventSiteId = _ijTrans.inventDim().InventSiteId;
      #            _iDim.InventLocationId = _sSHare.WH;
      #            _iDim.wMSLocationId = _ijTrans.inventDim().wMSLocationId;
      #            _iDim = InventDim::findOrCreate(_iDim);
      #
      #            select firstfast firstonly _iSum
      #                where _iSum.ItemId == _ijTrans.ItemId
      #                && _iSum.InventDimId == _iDim.inventDimId;
      #
      #            ret += _iSum.availPhysical();
      #            if(debug){
      #                info(strfmt("avail Phys %1 / %2 : %3 (%4)",_idim.InventLocationId,_idim.wMSLocationId,_isum.availPhysical(),ret));
      #            }
      #        }
      #
      #        return ret;
      #    }
      #
      #    void calculateShare(){
      #        ERL_StockShare      _sShare;
      #        real                _frac;
      #        Qty                 _qty,temp;
      #
      #        InventLocationId    _wh;
      #        ;
      #        while select * from _sShare
      #            order by Share desc
      #            where _sshare.BU == InventJournalTrans.Dimension[1]
      #            && _sShare.Jenjang == inv.AGR_ItemGrade
      #        {
      #            _qty = _diff * (_sShare.Share / 100);
      #            if(frac(_qty)){
      #                _frac += frac(_qty);
      #                _qty -= frac(_qty);
      #            }
      #
      #            conQty += [_sShare.WH,_qty];
      #        }
      #
      #        if(_frac){
      #            temp = conpeek(conQty,2);
      #            conQty = conpoke(conQty,2,(temp+_frac));
      #        }
      #    }
      #    ;
      #    if(InventJournalTrans.ItemId == ""){
      #        throw error("Item Harus Diisi");
      #    }
      #
      #    if(InventJournalTrans.Dimension[1] == ""){
      #        throw error("BU Harus Diisi");
      #    }
      #
      #    if(InventJournalTrans.Counted <= 0){
      #        throw error("Qty counted harus lebih dari 0");
      #    }
      #
      #    if(inventDim.InventLocationId == ""){
      #        throw error("Gudang Harus Diisi");
      #    }
      #
      #    if(InventDim.wmsLocationid == ""){
      #        throw error("Location Harus Diisi");
      #    }
      #
      #    ctd = InventJournalTrans.Counted;
      #    inv = InventTable::find(InventJournalTrans.ItemId);
      #    _sum = sumonhand(InventJournalTrans);
      #    _diff = ctd - _sum;
      #
      #    calculateShare();
      #
      #    if(debug){
      #        info(strfmt("counted : %1 - sum onhand : %2 - main diff : %3",ctd,_sum,_diff));
      #    }
      #
      #    while select * from stockShare
      #        where stockShare.BU == InventJournalTrans.Dimension[1]
      #        && stockShare.Jenjang == inv.AGR_ItemGrade
      #    {
      #        pos = confind(conQty,stockShare.WH);
      #        diff = conpeek(conQty,(pos+1));
      #
      #        if(debug){
      #            info(strfmt("item %1 (%2) share (%3) : %4 WH %5",inv.ItemId,inv.AGR_ItemGrade,stockShare.Jenjang,stockShare.Share,stockShare.WH));
      #        }
      #
      #        if(InventDim.inventLocationId == stockShare.WH){
      #            if(debug){
      #                info(strfmt("diff : %1 - onHand : %2",diff,InventJournalTrans.InventOnHand));
      #            }
      #
      #            ttsbegin;
      #            InventJournalTrans.Counted = InventJournalTrans.InventOnHand + diff;
      #            InventJournalTrans.Qty = InventJournalTrans.Counted - InventJournalTrans.InventOnHand;
      #            InventJournalTrans.update();
      #            ttscommit;
      #        } else {
      #            if(debug){
      #                info(strfmt("diff : %1 - onHand : %2",diff,iSum.availPhysical()));
      #            }
      #
      #            dimNew.InventSiteId = InventDim.InventSiteId;
      #            dimNew.InventLocationId = stockShare.WH;
      #            dimNew.wMSLocationId = InventDim.wMSLocationId;
      #            dimNew = InventDim::findOrCreate(dimNew);
      #
      #            select firstfast firstonly iSUm
      #                where iSum.ItemId == inv.ItemId
      #                && iSum.InventDimId == dimNew.inventDimId;
      #
      #            axIJTrans = new axInventJournalTrans();
      #            axIJTrans.parmJournalId(InventJournalTrans.JournalId);
      #            axIJTrans.parmItemId(InventJournalTrans.ItemId);
      #            axIJTrans.parmInventDimId(dimNew.inventDimId);
      #            axIJTrans.parmInventOnHand(iSum.availPhysical());
      #            axIJTrans.parmDimension(InventJournalTrans.Dimension);
      #            axIJTrans.parmCounted((iSum.availPhysical() + diff));
      #            axIJTrans.save();
      #        }
      #    }
      #
      #    InventJournalTrans_ds.research();
      #}
    ENDSOURCE
    SOURCE #validateButton
      #// naski add 11/6/2014 -- stock share
      #void validateButton()
      #{
      #    ERL_StockShare  sShare;
      #    Dimension1      bu;
      #    ;
      #    select firstfast firstonly sShare where sShare.BU == inventJournalTrans.Dimension[1];
      #
      #    if(sShare) isShared = true;
      #
      #    btnSplit.enabled(isShared);
      #}
    ENDSOURCE
    SOURCE #Validate_CountingLine_Erl
      #void Validate_CountingLine_Erl(InventJournalTrans JourTransThis )
      #{// pman -- Dec 2011 Validate
      #
      #  InventJournalTrans Jourtrans;
      #  InventJournalTable ITab1,ITab2;
      #
      #  // naski add 9/26/2016 - validate DO
      #  InventTrans           iTrans;
      #  InventDim             iDim;
      #  ;
      #
      #  select * from  JourTrans
      #           where JourTrans.ItemId      == JourTransThis.ItemId
      #             &&  JourTrans.InventDimId == JourTransThis.InventDimId
      #             &&  JourTrans.RecId       != JourTransThis.RecId
      #             &&  JourTrans.JournalType == InventJournalType::Count
      #  join ITab2 where ITab2.JournalId     == JourTrans.JournalId && ITab2.Posted == Noyes::No;
      #
      #  if(JourTrans) {
      #    throw error(strfmt('Journal Duplicate for item %1 with item on jour %2. Voucher %3 Please Check that Journal number ',JourTransThis.ItemId,JourTrans.JournalId,JourTrans.Voucher));
      #    } else {
      #        // naski add 9/26/2016 - disable posting / input / validate if any reservation exists
      #        //if(curuserid() == 'naski'){
      #            select * from iTrans
      #                where itrans.ItemId == jourTrans.ItemId
      #                && iTrans.StatusIssue == StatusIssue::ReservPhysical
      #                && iTrans.TransType != InventTransType::InventCounting
      #            join iDim
      #                where iDim.inventDimId == iTrans.inventDimId
      #                && iDim.InventLocationId == jourTrans.inventDim().InventLocationId;
      #
      #            if(iTrans){
      #                throw error(strfmt('Terdapat transaksi Reserved Physical dari item %1 : %2 (%3)',JourTransThis.ItemId,iTrans.TransRefId,enum2str(iTrans.TransType)));
      #            }
      #        //}
      #    }
      #}
    ENDSOURCE
    SOURCE #setEmplId
      #void setEmplId()
      #{
      #    ;
      #    if (inventJournalTrans.EmplId)
      #        return;
      #
      #    inventJournalTrans.EmplId = inventJournalTrans.inventJournalTable().EmplId;
      #}
    ENDSOURCE
    SOURCE #enableButtonsActive
      #void enableButtonsActive()
      #{
      #    boolean hasLines = journalFormTrans.journalTable().NumOfLines > 0;
      #    ;
      #    if (hasLines == inventCountCreate.enabled())
      #        inventCountCreate.enabled(!hasLines);
      #
      #    if (hasLines == inventCountCreateItems.enabled())
      #        inventCountCreateItems.enabled(!hasLines);
      #
      #    if (hasLines == inventCountCreate_BatchExpired.enabled())
      #        inventCountCreate_BatchExpired.enabled(!hasLines);
      #}
    ENDSOURCE
    SOURCE #journalForm
      #JournalForm journalForm()
      #{
      #    return journalFormTrans;
      #}
    ENDSOURCE
    SOURCE #init
      #void init()
      #{
      #    InventJournalTrans      local;
      #    InventJournalId         journalId;
      #    NoYes                   Posted;
      #    ;
      #    journalFormTrans = new InventJournalFormTrans_Movement(element);
      #
      #    super();
      #
      #    journalFormTrans.parmCtrlCheckJournal(checkJournal);
      #    journalFormTrans.parmCtrlPostJournal(postJournal);
      #    journalFormTrans.parmCtrlInfolog(showInfolog);
      #    journalFormTrans.parmCtrlVoucherGrid(inventJournalTrans_Voucher);
      #    journalFormTrans.parmCtrlVoucherTab(voucher);
      #    journalFormTrans.parmCtrlLineLogImage(lineLogImage);
      #
      #    journalFormTrans.formInitPost();
      #
      #    // naski add 11/6/2014 -- stock share
      #    //element.validateButton();
      #    btnUpload.visible(ERL_Global::getUserBU() == '51' || ERL_Global::getUserBU() == '50');
      #
      #    //IS add 12/2/2019
      #    journalId = inventJournalTrans.JournalId;
      #    Posted = InventJournalTable::find(journalId).Posted;
      #    if(Posted == noyes::No)
      #    {
      #        update_recordset local setting Qty = local.Counted - local.InventOnHand
      #        where local.JournalId == journalId && local.JournalType == inventJournalType::Count && local.Qty == 0;
      #    }
      #
      #    //IS end
      #}
    ENDSOURCE
    SOURCE #close
      #void close()
      #{
      #    InventItemLocation inv;
      #    InventJournalTable InventJournalTable = InventJournalTable::find(InventJournalTrans.JournalId);
      #    ;
      #    journalFormTrans.formClosePre();
      #
      #    super();
      #
      #    //IS add 12/13/2019
      #    if(InventJournalTable.Posted == NoYes::Yes && InventJournalTable.JournalType == InventJournalType::Count)
      #    {
      #        update_recordset inv
      #            setting CountingStarted = 0, CountingJournalId = ""
      #            where inv.CountingJournalId == InventJournalTrans.JournalId;
      #        //box::info(strfmt('%1', InventJournalTrans.JournalId));
      #    }
      #    // end IS
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #// AOSRunMode::Client
      #InventDimCtrl_Frm_Mov inventDimSetupObject()
      #{
      #    return journalFormTrans.inventDimSetupObject();
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventJournalTrans
          Table               #InventJournalTrans
          CounterField        #LineNum
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CostAmount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedCostAmountPost();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CostMarkup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedCostMarkupPost();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedPriceUnitPost();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CostPrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedCostPricePost();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Qty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #
                #    super();
                #    element.setEmplId();
                #    journalFormTrans.fieldModifiedQtyPost();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #
                #    super();
                #
                #    journalFormTrans.fieldModifiedItemIdPost();
                #
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    return journalFormTrans.fieldValidateItemId();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Counted
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #    element.setEmplId();
                #    journalFormTrans.fieldModifiedCountedPost();
                #
                #    // naski 12/31/2014 - validasi counting diff
                #    if(InventJournalTrans.inventJournalTable().JournalType == InventJournalType::Count){
                #        if(InventJournalTrans.Qty != InventJournalTrans.Counted - InventJournalTrans.InventOnHand){
                #            InventJournalTrans.Qty = InventJournalTrans.Counted - InventJournalTrans.InventOnHand;
                #        }
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TransDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedTransDatePost();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Unit
            PROPERTIES
              AllowEdit           #No
              Visible             #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD QtyUnit
            PROPERTIES
              AllowEdit           #No
              Visible             #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #dJenjang
          #// naski 12/23/2015 - display jenjang
          #display Description dJenjang(InventJournalTrans _trans)
          #{
          #    InventTable     iTable;
          #    AGR_GradeItem   grd;
          #    ;
          #    select firstfast firstonly iTable
          #        where iTable.ItemId == _trans.ItemId;
          #
          #    return AGR_GradeItem::find(iTable.AGR_ItemGrade).AGR_GradeName;
          #}
        ENDSOURCE
        SOURCE #AvailPhys
          #// naski 2/5/2014 - display available physical
          #display InventQtyAvailPhysical AvailPhys(InventJournalTrans _trans)
          #{
          #    InventSum invSum;
          #    ;
          #    select firstfast firstonly invSum
          #        where invSum.ItemId == _trans.ItemId
          #        && invSum.InventDimId == _trans.InventDimId;
          #
          #    return invSum.availPhysical();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #    InventItemLocation  ILocation;
          #    ;
          #    inventJournalTrans.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    ret = super();
          #
          #    //pman Dec 2011 --> Validasi ItemDimension
          #    select * from ILocation where ILocation.ItemId == inventJournalTrans.ItemId && ILocation.inventDimId == inventJournalTrans.InventDimId;
          #    if(!ILocation)
          #       {
          #           ILocation.ItemId      = inventJournalTrans.ItemId;
          #           ILocation.inventDimId = inventJournalTrans.InventDimId;
          #           ILocation.insert();
          #       }
          #
          #    ret = journalFormTrans.datasourceValidateWritePost(ret);
          #
          #
          #    if (InventItemLocation::isCountingStarted(inventJournalTrans.ItemId, inventDim, inventJournalTrans.JournalId))
          #        ret = checkFailed(strfmt("@SYS59534", inventJournalTrans.ItemId, inventDim.InventLocationId));
          #
          #    //pman Dec 2011 --> Validasi ItemDimension
          #    element.Validate_CountingLine_Erl(InventJournalTrans);
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #Write
          #// AOSRunMode::Client
          #void write()
          #{
          #    ;
          #    try
          #    {
          #        journalFormTrans.datasourceWritePre();
          #
          #        ttsbegin;
          #
          #        super();
          #
          #        journalFormTrans.datasourceWritePost();
          #
          #        ttscommit;
          #    }
          #    catch (Exception::Error)
          #    {
          #        if (!inventJournalTrans.RecId)
          #            inventJournalTrans.InventTransId = '';
          #        throw Exception::Error;
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #void init()
          #{
          #    super();
          #
          #    journalFormTrans.datasourceInitPost(inventJournalTrans);
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #   /* super();
          #
          #    journalFormTrans.datasourceExecuteQueryPost();*/
          #
          #     Query                   q ;
          #    QueryRun                qr;
          #    queryBuildDataSource    qbds,qbds1,qbds2;
          #    queryBuildRange         queryBuildRange1,queryBuildRange2;
          #
          #        super();
          #
          #   // Query                   q ;
          #    //QueryRun                qr;
          #    //queryBuildDataSource    qbds,qbds1,qbds2;
          #
          #   /* journalFormTrans.datasourceExecuteQueryPost();*/
          #
          #  q = new Query();
          #qbds = q.addDataSource(tableNum(Inventdim), tableStr(Inventdim));
          #qbds1 = qbds.addDataSource(tableNum(inventlocation), tableStr(inventlocation));
          #qbds2 = qbds1.addDataSource(tablenum(inventjournaltrans),tablestr(inventjournaltrans));
          #qbds2.relations(true);
          #qbds2.joinMode(JoinMode::InnerJoin);
          #  //qbds.addRange(fieldNum(CustInvoiceJour,AGRReceived)).value(enum2str(NoYes::No));
          # qbds1.addRange(fieldnum(inventlocation,agr_consignment)).value(enum2str(noyes::No));
          #
          #// Add our two ranges
          #//ueryBuildRange1 = qbds.addRange(fieldNum(inventdim, inventdimid));
          #//ueryBuildRange2 = qbds1.addRange(fieldNum(inventlocation, inventlocationid));
          #
          #
          #   //this.query().dataSourceTable(tablenum(inventjournaltable)).addRange(fieldnum(inventjournaltable,Journalnameid)).value("51-SR");
          #
          #}
        ENDSOURCE
        SOURCE #LinkActive
          #void linkActive()
          #{
          #    ;
          #    journalFormTrans.datasourceLinkActivePre();
          #    super();
          #}
          #
        ENDSOURCE
        SOURCE #InitValue
          #void initValue()
          #{
          #    ;
          #    journalFormTrans.datasourceInitValuePre();
          #
          #    super();
          #
          #    journalFormTrans.datasourceInitValuePost();
          #
          #}
          #
        ENDSOURCE
        SOURCE #create
          #void create(boolean append = false)
          #{
          #    ;
          #    journalFormTrans.datasourceCreatePre();
          #    super(append);
          #}
        ENDSOURCE
        SOURCE #delete
          #//AOSRunMode::Client
          #void delete()
          #{
          #    ttsbegin;
          #
          #    journalFormTrans.datasourceDeletePre();
          #
          #    super();
          #
          #    journalFormTrans.datasourceDeletePost();
          #
          #    ttscommit;
          #}
        ENDSOURCE
        SOURCE #lineLogImage
          #//BP Deviation documented
          #display Integer lineLogImage(InventJournalTrans _journalTrans)
          #{
          #    return journalFormTrans.datasourceMethodLineLogImage(_journalTrans);
          #}
        ENDSOURCE
        SOURCE #Active
          #int active()
          #{
          #    int ret;
          #    ret = super();
          #    journalFormTrans.datasourceActivePost();
          #    element.validateButton();
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          JoinSource          #InventJournalTrans
          LinkType            #InnerJoin
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim,fieldnum(InventDim,InventBatchId));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim,fieldnum(InventDim,wMSLocationId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSPalletId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim,fieldnum(InventDim, wMSPalletId));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim,fieldnum(InventDim,InventSerialId));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #void modified()
                #{
                #
                #    super();
                #
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim,fieldnum(InventDim,InventLocationId));
                #
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD configId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim,fieldnum(InventDim,ConfigId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSizeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim, fieldnum(InventDim,InventSizeId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventColorId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    journalFormTrans.fieldModifiedInventDimFieldsPost(inventDim, fieldnum(InventDim,InventColorId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #write
          #public void write()
          #{
          #//    super();
          #  boolean ret;
          #    erl_viewlocation erl_viewlocation;
          #    ;
          #   // ret = super();
          #
          #    select inventlocationid,name,agr_consignment from erl_viewlocation
          #    group by inventlocationid,name,agr_consignment
          #    where erl_viewlocation.AGR_Consignment == noyes::No &&
          #          erl_viewlocation.InventLocationId == inventdim.InventLocationId;
          #
          #            if (erl_viewlocation)
          #         {
          #          //info("Ada");
          #         }
          #             else
          #         {
          #            throw error("Warehouse harus terisi");
          #
          #         }
          #
          #
          #
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #    journalFormTrans.inventDimInitPost(inventDim);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    InventDim InventJournalTrans
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #@SYS24048
      TitleDatasource     #InventJournalTrans
      HTMLHelpFile        #HTMLHelpFileIWorker
      HTMLHelpTopic       #AxShared.chm::/html/D139443C-DA98-4A34-BD12-BBF179A4FBF6.htm
      HideIfEmpty         #No
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          Tabs                #5
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overview
              Caption             #@SYS9039
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  Width               #Column width
                  Height              #Column height
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #InventJournalTrans_TransDate
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/e8e9e111-83d9-4b01-80c0-4040bf67bbd1.htm
                        DataSource          #InventJournalTrans
                        DataField           #TransDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTrans_Voucher
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/1ee73012-11fa-42dc-b0c7-462c4923c5dc.htm
                        DataSource          #InventJournalTrans
                        DataField           #Voucher
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTrans_ItemId
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/88b071c3-c8d5-484a-bf81-d9fd0d1fdc58.htm
                        DataSource          #InventJournalTrans
                        DataField           #ItemId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #itemName
                        AllowEdit           #No
                        DataSource          #InventJournalTrans
                        DataMethod          #itemName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #InventoryDimensionsGrid
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/07E8F594-31D3-4A66-94A6-A2C1C16B80D4.htm
                        BackgroundColor     #Window background
                        DataSource          #InventDim
                        DataGroup           #InventoryDimensions
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #INventJournalTrans_InventOnHand
                        AllowEdit           #No
                        Skip                #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/1d5d8ff8-908b-4fa5-93ec-e7db3ac01e0a.htm
                        DisplaceNegative    #0
                        DataSource          #InventJournalTrans
                        DataField           #InventOnHand
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventJournalTrans_Counted
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/ec811b95-03f9-4168-8218-9f2b7399ccf2.htm
                        DisplaceNegative    #0
                        DataSource          #InventJournalTrans
                        DataField           #Counted
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventJournalTrans_Qty
                        AllowEdit           #No
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/b7d28382-b461-4e28-8150-45c6e3d0e23b.htm
                        DataSource          #InventJournalTrans
                        DataField           #Qty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Ledger_Dimension[1]
                        DataSource          #InventJournalTrans
                        DataField           #Dimension[1]
                        Mandatory           #Yes
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Ledger_Dimension[2]
                        DataSource          #InventJournalTrans
                        DataField           #Dimension[2]
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #InventJournalTrans_EmplId
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/6a22e306-7524-44d7-bb6e-da0a2636a987.htm
                        DataSource          #InventJournalTrans
                        DataField           #EmplId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL WINDOW
                      PROPERTIES
                        Name                #lineLogImage
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        Width               #18
                        Height              #12
                        AlignControl        #No
                        Imagemode           #Size to fit
                        Label               #@SYS2515
                        DataSource          #InventJournalTrans
                        DataMethod          #lineLogImage
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #AvailPhys
                        AllowEdit           #No
                        DataSource          #InventJournalTrans
                        DataMethod          #AvailPhys
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #dJenjang
                        AllowEdit           #No
                        Label               #Jenjang
                        DataSource          #InventJournalTrans
                        DataMethod          #dJenjang
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #General
              Caption             #@SYS2952
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Identification
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/3F31D068-963A-4BCA-9031-112010CA8C4F.htm
                  DataSource          #InventJournalTrans
                  DataGroup           #Identification
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #JournalId
                        DataSource          #InventJournalTrans
                        DataField           #JournalId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #LineNum
                        DataSource          #InventJournalTrans
                        DataField           #LineNum
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #TransDate
                        DataSource          #InventJournalTrans
                        DataField           #TransDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Voucher
                        AutoDeclaration     #Yes
                        DataSource          #InventJournalTrans
                        DataField           #Voucher
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #JournalLine
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/02462C78-DC8C-446F-B70E-5FC5873C0CDE.htm
                  DataSource          #InventJournalTrans
                  DataGroup           #JournalLine
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #Qty
                        DataSource          #InventJournalTrans
                        DataField           #Qty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #CostPrice
                        AutoDeclaration     #Yes
                        DataSource          #InventJournalTrans
                        DataField           #CostPrice
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #PriceUnit
                        DataSource          #InventJournalTrans
                        DataField           #PriceUnit
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #CostMarkup
                        DataSource          #InventJournalTrans
                        DataField           #CostMarkup
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #CostAmount
                        AutoDeclaration     #Yes
                        DataSource          #InventJournalTrans
                        DataField           #CostAmount
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #JournalLine_Unit
                        DataSource          #InventJournalTrans
                        DataField           #Unit
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #JournalLine_QtyUnit
                        DataSource          #InventJournalTrans
                        DataField           #QtyUnit
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #JournalLine_UnitInvent
                        DataSource          #InventJournalTrans
                        DataField           #UnitInvent
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Inventory
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/FFE891B4-9AB6-4204-BC61-C61A42A730EC.htm
                  DataSource          #InventJournalTrans
                  DataGroup           #Inventory
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #Counting
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/4468F79D-E495-480E-9D97-749C608AE0CD.htm
                  DataSource          #InventJournalTrans
                  DataGroup           #Counting
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #InventOnHand
                        AllowEdit           #No
                        DisplaceNegative    #0
                        DataSource          #InventJournalTrans
                        DataField           #InventOnHand
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #Counted
                        AllowEdit           #No
                        DisplaceNegative    #0
                        DataSource          #InventJournalTrans
                        DataField           #Counted
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #EmplId
                        DataSource          #InventJournalTrans
                        DataField           #EmplId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL TABPAGE
            PROPERTIES
              Name                #Dimension
              Caption             #@SYS14926
              Columns             #2
              ArrangeGuide        
                ARRAY INDEX Columns 
                  #0
                  #0
                ENDARRAY
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GROUP
                PROPERTIES
                  Name                #Ledger
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/8CF7D17A-F741-4BD2-8FEA-CB78C3D53F56.htm
                  Caption             #@SYS13356
                  DataSource          #InventJournalTrans
                  DataGroup           #Dimension
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
              CONTROL GROUP
                PROPERTIES
                  Name                #InventoryDimensions
                  HTMLHelpFile        #HTMLHelpFileAxShared
                  HTMLHelpTopic       #html/3C8ABDB5-C5E2-41C8-9D85-89D720994D68.htm
                  DataSource          #InventDim
                  DataGroup           #InventoryDimensions
                  AutoDataGroup       #Yes
                ENDPROPERTIES
                
                  CONTAINER
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroup
        ENDPROPERTIES
        
        CONTAINER
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #CheckJournal
              AutoDeclaration     #Yes
              MenuItemType        #Action
              MenuItemName        #InventJournalCheck
              DataSource          #InventJournalTrans
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #    InventJournalTrans Jourtrans;
                #    ;
                #    while select * from Jourtrans where Jourtrans.JournalId == InventJournalTrans.JournalId
                #    {
                #      element.Validate_CountingLine_Erl(Jourtrans);
                #    }
                #
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDCONTROL 
          
          CONTROL MENUITEMBUTTON
            PROPERTIES
              Name                #PostJournal
              AutoDeclaration     #Yes
              MenuItemType        #Action
              MenuItemName        #InventJournalPost
              DataSource          #InventJournalTrans
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #    InventJournalTable  locinventJournalTable;
                #    InventJournalTrans  _inventJournalTrans,transcount;
                #    int                 summ;
                #    ;
                #
                #    super();
                #
                #    // naski add 4/22/2013 - number of posted items
                #    ttsbegin;
                #    select forupdate locinventjournaltable where
                #        locinventjournaltable.JournalId == inventjournalTrans.JournalId;
                #
                #    while select itemid from _inventjournaltrans
                #        group by itemid where
                #        _inventjournaltrans.JournalId == locinventjournaltable.JournalId
                #    {
                #        summ++;
                #    }
                #
                #    locinventjournaltable.ERL_ItemNum = summ;
                #    locinventjournaltable.update();
                #
                #    ttscommit;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDCONTROL 
          
          CONTROL BUTTON
            PROPERTIES
              Name                #ShowInfoLog
              AutoDeclaration     #Yes
              HelpText            #@SYS85244
              Text                #@SYS2515
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #clicked
                #void clicked()
                #{
                #    super();
                #
                #    journalFormTrans.buttonClickedShowInfolog();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDCONTROL 
          
          CONTROL MENUBUTTON
            PROPERTIES
              Name                #Functions
              HelpText            #@SYS69656
              Text                #@SYS10340
            ENDPROPERTIES
            
            CONTAINER
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventJournalDeleteTrans
                  MenuItemType        #Action
                  MenuItemName        #InventJournalDeleteTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL BUTTON
                PROPERTIES
                  Name                #btnSplit
                  AutoDeclaration     #Yes
                  Text                #Split Multi-Warehouse
                ENDPROPERTIES
                
                METHODS
                  Version: 3
                  SOURCE #clicked
                    #void clicked()
                    #{
                    #    super();
                    #
                    #    element.splitSharedStock();
                    #}
                  ENDSOURCE
                ENDMETHODS
              ENDCONTROL 
              
              CONTROL BUTTON
                PROPERTIES
                  Name                #btnUpload
                  AutoDeclaration     #Yes
                  Text                #Upload (BU 51 Only)
                ENDPROPERTIES
                
                METHODS
                  Version: 3
                  SOURCE #clicked
                    #void clicked()
                    #{
                    #    super();
                    #    element.upload51();
                    #    InventJournalTrans_ds.research();
                    #}
                  ENDSOURCE
                ENDMETHODS
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL MENUBUTTON
            PROPERTIES
              Name                #InventoryMenu
              HelpText            #@SYS28780
              Text                #@SYS981
              SaveRecord          #No
            ENDPROPERTIES
            
            CONTAINER
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventTrans
                  MenuItemName        #InventTrans
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventOnHandButton
                  MenuItemName        #InventOnhand
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventLot
                  MenuItemName        #InventLot
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventDimTracking
                  MenuItemName        #InventDimTracking
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL SEPARATOR
                PROPERTIES
                  Name                #Separator1
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventReserve
                  MenuItemName        #InventReserve
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventMarking
                  MenuItemName        #INventMarking
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL SEPARATOR
                PROPERTIES
                  Name                #Separator3
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #Register
                  MenuItemName        #InventTransRegister
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #Pick
                  MenuItemName        #InventTransPick
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL SEPARATOR
                PROPERTIES
                  Name                #Separator2
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #WMSOrderAllowCreate
                  MenuItemName        #WMSOrderAllowCreate
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL SEPARATOR
                PROPERTIES
                  Name                #Separator
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventDimParmFixed
                  SaveRecord          #No
                  MenuItemName        #InventDimParmFixed
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
          CONTROL MENUBUTTON
            PROPERTIES
              Name                #Count
              HelpText            #@SYS28783
              Text                #@SYS14364
              SaveRecord          #No
            ENDPROPERTIES
            
            CONTAINER
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventCountCreate
                  AutoDeclaration     #Yes
                  AllowEdit           #No
                  Text                #@SYS4118
                  SaveRecord          #No
                  MenuItemType        #Action
                  MenuItemName        #InventCountCreate
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventCountCreateItems
                  AutoDeclaration     #Yes
                  Visible             #No
                  AllowEdit           #No
                  Enabled             #No
                  Text                #@SYS15649
                  SaveRecord          #No
                  MenuItemType        #Action
                  MenuItemName        #InventCountCreateItems
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
              CONTROL MENUITEMBUTTON
                PROPERTIES
                  Name                #InventCountCreate_BatchExpired
                  AutoDeclaration     #Yes
                  AllowEdit           #No
                  Text                #@SYS78950
                  SaveRecord          #No
                  MenuItemType        #Action
                  MenuItemName        #InventCountCreate_BatchExpired
                  DataSource          #InventJournalTrans
                ENDPROPERTIES
                
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #CopyOfERL_OpnameHistory
  PROPERTIES
    Name                #CopyOfERL_OpnameHistory
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    ERL_StockOpnameLines        opLines;
      #    QueryBuildDatasource        qbds;
      #    Dimension1                  bu;
      #    MultiSelectionHelper        selectionHelper;
      #
      #    Dialog      dialog;
      #    DialogField dItem, dLoc;
      #
      #    ItemId              itemid;
      #    NoyesId             Locfound;
      #}
    ENDSOURCE
    SOURCE #initialize
      #void initialize()
      #{
      #    ;
      #    qbds = ERL_StockOpnameLines_ds.query().dataSourceTable(tablenum(ERL_StockOpnameLines));
      #    qbds.clearRanges();
      #
      #    bu = SysuserInfo::find(curuserid()).Dimension1;
      #
      #    qbds.addRange(fieldnum(ERL_StockOpnameLines, ERL_MasterWHId)).value(sysquery::value(bu));
      #
      #    if(itemid != '')
      #    {
      #        qbds.addRange(fieldnum(ERL_StockOpnameLines, ItemId)).value(sysquery::value(itemId));
      #    }
      #    if(locFound == noyes::Yes)
      #    {
      #        qbds.addRange(fieldnum(ERL_StockOpnameLines, LocationFound)).value(sysquery::value(NoYes::No));
      #    }
      #    else
      #    {
      #        qbds.clearRange(fieldnum(ERL_StockOpnameLines, LocationFound));
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    ;
      #    dialog = new Dialog('Stock Counting History');
      #
      #    dItem = dialog.addFieldValue(typeid(ItemId), itemid);
      #    dLoc = dialog.addFieldValue(typeid(Noyesid), locFound, 'Location Not Found ? ');
      #
      #    dialog.run();
      #    if(dialog.closedOk())
      #    {
      #        super();
      #        itemid = dItem.value();
      #        locFound = dloc.value();
      #        this.initialize();
      #    }
      #    else
      #    {
      #        super();
      #        this.closeOk();
      #    }
      #
      #
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_StockOpnameLines
          Table               #ERL_StockOpnameLines
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #ItemName
          #Display ItemName ItemName(ERL_StockOpnameLines  _lines)
          #{
          #    ;
          #    return InventTable::find(_lines.ItemId, false).itemName;
          #
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    super();
          #    //qbr.value(sysquery::value(LocationCheckBox.value()));
          #
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #TopFields
          Visible             #No
          Width               #Column width
          Height              #50
          Caption             #Option
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
          CONTAINER
            CONTROL CHECKBOX
              PROPERTIES
                Name                #LocationCheckBox
                AutoDeclaration     #Yes
                Label               #New Location
              ENDPROPERTIES
              
              METHODS
                Version: 3
                SOURCE #modified
                  #public boolean modified()
                  #{
                  #    boolean ret;
                  #
                  #    ret = super();
                  #
                  #    ERL_StockOpnameLines_ds.executeQuery();
                  #    return ret;
                  #}
                ENDSOURCE
              ENDMETHODS
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          Tabs                #1
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overview
              Caption             #@SYS9039
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  AllowEdit           #No
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_StockOpnameLines
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ERL_MasterWHID
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ERL_MasterWHID
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ItemId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ItemId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ItemName
                        Label               #Item Name
                        DataSource          #ERL_StockOpnameLines
                        DataMethod          #ItemName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_AdminId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #AdminId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_wMsLocationId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #wMsLocationId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_wMSLocationIdNew
                        DataSource          #ERL_StockOpnameLines
                        DataField           #wMSLocationIdNew
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL CHECKBOX
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_LocationFound
                        Visible             #No
                        BackgroundColor     #Window background
                        DataSource          #ERL_StockOpnameLines
                        DataField           #LocationFound
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_PhysicalQty
                        DataSource          #ERL_StockOpnameLines
                        DataField           #PhysicalQty
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL REALEDIT
                      PROPERTIES
                        Name                #Onhand
                        Label               #Onhand
                        DataSource          #ERL_StockOpnameLines
                        DataMethod          #OnHand
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL COMBOBOX
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ERL_JournalStatus
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ERL_JournalStatus
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_OpnameRefrenceId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #OpnameRefrenceId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_ERL_OpnameTagId
                        DataSource          #ERL_StockOpnameLines
                        DataField           #ERL_OpnameTagId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL DATEEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_TransDate
                        DataSource          #ERL_StockOpnameLines
                        DataField           #TransDate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_Username
                        DataSource          #ERL_StockOpnameLines
                        DataField           #Username
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_StockOpnameLines_createdBy
                        DataSource          #ERL_StockOpnameLines
                        DataField           #createdBy
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_UserLoginAndroid
  PROPERTIES
    Name                #ERL_UserLoginAndroid
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_UserLoginAndroid
          Table               #ERL_UserLoginAndroid
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
  ENDJOINS
  
  DESIGN
    PROPERTIES
    ENDPROPERTIES
    
    CONTAINER
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
        CONTAINER
          CONTROL TABPAGE
            PROPERTIES
              Name                #Overview
              Caption             #Overview
            ENDPROPERTIES
            
            CONTAINER
              CONTROL GRID
                PROPERTIES
                  Name                #Grid
                  AutoDeclaration     #Yes
                  Width               #Column width
                  Height              #Column height
                  DataSource          #ERL_UserLoginAndroid
                ENDPROPERTIES
                
                  CONTAINER
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grid_UserId
                        DataSource          #ERL_UserLoginAndroid
                        DataField           #UserId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grid_UserName
                        DataSource          #ERL_UserLoginAndroid
                        DataField           #UserName
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grid_Password
                        DataSource          #ERL_UserLoginAndroid
                        DataField           #Password
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grid_EmplId
                        DataSource          #ERL_UserLoginAndroid
                        DataField           #EmplId
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #ERL_UserLoginAndroid_Name
                        DataSource          #ERL_UserLoginAndroid
                        DataField           #Name
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL STRINGEDIT
                      PROPERTIES
                        Name                #Grid_Dimension1
                        DataSource          #ERL_UserLoginAndroid
                        DataField           #Dimension1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
              ENDCONTROL 
              
            ENDCONTAINER
            
          ENDCONTROL 
          
        ENDCONTAINER
        
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #ERL_UserStockOpname
  PROPERTIES
    Name                #ERL_UserStockOpname
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    Dimension1              bu;
      #    SysUserInfo             SysUserInfo;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #
      #    select SysUserInfo where SysUserInfo.Id == curuserid();
      #    bu = SysUserInfo.Dimension1;
      #
      #    if (SysUserInfo.RecId && bu != "50")
      #    {
      #        ERL_OpnameGroup_ds.query().dataSourceTable(tablenum(ERL_OpnameGroup)).addRange(
      #        fieldnum(erl_opnamegroup, inventsiteid)).value(sysquery::value(bu));
      #
      #        ERL_UserLoginAndroid_ds.query().dataSourceTable(tablenum(ERL_UserLoginAndroid)).addRange(
      #        fieldnum(ERL_UserLoginAndroid, Dimension1)).value(sysquery::value(bu));
      #    }
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_UserStockOpnameMap
          Table               #ERL_UserStockOpnameMap
          JoinSource          #ERL_OpnameGroup
          LinkType            #Active
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD UserId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    ERL_UserLoginAndroid_ds.research();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_OpnameGroup
          Table               #ERL_OpnameGroup
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ERL_UserLoginAndroid
          Table               #ERL_UserLoginAndroid
          AllowEdit           #No
          AllowCreate         #No
          JoinSource          #ERL_UserStockOpnameMap
          LinkType            #InnerJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    ERL_UserStockOpnameMap ERL_OpnameGroup
    ERL_UserLoginAndroid ERL_UserStockOpnameMap
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #User Stock Opname
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #Header
          Width               #Column width
          Height              #Column height
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #Tab
                Width               #Column width
                Height              #Column height
                Tabs                #1
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #Overview
                    Caption             #Overview
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #UserGroup
                        Width               #Column width
                        Height              #Column height
                        DataSource          #ERL_OpnameGroup
                        DataGroup           #Overview
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #UserGroup_OpnameGroupId
                              DataSource          #ERL_OpnameGroup
                              DataField           #OpnameGroupId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #UserGroup_OpnameGroupName
                              DataSource          #ERL_OpnameGroup
                              DataField           #OpnameGroupName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #UserGroup_InventSiteId
                              DataSource          #ERL_OpnameGroup
                              DataField           #InventSiteId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #UserGroup_ERL_MasterWHID
                              DataSource          #ERL_OpnameGroup
                              DataField           #ERL_MasterWHID
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #UserGroup_ERL_OpnamePeriodeId
                              DataSource          #ERL_OpnameGroup
                              DataField           #ERL_OpnamePeriodeId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Lines
          Width               #Column width
          Height              #Column height
          DataSource          #ERL_UserStockOpnameMap
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #Tab1
                Width               #Column width
                Height              #Column height
                DataSource          #ERL_UserStockOpnameMap
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabPage
                    Caption             #Lines
                    DataSource          #ERL_UserStockOpnameMap
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #Mapped
                        AutoDeclaration     #Yes
                        Width               #Column width
                        Height              #Column height
                        DataSource          #ERL_UserStockOpnameMap
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_UserStockOpnameMap_UserId
                              AutoDeclaration     #Yes
                              Label               #User Id
                              DataSource          #ERL_UserStockOpnameMap
                              DataField           #UserId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_UserLoginAndroid_Name
                              DataSource          #ERL_UserLoginAndroid
                              DataField           #Name
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_UserLoginAndroid_EmplId
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #ERL_UserLoginAndroid
                              DataField           #EmplId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ERL_UserLoginAndroid_Dimension1
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #ERL_UserLoginAndroid
                              DataField           #Dimension1
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
            CONTROL BUTTONGROUP
              PROPERTIES
                Name                #ButtonGroup
              ENDPROPERTIES
              
              CONTAINER
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #ERL_UserLoginAndroid1
                    Text                #User Detail
                    MenuItemName        #ERL_UserLoginAndroid
                  ENDPROPERTIES
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: DBT

; Microsoft Dynamics AX Table : ERL_GradeStockOpname unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_GradeStockOpname
    PROPERTIES
      Name                #ERL_GradeStockOpname
    ENDPROPERTIES
    
    FIELDS
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_GradeStockOpname
          ExtendedDataType    
            ARRAY 
              #InventSiteId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #AGR_ItemGrade
        STRING
        PROPERTIES
          Name                #AGR_ItemGrade
          Table               #ERL_GradeStockOpname
          ExtendedDataType    
            ARRAY 
              #AGR_ItemGrade
              #
            ENDARRAY
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #InventLocationId
        STRING
        PROPERTIES
          Name                #InventLocationId
          Table               #ERL_GradeStockOpname
          ExtendedDataType    
            ARRAY 
              #InventLocationId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #GradeIdx
      PROPERTIES
        Name                #GradeIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #AGR_ItemGrade
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #ItemName
        #Display ItemName ItemName()
        #{
        #    ;
        #    return AGR_gradeItem::find(this.AGR_ItemGrade).AGR_GradeName;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnamePeriodeEvent unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnamePeriodeEvent
    PROPERTIES
      Name                #ERL_OpnamePeriodeEvent
      Label               #Opname Periode Event
    ENDPROPERTIES
    
    FIELDS
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Label               #Desc
          Table               #ERL_OpnamePeriodeEvent
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Label               #From Date
          Mandatory           #Yes
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Label               #To Date
          Mandatory           #Yes
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #PeriodeEventStatus
        ENUM
        PROPERTIES
          Name                #PeriodeEventStatus
          Table               #ERL_OpnamePeriodeEvent
          EnumType            #ERL_OpnamePeriodeEventStatus
        ENDPROPERTIES
        
      FIELD #Sampling
        ENUM
        PROPERTIES
          Name                #Sampling
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #Description
          #FromDate
          #ToDate
          #Dimension
          #PeriodeEventStatus
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #DateIdx
      PROPERTIES
        Name                #DateIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #FromDate
        #ToDate
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #find
        #static ERL_OpnamePeriodeEvent find(ERL_OpnamePeriodeRecId      recId)
        #{
        #    ERL_OpnamePeriodeEvent  ERL_OpnamePeriodeEvent;
        #    ;
        #
        #    if (recId)
        #    {
        #        select firstonly ERL_OpnamePeriodeEvent
        #            where ERL_OpnamePeriodeEvent.RecId == recId;
        #    }
        #
        #    return ERL_OpnamePeriodeEvent;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnamePeriodeEvent unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnamePeriodeEvent
    PROPERTIES
      Name                #ERL_OpnamePeriodeEvent
      Label               #Opname Periode Event
    ENDPROPERTIES
    
    FIELDS
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Label               #Desc
          Table               #ERL_OpnamePeriodeEvent
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Label               #From Date
          Mandatory           #Yes
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Label               #To Date
          Mandatory           #Yes
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #PeriodeEventStatus
        ENUM
        PROPERTIES
          Name                #PeriodeEventStatus
          Table               #ERL_OpnamePeriodeEvent
          EnumType            #ERL_OpnamePeriodeEventStatus
        ENDPROPERTIES
        
      FIELD #Sampling
        ENUM
        PROPERTIES
          Name                #Sampling
          Table               #ERL_OpnamePeriodeEvent
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #Description
          #FromDate
          #ToDate
          #Dimension
          #PeriodeEventStatus
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #DateIdx
      PROPERTIES
        Name                #DateIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #FromDate
        #ToDate
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #find
        #static ERL_OpnamePeriodeEvent find(ERL_OpnamePeriodeRecId      recId)
        #{
        #    ERL_OpnamePeriodeEvent  ERL_OpnamePeriodeEvent;
        #    ;
        #
        #    if (recId)
        #    {
        #        select firstonly ERL_OpnamePeriodeEvent
        #            where ERL_OpnamePeriodeEvent.RecId == recId;
        #    }
        #
        #    return ERL_OpnamePeriodeEvent;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameUserAndroid unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameUserAndroid
    PROPERTIES
      Name                #ERL_OpnameUserAndroid
    ENDPROPERTIES
    
    FIELDS
      FIELD #Username
        STRING
        PROPERTIES
          Name                #Username
          Table               #ERL_OpnameUserAndroid
          ExtendedDataType    
            ARRAY 
              #ERL_UsernameAndroid
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #Password
        STRING
        PROPERTIES
          Name                #Password
          Mandatory           #Yes
          Table               #ERL_OpnameUserAndroid
          ExtendedDataType    
            ARRAY 
              #CustWebMsg
              #
            ENDARRAY
          StringSize          #255
        ENDPROPERTIES
        
      FIELD #Dimension1
        STRING
        PROPERTIES
          Name                #Dimension1
          Label               #Business Unit
          Mandatory           #Yes
          Table               #ERL_OpnameUserAndroid
          ExtendedDataType    
            ARRAY 
              #Dimension1
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #EmplId
        STRING
        PROPERTIES
          Name                #EmplId
          Label               #Nik
          Mandatory           #Yes
          Table               #ERL_OpnameUserAndroid
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          Table               #ERL_OpnameUserAndroid
          StringSize          #50
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #Username
          #Password
          #Name
          #EmplId
          #Dimension1
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #usernamex
      PROPERTIES
        Name                #usernamex
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #Username
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #modifiedField
        #public void modifiedField(fieldId _fieldId)
        #{
        #    super(_fieldId);
        #    switch(_fieldId)
        #    {
        #        case fieldnum(ERL_OpnameUserAndroid, EmplId):
        #            this.Name = HRSEmployeeTable::find(this.EmplId).Name;
        #            this.Username = this.EmplId;
        #            this.Password = "123456";
        #            break;
        #
        #        case fieldnum(ERL_OpnameUserAndroid, Username):
        #            this.Dimension1 = ERL_Global::getUserBU();
        #            break;
        #
        #    }
        #}
      ENDSOURCE
      SOURCE #find
        #static ERL_OpnameUserAndroid find(ERL_usernameAndroid      username)
        #{
        #    ERL_OpnameUserAndroid  ERL_OpnameUserAndroid;
        #    ;
        #
        #    if (username)
        #    {
        #        select firstonly ERL_OpnameUserAndroid
        #            index hint usernamex
        #            where ERL_OpnameUserAndroid.Username == username;
        #    }
        #
        #    return ERL_OpnameUserAndroid;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameUserGroup unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameUserGroup
    PROPERTIES
      Name                #ERL_OpnameUserGroup
      ModifiedBy          #Yes
      CreatedBy           #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Label               #Desc
          Table               #ERL_OpnameUserGroup
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_OpnameUserGroup
          ExtendedDataType    
            ARRAY 
              #InventSiteId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #MasterWHID
        STRING
        PROPERTIES
          Name                #MasterWHID
          Table               #ERL_OpnameUserGroup
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PeriodeRecId
        INT64
        PROPERTIES
          Name                #PeriodeRecId
          Table               #ERL_OpnameUserGroup
          ExtendedDataType    
            ARRAY 
              #ERL_OpnamePeriodeRecId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          Table               #ERL_OpnameUserGroup
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #ERL_OpnamePeriodeEvent
        #ERL_OpnamePeriodeEvent ERL_OpnamePeriodeEvent(ERl_OpnamePeriodeRecId recId = this.PeriodeRecId)
        #{
        #   return ERL_OpnamePeriodeEvent::find(recId);
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(fieldId _fieldId)
        #{
        #    super(_fieldId);
        #    switch(_fieldId)
        #    {
        #        case fieldnum(ERL_OpnameUserGroup, Description):
        #            this.Dimension[1]= ERL_Global::getUserBU();
        #            this.Dimension[2]= ERL_OpnameCostCenter::find(this.Dimension[1]).Dimension2;
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #PeriodeDesc
        #Display Name PeriodeDesc()
        #{
        #    return this.ERL_OpnamePeriodeEvent().Description;
        #}
      ENDSOURCE
      SOURCE #PeriodeFromDate
        #Display Date PeriodeFromDate()
        #{
        #    return this.ERL_OpnamePeriodeEvent().FromDate;
        #}
      ENDSOURCE
      SOURCE #PeriodeToDate
        #Display Date PeriodeToDate()
        #{
        #    return this.ERL_OpnamePeriodeEvent().ToDate;
        #}
      ENDSOURCE
      SOURCE #find
        #static ERL_OpnameUserGroup find(ERL_OpnameGroupRecId      recId)
        #{
        #    ERL_OpnameUserGroup  ERL_OpnameUserGroup;
        #    ;
        #
        #    if (recId)
        #    {
        #        select firstonly ERL_OpnameUserGroup
        #            where ERL_OpnameUserGroup.RecId == recId;
        #    }
        #
        #    return ERL_OpnameUserGroup;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameUserGroupMap unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameUserGroupMap
    PROPERTIES
      Name                #ERL_OpnameUserGroupMap
      ModifiedBy          #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #GroupRecId
        INT64
        PROPERTIES
          Name                #GroupRecId
          Table               #ERL_OpnameUserGroupMap
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameGroupRecId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Username
        STRING
        PROPERTIES
          Name                #Username
          Table               #ERL_OpnameUserGroupMap
          ExtendedDataType    
            ARRAY 
              #ERL_UsernameAndroid
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
      REFERENCE #ERL_OpnameUserGroup
        PROPERTIES
          Name                #ERL_OpnameUserGroup
          Table               #ERL_OpnameUserGroup
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #GroupRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #Dim
        #Display Dimension1 Dim()
        #{
        #    return this.ERL_OpnameUserAndroid().Dimension1;
        #}
        #
      ENDSOURCE
      SOURCE #emplid
        #Display EmplId emplid()
        #{
        #    return this.ERL_OpnameUserAndroid().EmplId;
        #}
        #
      ENDSOURCE
      SOURCE #ERL_OpnameUserAndroid
        #ERL_OpnameUserAndroid ERL_OpnameUserAndroid(ERL_UsernameAndroid username = this.Username)
        #{
        #   return ERL_OpnameUserAndroid::find(username);
        #}
      ENDSOURCE
      SOURCE #Name
        #Display Name Name()
        #{
        #    return this.ERL_OpnameUserAndroid().Name;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_TagMapping unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_TagMapping
    PROPERTIES
      Name                #ERL_TagMapping
    ENDPROPERTIES
    
    FIELDS
      FIELD #ERL_GroupTagId
        STRING
        PROPERTIES
          Name                #ERL_GroupTagId
          Table               #ERL_TagMapping
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameRefrenceId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_OpnameTagId
        STRING
        PROPERTIES
          Name                #ERL_OpnameTagId
          Table               #ERL_TagMapping
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameTagId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_StockOpname2 unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_StockOpname2
    PROPERTIES
      Name                #ERL_StockOpname2
      CreatedBy           #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #ItemId
        STRING
        PROPERTIES
          Name                #ItemId
          Mandatory           #Yes
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #ItemId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #OpnameGroupId
        STRING
        PROPERTIES
          Name                #OpnameGroupId
          Label               #User Group Id
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #IdBasic
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #UserId
        STRING
        PROPERTIES
          Name                #UserId
          Label               #User Id
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #IdBasic
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PhysicalQty
        REAL
        PROPERTIES
          Name                #PhysicalQty
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #Qty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_MasterWHID
        STRING
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AdminId
        STRING
        PROPERTIES
          Name                #AdminId
          Label               #Admin Id
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_OpnamePeriodeId
        STRING
        PROPERTIES
          Name                #ERL_OpnamePeriodeId
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #ERL_OpnamePeriodeId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #wMSLocationId
        STRING
        PROPERTIES
          Name                #wMSLocationId
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #WMSLocationId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_JournalType
        ENUM
        PROPERTIES
          Name                #ERL_JournalType
          Table               #ERL_StockOpname2
          EnumType            #ERL_JournalStatus
        ENDPROPERTIES
        
      FIELD #ERL_OpnameTagId
        STRING
        PROPERTIES
          Name                #ERL_OpnameTagId
          Table               #ERL_StockOpname2
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameTagId
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
          #PhysicalQty
          #OpnameGroupId
          #UserId
          #ERL_MasterWHID
          #ERL_OpnamePeriodeId
          #AdminId
          #wMSLocationId
          #ERL_JournalType
          #ERL_OpnameTagId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ItemIdIdx
      PROPERTIES
        Name                #ItemIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #itemIdx
        PROPERTIES
          Name                #itemIdx
          Table               #InventTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ItemId
            RelatedField        #ItemId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameTag2 unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameTag2
    PROPERTIES
      Name                #ERL_OpnameTag2
      CreatedDateTime     #Yes
      CreatedBy           #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #ERL_GroupTag
        STRING
        PROPERTIES
          Name                #ERL_GroupTag
          Table               #ERL_OpnameTag2
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameRefrenceId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_MasterWHID
        STRING
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_OpnameTag2
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_OpnamePeriodeId
        STRING
        PROPERTIES
          Name                #ERL_OpnamePeriodeId
          Table               #ERL_OpnameTag2
          ExtendedDataType    
            ARRAY 
              #ERL_OpnamePeriodeId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_StatusOpnameTag
        ENUM
        PROPERTIES
          Name                #ERL_StatusOpnameTag
          Table               #ERL_OpnameTag2
          EnumType            #ERL_StatusOpnameTag
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #ERL_GroupTag
          #ERL_MasterWHID
          #ERL_OpnamePeriodeId
          #ERL_StatusOpnameTag
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
      REFERENCE #TagIdx
        PROPERTIES
          Name                #TagIdx
          Table               #ERL_StockOpname2
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #
            RelatedField        #ERL_OpnameTagId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_UserStockOpnameMap unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_UserStockOpnameMap
    PROPERTIES
      Name                #ERL_UserStockOpnameMap
      Label               #ERL_UserStockOpnameMap
      ModifiedDateTime    #Yes
      ModifiedBy          #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #UserId
        STRING
        PROPERTIES
          Name                #UserId
          Label               #User Id
          Table               #ERL_UserStockOpnameMap
          ExtendedDataType    
            ARRAY 
              #IdBasic
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #OpnameGroupId
        STRING
        PROPERTIES
          Name                #OpnameGroupId
          Label               #User Group Id
          Table               #ERL_UserStockOpnameMap
          ExtendedDataType    
            ARRAY 
              #IdBasic
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
      REFERENCE #GroupId
        PROPERTIES
          Name                #GroupId
          Table               #ERL_OpnameGroup
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #OpnameGroupId
            RelatedField        #OpnameGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #UserId
        PROPERTIES
          Name                #UserId
          Table               #ERL_UserLoginAndroid
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #UserId
            RelatedField        #UserId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnamePeriode unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnamePeriode
    PROPERTIES
      Name                #ERL_OpnamePeriode
      Label               #Opname Periode Id
    ENDPROPERTIES
    
    FIELDS
      FIELD #Description
        STRING
        PROPERTIES
          Name                #Description
          Table               #ERL_OpnamePeriode
          ExtendedDataType    
            ARRAY 
              #Description
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #Active
        ENUM
        PROPERTIES
          Name                #Active
          Table               #ERL_OpnamePeriode
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ERL_OpnamePeriodeId
        STRING
        PROPERTIES
          Name                #ERL_OpnamePeriodeId
          Table               #ERL_OpnamePeriode
          ExtendedDataType    
            ARRAY 
              #ERL_OpnamePeriodeId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #FromDate
        DATE
        PROPERTIES
          Name                #FromDate
          Mandatory           #Yes
          Table               #ERL_OpnamePeriode
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ToDate
        DATE
        PROPERTIES
          Name                #ToDate
          Mandatory           #Yes
          Table               #ERL_OpnamePeriode
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #PeriodeIdx
      PROPERTIES
        Name                #PeriodeIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #UserGroup
        PROPERTIES
          Name                #UserGroup
          Table               #ERL_OpnameGroup
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #
            RelatedField        #
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameGroup unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameGroup
    PROPERTIES
      Name                #ERL_OpnameGroup
    ENDPROPERTIES
    
    FIELDS
      FIELD #OpnameGroupId
        STRING
        PROPERTIES
          Name                #OpnameGroupId
          Label               #User Group Id
          Table               #ERL_OpnameGroup
          ExtendedDataType    
            ARRAY 
              #IdBasic
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #OpnameGroupName
        STRING
        PROPERTIES
          Name                #OpnameGroupName
          Table               #ERL_OpnameGroup
          ExtendedDataType    
            ARRAY 
              #UserGroupName
              #
            ENDARRAY
          StringSize          #40
        ENDPROPERTIES
        
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_OpnameGroup
          ExtendedDataType    
            ARRAY 
              #InventSiteId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_MasterWHID
        STRING
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_OpnameGroup
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ERL_OpnamePeriodeId
        STRING
        PROPERTIES
          Name                #ERL_OpnamePeriodeId
          Table               #ERL_OpnameGroup
          ExtendedDataType    
            ARRAY 
              #ERL_OpnamePeriodeId
              #
            ENDARRAY
          StringSize          #25
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
          Label               #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #OpnameGroupId
          #OpnameGroupName
          #InventSiteId
          #ERL_MasterWHID
          #ERL_OpnamePeriodeId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #UserGroupIdx
      PROPERTIES
        Name                #UserGroupIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #OpnameGroupId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #OpnamePeriode
        PROPERTIES
          Name                #OpnamePeriode
          Table               #ERL_OpnamePeriode
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ERL_OpnamePeriodeId
            RelatedField        #ERL_OpnamePeriodeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WHId
        PROPERTIES
          Name                #WHId
          Table               #ERL_WHStockOpname
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ERL_MasterWHID
            RelatedField        #ERL_MasterWHID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_UserLoginAndroid unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_UserLoginAndroid
    PROPERTIES
      Name                #ERL_UserLoginAndroid
    ENDPROPERTIES
    
    FIELDS
      FIELD #UserName
        STRING
        PROPERTIES
          Name                #UserName
          Table               #ERL_UserLoginAndroid
          ExtendedDataType    
            ARRAY 
              #UserName
              #
            ENDARRAY
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #Password
        STRING
        PROPERTIES
          Name                #Password
          Table               #ERL_UserLoginAndroid
          ExtendedDataType    
            ARRAY 
              #Password
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #UserId
        STRING
        PROPERTIES
          Name                #UserId
          Label               #User Id
          Table               #ERL_UserLoginAndroid
          ExtendedDataType    
            ARRAY 
              #IdBasic
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #EmplId
        STRING
        PROPERTIES
          Name                #EmplId
          Table               #ERL_UserLoginAndroid
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Dimension1
        STRING
        PROPERTIES
          Name                #Dimension1
          Table               #ERL_UserLoginAndroid
          ExtendedDataType    
            ARRAY 
              #Dimension1
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          Table               #ERL_UserLoginAndroid
          StringSize          #50
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
          Label               #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #UserId
          #UserName
          #Password
          #EmplId
          #Dimension1
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #UserGroupIdx
      PROPERTIES
        Name                #UserGroupIdx
      ENDPROPERTIES
      
      INDEXFIELDS
      ENDINDEXFIELDS
      
      #UserIdx
      PROPERTIES
        Name                #UserIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #UserId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #emplname
        #display emplname emplname()
        #{
        #    emplname    ret;
        #    ;
        #
        #    return HRSEmployeeTable::find(this.EmplId).Name;
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(fieldId _fieldId)
        #{
        #    super(_fieldId);
        #    switch(_fieldId)
        #    {
        #        case fieldnum(ERL_UserLoginAndroid, EmplId):
        #            this.Name = HRSEmployeeTable::find(this.EmplId).Name;
        #            break;
        #    }
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameStatus unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameStatus
    PROPERTIES
      Name                #ERL_OpnameStatus
    ENDPROPERTIES
    
    FIELDS
      FIELD #ItemCategoryId
        STRING
        PROPERTIES
          Name                #ItemCategoryId
          Table               #ERL_OpnameStatus
          ExtendedDataType    
            ARRAY 
              #ItemCategoryId
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #Dimension1
        STRING
        PROPERTIES
          Name                #Dimension1
          Table               #ERL_OpnameStatus
          ExtendedDataType    
            ARRAY 
              #Dimension1
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Material
        REAL
        PROPERTIES
          Name                #Material
          Label               #Selisih Material
          Table               #ERL_OpnameStatus
          ExtendedDataType    
            ARRAY 
              #ERL_StockCounted
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #NonMaterial
        REAL
        PROPERTIES
          Name                #NonMaterial
          Label               #Selisih NonMaterial
          Table               #ERL_OpnameStatus
          ExtendedDataType    
            ARRAY 
              #ERL_StockCounted
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_OpnameCostCenter unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_OpnameCostCenter
    PROPERTIES
      Name                #ERL_OpnameCostCenter
    ENDPROPERTIES
    
    FIELDS
      FIELD #Dimension2
        STRING
        PROPERTIES
          Name                #Dimension2
          Table               #ERL_OpnameCostCenter
          ExtendedDataType    
            ARRAY 
              #Dimension2
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension1
        STRING
        PROPERTIES
          Name                #Dimension1
          Table               #ERL_OpnameCostCenter
          ExtendedDataType    
            ARRAY 
              #Dimension1
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #MaxOpnameLines
        INT
        PROPERTIES
          Name                #MaxOpnameLines
          Label               #Max Opname Lines
          Table               #ERL_OpnameCostCenter
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #find
        #static ERL_OpnameCostCenter find(Dimension1      dim)
        #{
        #    ERL_OpnameCostCenter  ERL_OpnameCostCenter;
        #    ;
        #
        #    if (dim)
        #    {
        #        select firstonly ERL_OpnameCostCenter
        #            where ERL_OpnameCostCenter.Dimension1 == dim;
        #    }
        #
        #    return ERL_OpnameCostCenter;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_WHStockOpname unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_WHStockOpname
    PROPERTIES
      Name                #ERL_WHStockOpname
    ENDPROPERTIES
    
    FIELDS
      FIELD #InventLocationId
        STRING
        PROPERTIES
          Name                #InventLocationId
          Mandatory           #Yes
          AllowEdit           #No
          Table               #ERL_WHStockOpname
          ExtendedDataType    
            ARRAY 
              #InventLocationId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_WHStockOpname
          ExtendedDataType    
            ARRAY 
              #InventSiteId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_MasterWHID
        STRING
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_WHStockOpname
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventLocationId
          #InventSiteId
          #ERL_MasterWHID
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #MasterWHIdx
      PROPERTIES
        Name                #MasterWHIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ERL_MasterWHID
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #OnhandStockOpname
        PROPERTIES
          Name                #OnhandStockOpname
          Table               #ERL_OnhandStockOpname
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InventSiteId
            RelatedField        #InventSiteId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_StockOpname unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_StockOpname
    PROPERTIES
      Name                #ERL_StockOpname
      CreatedDateTime     #Yes
      CreatedBy           #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #OpnameRefrenceId
        STRING
        PROPERTIES
          Name                #OpnameRefrenceId
          Label               #Refrence Id
          Table               #ERL_StockOpname
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_StatusOpnameTag
        ENUM
        PROPERTIES
          Name                #ERL_StatusOpnameTag
          Table               #ERL_StockOpname
          EnumType            #ERL_StatusOpnameTag
        ENDPROPERTIES
        
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #InventSiteId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #PeriodeRecId
        INT64
        PROPERTIES
          Name                #PeriodeRecId
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #ERL_OpnamePeriodeRecId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #GroupRecId
        INT64
        PROPERTIES
          Name                #GroupRecId
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameGroupRecId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #TagNumberStart
        INT
        PROPERTIES
          Name                #TagNumberStart
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameTagNum
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TagNumberEnd
        INT
        PROPERTIES
          Name                #TagNumberEnd
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameTagNum
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Year
        INT
        PROPERTIES
          Name                #Year
          Table               #ERL_StockOpname
          ExtendedDataType    
            ARRAY 
              #Yr
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #OpnameRefrenceId
          #ERL_StatusOpnameTag
          #InventSiteId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #TagNumberIdx
      PROPERTIES
        Name                #TagNumberIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #TagNumberStart
        #TagNumberEnd
      ENDINDEXFIELDS
      
      #PeriodeIdx
      PROPERTIES
        Name                #PeriodeIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #PeriodeRecId
      ENDINDEXFIELDS
      
      #GroupIdx
      PROPERTIES
        Name                #GroupIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #GroupRecId
      ENDINDEXFIELDS
      
      #StatusOpnameIdx
      PROPERTIES
        Name                #StatusOpnameIdx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ERL_StatusOpnameTag
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #ERL_OpnameUserGroup
        #ERL_OpnameUserGroup ERL_OpnameUserGroup(ERl_OpnameGroupRecId recId = this.GroupRecId)
        #{
        #   return ERL_OpnameUserGroup::find(recId);
        #}
      ENDSOURCE
      SOURCE #GroupDesc
        #Display Description GroupDesc()
        #{
        #    return this.ERL_OpnameUserGroup().Description;
        #}
      ENDSOURCE
      SOURCE #Periode
        #Display Description Periode()
        #{
        #    ;
        #    return ERL_OpnamePeriodeEvent::find(this.PeriodeRecId).Description;
        #}
      ENDSOURCE
      SOURCE #find
        #static ERL_StockOpname find(ERL_OpnameRefrenceId      refId)
        #{
        #    ERL_StockOpname  ERL_StockOpname;
        #    ;
        #
        #    if (refId)
        #    {
        #        select firstonly ERL_StockOpname
        #            where ERL_StockOpname.OpnameRefrenceId == refId;
        #    }
        #
        #    return ERL_StockOpname;
        #}
        #
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_StockOpnameLines unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_StockOpnameLines
    PROPERTIES
      Name                #ERL_StockOpnameLines
      CreatedBy           #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #ItemId
        STRING
        PROPERTIES
          Name                #ItemId
          Mandatory           #Yes
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #ItemId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PhysicalQty
        REAL
        PROPERTIES
          Name                #PhysicalQty
          Label               #Quantitiy Android
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #ERL_StockCounted
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_MasterWHID
        STRING
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AdminId
        STRING
        PROPERTIES
          Name                #AdminId
          Label               #Admin Id
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #wMsLocationId
        STRING
        PROPERTIES
          Name                #wMsLocationId
          Label               #Location
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #WMSLocationId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_JournalStatus
        ENUM
        PROPERTIES
          Name                #ERL_JournalStatus
          Table               #ERL_StockOpnameLines
          EnumType            #ERL_JournalStatus
        ENDPROPERTIES
        
      FIELD #OpnameRefrenceId
        STRING
        PROPERTIES
          Name                #OpnameRefrenceId
          Label               #Refrence Id
          Table               #ERL_StockOpnameLines
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_OpnameTagId
        STRING
        PROPERTIES
          Name                #ERL_OpnameTagId
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameTagId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TransDate
        DATE
        PROPERTIES
          Name                #TransDate
          Mandatory           #Yes
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #Username
        STRING
        PROPERTIES
          Name                #Username
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #ERL_UsernameAndroid
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #wMSLocationIdNew
        STRING
        PROPERTIES
          Name                #wMSLocationIdNew
          Label               #New Location
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #WMSLocationId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #LocationFound
        ENUM
        PROPERTIES
          Name                #LocationFound
          Table               #ERL_StockOpnameLines
          ExtendedDataType    
            ARRAY 
              #NoYesId
              #
            ENDARRAY
          EnumType            #NoYes
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
          #PhysicalQty
          #ERL_MasterWHID
          #AdminId
          #wMsLocationId
          #ERL_JournalStatus
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ItemIdIdx
      PROPERTIES
        Name                #ItemIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
      ENDINDEXFIELDS
      
      #ERL_MasterWhIDx
      PROPERTIES
        Name                #ERL_MasterWhIDx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ERL_MasterWHID
      ENDINDEXFIELDS
      
      #RecIdIdx
      PROPERTIES
        Name                #RecIdIdx
        AllowDuplicates     #No
      ENDPROPERTIES
      
      INDEXFIELDS
        #RecId
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #ERL_StockOpname
        PROPERTIES
          Name                #ERL_StockOpname
          Table               #ERL_StockOpname
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #OpnameRefrenceId
            RelatedField        #OpnameRefrenceId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WHStockOpname
        PROPERTIES
          Name                #WHStockOpname
          Table               #ERL_WHStockOpname
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #ERL_MasterWHID
            RelatedField        #ERL_MasterWHID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      Version: 3
      SOURCE #Onhand
        #display Qty Onhand(ERL_StockOpnameLines _lines)
        #{
        #    ERL_WHStockOpname       whstock;
        #    InventDim               iDim;
        #    InventSum               iSum;
        #    Qty                     onhand;
        #
        #    while select whstock where _lines.ERL_MasterWHID == whstock.ERL_MasterWHID
        #    {
        #        select iDim where idim.InventLocationId == whstock.InventLocationId
        #            && idim.wMSLocationId == _lines.wMSLocationId;
        #        if(idim.inventDimId){
        #            select isum where isum.InventDimId == idim.inventDimId
        #                && isum.ItemId == _lines.ItemId;
        #            onhand += isum.AvailPhysical;
        #
        #        }else {
        #            onhand = 0;
        #        }
        #    }
        #    return onhand;
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : ERL_StockOpnameTemp unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #ERL_StockOpnameTemp
    PROPERTIES
      Name                #ERL_StockOpnameTemp
      CreatedBy           #Yes
    ENDPROPERTIES
    
    FIELDS
      FIELD #ItemId
        STRING
        PROPERTIES
          Name                #ItemId
          Mandatory           #Yes
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #ItemId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PhysicalQty
        REAL
        PROPERTIES
          Name                #PhysicalQty
          Label               #Quantitiy Android
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #Qty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_MasterWHID
        STRING
        PROPERTIES
          Name                #ERL_MasterWHID
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #ERL_MasterWHID
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AdminId
        STRING
        PROPERTIES
          Name                #AdminId
          Label               #Admin Id
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #EmplId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #wMSLocationId
        STRING
        PROPERTIES
          Name                #wMSLocationId
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #WMSLocationId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #ERL_JournalStatus
        ENUM
        PROPERTIES
          Name                #ERL_JournalStatus
          Table               #ERL_StockOpnameTemp
          EnumType            #ERL_JournalStatus
        ENDPROPERTIES
        
      FIELD #OpnameRefrenceId
        STRING
        PROPERTIES
          Name                #OpnameRefrenceId
          Label               #Refrence Id
          Table               #ERL_StockOpnameTemp
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ERL_OpnameTagId
        STRING
        PROPERTIES
          Name                #ERL_OpnameTagId
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #ERL_OpnameTagId
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #TransDate
        DATE
        PROPERTIES
          Name                #TransDate
          Mandatory           #Yes
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #JournalTransDate
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #InventQty
        REAL
        PROPERTIES
          Name                #InventQty
          Label               #Quantitiy Android
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #Qty
              #
            ENDARRAY
        ENDPROPERTIES
        
      FIELD #InventTransId
        STRING
        PROPERTIES
          Name                #InventTransId
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #InventTransId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InventDimId
        STRING
        PROPERTIES
          Name                #InventDimId
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #InventDimId
              #
            ENDARRAY
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #OpnamePeriode
        STRING
        PROPERTIES
          Name                #OpnamePeriode
          Label               #Opname Periode
          Table               #ERL_StockOpnameTemp
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #Dimension
        STRING
        PROPERTIES
          Name                #Dimension
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #Dimension
              #
            ENDARRAY
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #InventOnHand
        REAL
        PROPERTIES
          Name                #InventOnHand
          HelpText            #@SYS4957
          Table               #ERL_StockOpnameTemp
          ExtendedDataType    
            ARRAY 
              #InventQtyOnHand
              #
            ENDARRAY
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #Overview
        PROPERTIES
          Name                #Overview
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemId
          #PhysicalQty
          #ERL_MasterWHID
          #AdminId
          #wMSLocationId
          #ERL_JournalStatus
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #ItemIdIdx
      PROPERTIES
        Name                #ItemIdIdx
      ENDPROPERTIES
      
      INDEXFIELDS
      ENDINDEXFIELDS
      
      #ERL_MasterWhIDx
      PROPERTIES
        Name                #ERL_MasterWhIDx
      ENDPROPERTIES
      
      INDEXFIELDS
        #ERL_MasterWHID
      ENDINDEXFIELDS
      
    ENDINDICES
    REFERENCES
      REFERENCE #ERL_StockOpname
        PROPERTIES
          Name                #ERL_StockOpname
          Table               #ERL_StockOpname
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #OpnameRefrenceId
            RelatedField        #OpnameRefrenceId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
  ENDTABLE
  

***Element: PRN

; Microsoft Dynamics AX Project : ERL_IS_StockOpname unloaded
; --------------------------------------------------------------------------------
  PROJECTVERSION 2
  
  PROJECT #ERL_IS_StockOpname
   SHARED
  PROPERTIES
    Name                #ERL_IS_StockOpname
  ENDPROPERTIES
  
    PROJECTCLASS ProjectNode
    GROUP #Views
      PROPERTIES
        Name                #Views
        ProjectGroupType    #Views
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51462
        NODETYPE 243
        NAME #ERL_StockOpnameNewLoc
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51461
        NODETYPE 243
        NAME #ERL_StockOpnameInquiries
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51454
        NODETYPE 243
        NAME #ERL_OnhandStockOpname
      ENDNODE
      ENDGROUP
      
    GROUP #Queries
      PROPERTIES
        Name                #Queries
        ProjectGroupType    #Queries
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 20
        UTILOBJECTID 0
        NODETYPE 330
        NAME #ERL_StockOpnameNewLoc
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 20
        UTILOBJECTID 0
        NODETYPE 330
        NAME #ERL_StockOpnameInquiries
      ENDNODE
      ENDGROUP
      
    GROUP #Classes
      PROPERTIES
        Name                #Classes
        ProjectGroupType    #Classes
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50434
        NODETYPE 329
        NAME #ERL_TransferInventory
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50433
        NODETYPE 329
        NAME #ERL_CancelStockOpname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 45
        UTILOBJECTID 50432
        NODETYPE 329
        NAME #ERL_TransferStockOpname
      ENDNODE
      ENDGROUP
      
    GROUP #Jobs
      PROPERTIES
        Name                #Jobs
        ProjectGroupType    #Jobs
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #UpdateLines
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #EnumValues
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #createJour
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 5
        UTILOBJECTID 0
        NODETYPE 215
        NAME #Job2
      ENDNODE
      ENDGROUP
      
    GROUP #MenuItems
      PROPERTIES
        Name                #MenuItems
        ProjectGroupType    #MenuItems
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #Display
        PROPERTIES
          Name                #Display
          ProjectGroupType    #Display
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #ERL_StockOpnameInquiries
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #ERL_StockOpnameNewLoc
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #ERL_OpnameUserGroup
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #ERL_StockOpname
        ENDNODE
        ENDGROUP
        
      GROUP #Action
        PROPERTIES
          Name                #Action
          ProjectGroupType    #Action
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 3
          UTILOBJECTID 0
          NODETYPE 296
          NAME #ERL_TransferStockOpname
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    GROUP #Tables
      PROPERTIES
        Name                #Tables
        ProjectGroupType    #Tables
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 155
        NODETYPE 204
        NAME #InventJournalTrans
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 154
        NODETYPE 204
        NAME #InventJournalTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 50298
        NODETYPE 204
        NAME #AGR_GradeItem
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 175
        NODETYPE 204
        NAME #InventTable
      ENDNODE
      ENDGROUP
      
    GROUP #Enum
      PROPERTIES
        Name                #Enum
        ProjectGroupType    #BaseEnums
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 40
        UTILOBJECTID 50169
        NODETYPE 209
        NAME #ERL_JournalStatus
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 40
        UTILOBJECTID 50170
        NODETYPE 209
        NAME #ERL_StatusOpnameTag
      ENDNODE
      ENDGROUP
      
    GROUP #EDT
      PROPERTIES
        Name                #EDT
        ProjectGroupType    #ExtendedDataTypes
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50335
        NODETYPE 228
        NAME #LocationFound
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50334
        NODETYPE 232
        NAME #ERL_OpnameTagNum
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50328
        NODETYPE 234
        NAME #ERL_OpnameTagId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50327
        NODETYPE 234
        NAME #ERL_OpnameID
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50326
        NODETYPE 234
        NAME #ERL_OpnameRefrenceId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50325
        NODETYPE 233
        NAME #ERL_StockCounted
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50324
        NODETYPE 234
        NAME #ERL_OpnamePeriodeId
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 41
        UTILOBJECTID 50323
        NODETYPE 234
        NAME #ERL_MasterWHID
      ENDNODE
      ENDGROUP
      
    GROUP #Form
      PROPERTIES
        Name                #Form
        ProjectGroupType    #Forms
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_LinesStockOpname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_StockOpnameNewLoc
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_StockOpnameInquiries
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_OnhandStockOpname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_OpnameHistory
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_OpnameSetting
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #ERL_StockOpname
      ENDNODE
      GROUP #FormUser
        PROPERTIES
          Name                #FormUser
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #ERL_OpnameUserAndroid
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #ERL_OpnamePeriodeEvent
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #ERL_OpnameUserGroup
        ENDNODE
        ENDGROUP
        
      GROUP #FormTujuan
        PROPERTIES
          Name                #FormTujuan
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #erl_journalOP
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #InventJournalCount
        ENDNODE
        ENDGROUP
        
      GROUP #ex
        PROPERTIES
          Name                #ex
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #CopyOfERL_OpnameHistory
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #ERL_UserLoginAndroid
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 11
          UTILOBJECTID 0
          NODETYPE 201
          NAME #ERL_UserStockOpname
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    GROUP #NewTables
      PROPERTIES
        Name                #NewTables
        ProjectGroupType    #Tables
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51452
        NODETYPE 204
        NAME #ERL_GradeStockOpname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51444
        NODETYPE 204
        NAME #ERL_OpnamePeriodeEvent
      ENDNODE
      GROUP #BackUp
        PROPERTIES
          Name                #BackUp
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        GROUP #Change
          PROPERTIES
            Name                #Change
            ProjectGroupType    #All
            GroupMask           #
            PreventEditProperties #No
          ENDPROPERTIES
          
          BEGINNODE
            FILETYPE 0
            UTILTYPE 44
            UTILOBJECTID 51444
            NODETYPE 204
            NAME #ERL_OpnamePeriodeEvent
          ENDNODE
          BEGINNODE
            FILETYPE 0
            UTILTYPE 44
            UTILOBJECTID 51442
            NODETYPE 204
            NAME #ERL_OpnameUserAndroid
          ENDNODE
          BEGINNODE
            FILETYPE 0
            UTILTYPE 44
            UTILOBJECTID 51443
            NODETYPE 204
            NAME #ERL_OpnameUserGroup
          ENDNODE
          BEGINNODE
            FILETYPE 0
            UTILTYPE 44
            UTILOBJECTID 51445
            NODETYPE 204
            NAME #ERL_OpnameUserGroupMap
          ENDNODE
          ENDGROUP
          
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51432
          NODETYPE 204
          NAME #ERL_TagMapping
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51429
          NODETYPE 204
          NAME #ERL_StockOpname2
        ENDNODE
        ENDGROUP
        
      GROUP #UserLogin
        PROPERTIES
          Name                #UserLogin
          ProjectGroupType    #All
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51433
          NODETYPE 204
          NAME #ERL_OpnameTag2
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51426
          NODETYPE 204
          NAME #ERL_UserStockOpnameMap
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51420
          NODETYPE 204
          NAME #ERL_OpnamePeriode
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51419
          NODETYPE 204
          NAME #ERL_OpnameGroup
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 51418
          NODETYPE 204
          NAME #ERL_UserLoginAndroid
        ENDNODE
        ENDGROUP
        
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51448
        NODETYPE 204
        NAME #ERL_OpnameStatus
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51447
        NODETYPE 204
        NAME #ERL_OpnameCostCenter
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51427
        NODETYPE 204
        NAME #ERL_WHStockOpname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51437
        NODETYPE 204
        NAME #ERL_StockOpname
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51438
        NODETYPE 204
        NAME #ERL_StockOpnameLines
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 44
        UTILOBJECTID 51440
        NODETYPE 204
        NAME #ERL_StockOpnameTemp
      ENDNODE
      ENDGROUP
      
  ENDPROJECT
  

***Element: END
